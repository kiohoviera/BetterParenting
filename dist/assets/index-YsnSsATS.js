var lw=t=>{throw TypeError(t)};var Xf=(t,e,n)=>e.has(t)||lw("Cannot "+n);var $=(t,e,n)=>(Xf(t,e,"read from private field"),n?n.call(t):e.get(t)),De=(t,e,n)=>e.has(t)?lw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ve=(t,e,n,r)=>(Xf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),zt=(t,e,n)=>(Xf(t,e,"access private method"),n);var gu=(t,e,n,r)=>({set _(s){ve(t,e,s,n)},get _(){return $(t,e,r)}});function vA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function XE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JE={exports:{}},Ph={},ZE={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=Symbol.for("react.element"),xA=Symbol.for("react.portal"),wA=Symbol.for("react.fragment"),_A=Symbol.for("react.strict_mode"),EA=Symbol.for("react.profiler"),bA=Symbol.for("react.provider"),TA=Symbol.for("react.context"),SA=Symbol.for("react.forward_ref"),CA=Symbol.for("react.suspense"),IA=Symbol.for("react.memo"),PA=Symbol.for("react.lazy"),cw=Symbol.iterator;function NA(t){return t===null||typeof t!="object"?null:(t=cw&&t[cw]||t["@@iterator"],typeof t=="function"?t:null)}var e1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t1=Object.assign,n1={};function Na(t,e,n){this.props=t,this.context=e,this.refs=n1,this.updater=n||e1}Na.prototype.isReactComponent={};Na.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Na.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r1(){}r1.prototype=Na.prototype;function Fg(t,e,n){this.props=t,this.context=e,this.refs=n1,this.updater=n||e1}var Ug=Fg.prototype=new r1;Ug.constructor=Fg;t1(Ug,Na.prototype);Ug.isPureReactComponent=!0;var uw=Array.isArray,s1=Object.prototype.hasOwnProperty,$g={current:null},i1={key:!0,ref:!0,__self:!0,__source:!0};function o1(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)s1.call(e,r)&&!i1.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:kc,type:t,key:i,ref:o,props:s,_owner:$g.current}}function AA(t,e){return{$$typeof:kc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zg(t){return typeof t=="object"&&t!==null&&t.$$typeof===kc}function RA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dw=/\/+/g;function Jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RA(""+t.key):e.toString(36)}function Qu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kc:case xA:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Jf(o,0):r,uw(s)?(n="",t!=null&&(n=t.replace(dw,"$&/")+"/"),Qu(s,e,n,"",function(d){return d})):s!=null&&(zg(s)&&(s=AA(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(dw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",uw(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Jf(i,a);o+=Qu(i,e,n,c,s)}else if(c=NA(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Jf(i,a++),o+=Qu(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yu(t,e,n){if(t==null)return t;var r=[],s=0;return Qu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function kA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},Yu={transition:null},jA={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Yu,ReactCurrentOwner:$g};function a1(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:yu,forEach:function(t,e,n){yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yu(t,function(){e++}),e},toArray:function(t){return yu(t,function(e){return e})||[]},only:function(t){if(!zg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Na;we.Fragment=wA;we.Profiler=EA;we.PureComponent=Fg;we.StrictMode=_A;we.Suspense=CA;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jA;we.act=a1;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=t1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=$g.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)s1.call(e,c)&&!i1.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:kc,type:t.type,key:s,ref:i,props:r,_owner:o}};we.createContext=function(t){return t={$$typeof:TA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bA,_context:t},t.Consumer=t};we.createElement=o1;we.createFactory=function(t){var e=o1.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:SA,render:t}};we.isValidElement=zg;we.lazy=function(t){return{$$typeof:PA,_payload:{_status:-1,_result:t},_init:kA}};we.memo=function(t,e){return{$$typeof:IA,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=Yu.transition;Yu.transition={};try{t()}finally{Yu.transition=e}};we.unstable_act=a1;we.useCallback=function(t,e){return on.current.useCallback(t,e)};we.useContext=function(t){return on.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return on.current.useDeferredValue(t)};we.useEffect=function(t,e){return on.current.useEffect(t,e)};we.useId=function(){return on.current.useId()};we.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return on.current.useMemo(t,e)};we.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};we.useRef=function(t){return on.current.useRef(t)};we.useState=function(t){return on.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return on.current.useTransition()};we.version="18.3.1";ZE.exports=we;var y=ZE.exports;const q=XE(y),l1=vA({__proto__:null,default:q},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DA=y,OA=Symbol.for("react.element"),MA=Symbol.for("react.fragment"),LA=Object.prototype.hasOwnProperty,VA=DA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FA={key:!0,ref:!0,__self:!0,__source:!0};function c1(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LA.call(e,r)&&!FA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:OA,type:t,key:i,ref:o,props:s,_owner:VA.current}}Ph.Fragment=MA;Ph.jsx=c1;Ph.jsxs=c1;JE.exports=Ph;var l=JE.exports,u1={exports:{}},Dn={},d1={exports:{}},h1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,W){var ne=M.length;M.push(W);e:for(;0<ne;){var J=ne-1>>>1,re=M[J];if(0<s(re,W))M[J]=W,M[ne]=re,ne=J;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var W=M[0],ne=M.pop();if(ne!==W){M[0]=ne;e:for(var J=0,re=M.length,ce=re>>>1;J<ce;){var B=2*(J+1)-1,ee=M[B],K=B+1,Se=M[K];if(0>s(ee,ne))K<re&&0>s(Se,ee)?(M[J]=Se,M[K]=ne,J=K):(M[J]=ee,M[B]=ne,J=B);else if(K<re&&0>s(Se,ne))M[J]=Se,M[K]=ne,J=K;else break e}}return W}function s(M,W){var ne=M.sortIndex-W.sortIndex;return ne!==0?ne:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,m=null,f=3,g=!1,b=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(M){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=M)r(d),W.sortIndex=W.expirationTime,e(c,W);else break;W=n(d)}}function A(M){if(w=!1,T(M),!b)if(n(c)!==null)b=!0,Q(j);else{var W=n(d);W!==null&&le(A,W.startTime-M)}}function j(M,W){b=!1,w&&(w=!1,_(C),C=-1),g=!0;var ne=f;try{for(T(W),m=n(c);m!==null&&(!(m.expirationTime>W)||M&&!k());){var J=m.callback;if(typeof J=="function"){m.callback=null,f=m.priorityLevel;var re=J(m.expirationTime<=W);W=t.unstable_now(),typeof re=="function"?m.callback=re:m===n(c)&&r(c),T(W)}else r(c);m=n(c)}if(m!==null)var ce=!0;else{var B=n(d);B!==null&&le(A,B.startTime-W),ce=!1}return ce}finally{m=null,f=ne,g=!1}}var O=!1,I=null,C=-1,S=5,P=-1;function k(){return!(t.unstable_now()-P<S)}function D(){if(I!==null){var M=t.unstable_now();P=M;var W=!0;try{W=I(!0,M)}finally{W?R():(O=!1,I=null)}}else O=!1}var R;if(typeof v=="function")R=function(){v(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,H=z.port2;z.port1.onmessage=D,R=function(){H.postMessage(null)}}else R=function(){E(D,0)};function Q(M){I=M,O||(O=!0,R())}function le(M,W){C=E(function(){M(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,Q(j))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var ne=f;f=W;try{return M()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ne=f;f=M;try{return W()}finally{f=ne}},t.unstable_scheduleCallback=function(M,W,ne){var J=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?J+ne:J):ne=J,M){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ne+re,M={id:h++,callback:W,priorityLevel:M,startTime:ne,expirationTime:re,sortIndex:-1},ne>J?(M.sortIndex=ne,e(d,M),n(c)===null&&M===n(d)&&(w?(_(C),C=-1):w=!0,le(A,ne-J))):(M.sortIndex=re,e(c,M),b||g||(b=!0,Q(j))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var W=f;return function(){var ne=f;f=W;try{return M.apply(this,arguments)}finally{f=ne}}}})(h1);d1.exports=h1;var UA=d1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $A=y,jn=UA;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f1=new Set,Gl={};function ao(t,e){ca(t,e),ca(t+"Capture",e)}function ca(t,e){for(Gl[t]=e,t=0;t<e.length;t++)f1.add(e[t])}var ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=Object.prototype.hasOwnProperty,zA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hw={},fw={};function BA(t){return Zm.call(fw,t)?!0:Zm.call(hw,t)?!1:zA.test(t)?fw[t]=!0:(hw[t]=!0,!1)}function WA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HA(t,e,n,r){if(e===null||typeof e>"u"||WA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bg=/[\-:]([a-z])/g;function Wg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bg,Wg);Mt[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bg,Wg);Mt[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bg,Wg);Mt[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hg(t,e,n,r){var s=Mt.hasOwnProperty(e)?Mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HA(e,n,s,r)&&(n=null),r||s===null?BA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ds=$A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vu=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),qg=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),m1=Symbol.for("react.provider"),p1=Symbol.for("react.context"),Gg=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),Kg=Symbol.for("react.memo"),As=Symbol.for("react.lazy"),g1=Symbol.for("react.offscreen"),mw=Symbol.iterator;function cl(t){return t===null||typeof t!="object"?null:(t=mw&&t[mw]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Zf;function wl(t){if(Zf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zf=e&&e[1]||""}return`
`+Zf+t}var em=!1;function tm(t,e){if(!t||em)return"";em=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{em=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wl(t):""}function qA(t){switch(t.tag){case 5:return wl(t.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return t=tm(t.type,!1),t;case 11:return t=tm(t.type.render,!1),t;case 1:return t=tm(t.type,!0),t;default:return""}}function rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case Io:return"Portal";case ep:return"Profiler";case qg:return"StrictMode";case tp:return"Suspense";case np:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case p1:return(t.displayName||"Context")+".Consumer";case m1:return(t._context.displayName||"Context")+".Provider";case Gg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kg:return e=t.displayName||null,e!==null?e:rp(t.type)||"Memo";case As:e=t._payload,t=t._init;try{return rp(t(e))}catch{}}return null}function GA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(e);case 8:return e===qg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KA(t){var e=y1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xu(t){t._valueTracker||(t._valueTracker=KA(t))}function v1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=y1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sp(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x1(t,e){e=e.checked,e!=null&&Hg(t,"checked",e,!1)}function ip(t,e){x1(t,e);var n=li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?op(t,e.type,n):e.hasOwnProperty("defaultValue")&&op(t,e.type,li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function op(t,e,n){(e!=="number"||bd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _l=Array.isArray;function Uo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+li(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ap(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(_l(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:li(n)}}function w1(t,e){var n=li(e.value),r=li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wu,E1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wu=wu||document.createElement("div"),wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QA=["Webkit","ms","Moz","O"];Object.keys(Al).forEach(function(t){QA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Al[e]=Al[t]})});function b1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Al.hasOwnProperty(t)&&Al[t]?(""+e).trim():e+"px"}function T1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=b1(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var YA=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(t,e){if(e){if(YA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function up(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=null;function Qg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hp=null,$o=null,zo=null;function xw(t){if(t=Oc(t)){if(typeof hp!="function")throw Error(G(280));var e=t.stateNode;e&&(e=jh(e),hp(t.stateNode,t.type,e))}}function S1(t){$o?zo?zo.push(t):zo=[t]:$o=t}function C1(){if($o){var t=$o,e=zo;if(zo=$o=null,xw(t),e)for(t=0;t<e.length;t++)xw(e[t])}}function I1(t,e){return t(e)}function P1(){}var nm=!1;function N1(t,e,n){if(nm)return t(e,n);nm=!0;try{return I1(t,e,n)}finally{nm=!1,($o!==null||zo!==null)&&(P1(),C1())}}function Ql(t,e){var n=t.stateNode;if(n===null)return null;var r=jh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var fp=!1;if(ts)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){fp=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{fp=!1}function XA(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Rl=!1,Td=null,Sd=!1,mp=null,JA={onError:function(t){Rl=!0,Td=t}};function ZA(t,e,n,r,s,i,o,a,c){Rl=!1,Td=null,XA.apply(JA,arguments)}function eR(t,e,n,r,s,i,o,a,c){if(ZA.apply(this,arguments),Rl){if(Rl){var d=Td;Rl=!1,Td=null}else throw Error(G(198));Sd||(Sd=!0,mp=d)}}function lo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ww(t){if(lo(t)!==t)throw Error(G(188))}function tR(t){var e=t.alternate;if(!e){if(e=lo(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ww(s),t;if(i===r)return ww(s),e;i=i.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function R1(t){return t=tR(t),t!==null?k1(t):null}function k1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=k1(t);if(e!==null)return e;t=t.sibling}return null}var j1=jn.unstable_scheduleCallback,_w=jn.unstable_cancelCallback,nR=jn.unstable_shouldYield,rR=jn.unstable_requestPaint,ft=jn.unstable_now,sR=jn.unstable_getCurrentPriorityLevel,Yg=jn.unstable_ImmediatePriority,D1=jn.unstable_UserBlockingPriority,Cd=jn.unstable_NormalPriority,iR=jn.unstable_LowPriority,O1=jn.unstable_IdlePriority,Nh=null,Sr=null;function oR(t){if(Sr&&typeof Sr.onCommitFiberRoot=="function")try{Sr.onCommitFiberRoot(Nh,t,void 0,(t.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:cR,aR=Math.log,lR=Math.LN2;function cR(t){return t>>>=0,t===0?32:31-(aR(t)/lR|0)|0}var _u=64,Eu=4194304;function El(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Id(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=El(a):(i&=o,i!==0&&(r=El(i)))}else o=n&~s,o!==0?r=El(o):i!==0&&(r=El(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nr(e),s=1<<n,r|=t[n],e&=~s;return r}function uR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-nr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=uR(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function pp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function M1(){var t=_u;return _u<<=1,!(_u&4194240)&&(_u=64),t}function rm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nr(e),t[e]=n}function hR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-nr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Xg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Le=0;function L1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var V1,Jg,F1,U1,$1,gp=!1,bu=[],qs=null,Gs=null,Ks=null,Yl=new Map,Xl=new Map,ks=[],fR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ew(t,e){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(e.pointerId)}}function dl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Oc(e),e!==null&&Jg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function mR(t,e,n,r,s){switch(e){case"focusin":return qs=dl(qs,t,e,n,r,s),!0;case"dragenter":return Gs=dl(Gs,t,e,n,r,s),!0;case"mouseover":return Ks=dl(Ks,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Yl.set(i,dl(Yl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Xl.set(i,dl(Xl.get(i)||null,t,e,n,r,s)),!0}return!1}function z1(t){var e=Di(t.target);if(e!==null){var n=lo(e);if(n!==null){if(e=n.tag,e===13){if(e=A1(n),e!==null){t.blockedOn=e,$1(t.priority,function(){F1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dp=r,n.target.dispatchEvent(r),dp=null}else return e=Oc(n),e!==null&&Jg(e),t.blockedOn=n,!1;e.shift()}return!0}function bw(t,e,n){Xu(t)&&n.delete(e)}function pR(){gp=!1,qs!==null&&Xu(qs)&&(qs=null),Gs!==null&&Xu(Gs)&&(Gs=null),Ks!==null&&Xu(Ks)&&(Ks=null),Yl.forEach(bw),Xl.forEach(bw)}function hl(t,e){t.blockedOn===e&&(t.blockedOn=null,gp||(gp=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,pR)))}function Jl(t){function e(s){return hl(s,t)}if(0<bu.length){hl(bu[0],t);for(var n=1;n<bu.length;n++){var r=bu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(qs!==null&&hl(qs,t),Gs!==null&&hl(Gs,t),Ks!==null&&hl(Ks,t),Yl.forEach(e),Xl.forEach(e),n=0;n<ks.length;n++)r=ks[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)z1(n),n.blockedOn===null&&ks.shift()}var Bo=ds.ReactCurrentBatchConfig,Pd=!0;function gR(t,e,n,r){var s=Le,i=Bo.transition;Bo.transition=null;try{Le=1,Zg(t,e,n,r)}finally{Le=s,Bo.transition=i}}function yR(t,e,n,r){var s=Le,i=Bo.transition;Bo.transition=null;try{Le=4,Zg(t,e,n,r)}finally{Le=s,Bo.transition=i}}function Zg(t,e,n,r){if(Pd){var s=yp(t,e,n,r);if(s===null)fm(t,e,r,Nd,n),Ew(t,r);else if(mR(s,t,e,n,r))r.stopPropagation();else if(Ew(t,r),e&4&&-1<fR.indexOf(t)){for(;s!==null;){var i=Oc(s);if(i!==null&&V1(i),i=yp(t,e,n,r),i===null&&fm(t,e,r,Nd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fm(t,e,r,null,n)}}var Nd=null;function yp(t,e,n,r){if(Nd=null,t=Qg(r),t=Di(t),t!==null)if(e=lo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nd=t,null}function B1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sR()){case Yg:return 1;case D1:return 4;case Cd:case iR:return 16;case O1:return 536870912;default:return 16}default:return 16}}var zs=null,ey=null,Ju=null;function W1(){if(Ju)return Ju;var t,e=ey,n=e.length,r,s="value"in zs?zs.value:zs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ju=s.slice(t,1<r?1-r:void 0)}function Zu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tu(){return!0}function Tw(){return!1}function On(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Tu:Tw,this.isPropagationStopped=Tw,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tu)},persist:function(){},isPersistent:Tu}),e}var Aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ty=On(Aa),Dc=st({},Aa,{view:0,detail:0}),vR=On(Dc),sm,im,fl,Ah=st({},Dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ny,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fl&&(fl&&t.type==="mousemove"?(sm=t.screenX-fl.screenX,im=t.screenY-fl.screenY):im=sm=0,fl=t),sm)},movementY:function(t){return"movementY"in t?t.movementY:im}}),Sw=On(Ah),xR=st({},Ah,{dataTransfer:0}),wR=On(xR),_R=st({},Dc,{relatedTarget:0}),om=On(_R),ER=st({},Aa,{animationName:0,elapsedTime:0,pseudoElement:0}),bR=On(ER),TR=st({},Aa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SR=On(TR),CR=st({},Aa,{data:0}),Cw=On(CR),IR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NR[t])?!!e[t]:!1}function ny(){return AR}var RR=st({},Dc,{key:function(t){if(t.key){var e=IR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ny,charCode:function(t){return t.type==="keypress"?Zu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kR=On(RR),jR=st({},Ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iw=On(jR),DR=st({},Dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ny}),OR=On(DR),MR=st({},Aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),LR=On(MR),VR=st({},Ah,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FR=On(VR),UR=[9,13,27,32],ry=ts&&"CompositionEvent"in window,kl=null;ts&&"documentMode"in document&&(kl=document.documentMode);var $R=ts&&"TextEvent"in window&&!kl,H1=ts&&(!ry||kl&&8<kl&&11>=kl),Pw=" ",Nw=!1;function q1(t,e){switch(t){case"keyup":return UR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var No=!1;function zR(t,e){switch(t){case"compositionend":return G1(e);case"keypress":return e.which!==32?null:(Nw=!0,Pw);case"textInput":return t=e.data,t===Pw&&Nw?null:t;default:return null}}function BR(t,e){if(No)return t==="compositionend"||!ry&&q1(t,e)?(t=W1(),Ju=ey=zs=null,No=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return H1&&e.locale!=="ko"?null:e.data;default:return null}}var WR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Aw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WR[t.type]:e==="textarea"}function K1(t,e,n,r){S1(r),e=Ad(e,"onChange"),0<e.length&&(n=new ty("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jl=null,Zl=null;function HR(t){ib(t,0)}function Rh(t){var e=ko(t);if(v1(e))return t}function qR(t,e){if(t==="change")return e}var Q1=!1;if(ts){var am;if(ts){var lm="oninput"in document;if(!lm){var Rw=document.createElement("div");Rw.setAttribute("oninput","return;"),lm=typeof Rw.oninput=="function"}am=lm}else am=!1;Q1=am&&(!document.documentMode||9<document.documentMode)}function kw(){jl&&(jl.detachEvent("onpropertychange",Y1),Zl=jl=null)}function Y1(t){if(t.propertyName==="value"&&Rh(Zl)){var e=[];K1(e,Zl,t,Qg(t)),N1(HR,e)}}function GR(t,e,n){t==="focusin"?(kw(),jl=e,Zl=n,jl.attachEvent("onpropertychange",Y1)):t==="focusout"&&kw()}function KR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rh(Zl)}function QR(t,e){if(t==="click")return Rh(e)}function YR(t,e){if(t==="input"||t==="change")return Rh(e)}function XR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ir=typeof Object.is=="function"?Object.is:XR;function ec(t,e){if(ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zm.call(e,s)||!ir(t[s],e[s]))return!1}return!0}function jw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dw(t,e){var n=jw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jw(n)}}function X1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function J1(){for(var t=window,e=bd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bd(t.document)}return e}function sy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JR(t){var e=J1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&X1(n.ownerDocument.documentElement,n)){if(r!==null&&sy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Dw(n,i);var o=Dw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZR=ts&&"documentMode"in document&&11>=document.documentMode,Ao=null,vp=null,Dl=null,xp=!1;function Ow(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xp||Ao==null||Ao!==bd(r)||(r=Ao,"selectionStart"in r&&sy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dl&&ec(Dl,r)||(Dl=r,r=Ad(vp,"onSelect"),0<r.length&&(e=new ty("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ao)))}function Su(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ro={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},cm={},Z1={};ts&&(Z1=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function kh(t){if(cm[t])return cm[t];if(!Ro[t])return t;var e=Ro[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z1)return cm[t]=e[n];return t}var eb=kh("animationend"),tb=kh("animationiteration"),nb=kh("animationstart"),rb=kh("transitionend"),sb=new Map,Mw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){sb.set(t,e),ao(e,[t])}for(var um=0;um<Mw.length;um++){var dm=Mw[um],ek=dm.toLowerCase(),tk=dm[0].toUpperCase()+dm.slice(1);wi(ek,"on"+tk)}wi(eb,"onAnimationEnd");wi(tb,"onAnimationIteration");wi(nb,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(rb,"onTransitionEnd");ca("onMouseEnter",["mouseout","mouseover"]);ca("onMouseLeave",["mouseout","mouseover"]);ca("onPointerEnter",["pointerout","pointerover"]);ca("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nk=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function Lw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eR(r,e,void 0,t),t.currentTarget=null}function ib(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Lw(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Lw(s,a,d),i=c}}}if(Sd)throw t=mp,Sd=!1,mp=null,t}function Qe(t,e){var n=e[Tp];n===void 0&&(n=e[Tp]=new Set);var r=t+"__bubble";n.has(r)||(ob(e,t,2,!1),n.add(r))}function hm(t,e,n){var r=0;e&&(r|=4),ob(n,t,r,e)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function tc(t){if(!t[Cu]){t[Cu]=!0,f1.forEach(function(n){n!=="selectionchange"&&(nk.has(n)||hm(n,!1,t),hm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cu]||(e[Cu]=!0,hm("selectionchange",!1,e))}}function ob(t,e,n,r){switch(B1(e)){case 1:var s=gR;break;case 4:s=yR;break;default:s=Zg}n=s.bind(null,e,n,t),s=void 0,!fp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function fm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Di(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}N1(function(){var d=i,h=Qg(n),m=[];e:{var f=sb.get(t);if(f!==void 0){var g=ty,b=t;switch(t){case"keypress":if(Zu(n)===0)break e;case"keydown":case"keyup":g=kR;break;case"focusin":b="focus",g=om;break;case"focusout":b="blur",g=om;break;case"beforeblur":case"afterblur":g=om;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Sw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=wR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=OR;break;case eb:case tb:case nb:g=bR;break;case rb:g=LR;break;case"scroll":g=vR;break;case"wheel":g=FR;break;case"copy":case"cut":case"paste":g=SR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Iw}var w=(e&4)!==0,E=!w&&t==="scroll",_=w?f!==null?f+"Capture":null:f;w=[];for(var v=d,T;v!==null;){T=v;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,_!==null&&(A=Ql(v,_),A!=null&&w.push(nc(v,A,T)))),E)break;v=v.return}0<w.length&&(f=new g(f,b,null,n,h),m.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==dp&&(b=n.relatedTarget||n.fromElement)&&(Di(b)||b[ns]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=d,b=b?Di(b):null,b!==null&&(E=lo(b),b!==E||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=d),g!==b)){if(w=Sw,A="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=Iw,A="onPointerLeave",_="onPointerEnter",v="pointer"),E=g==null?f:ko(g),T=b==null?f:ko(b),f=new w(A,v+"leave",g,n,h),f.target=E,f.relatedTarget=T,A=null,Di(h)===d&&(w=new w(_,v+"enter",b,n,h),w.target=T,w.relatedTarget=E,A=w),E=A,g&&b)t:{for(w=g,_=b,v=0,T=w;T;T=xo(T))v++;for(T=0,A=_;A;A=xo(A))T++;for(;0<v-T;)w=xo(w),v--;for(;0<T-v;)_=xo(_),T--;for(;v--;){if(w===_||_!==null&&w===_.alternate)break t;w=xo(w),_=xo(_)}w=null}else w=null;g!==null&&Vw(m,f,g,w,!1),b!==null&&E!==null&&Vw(m,E,b,w,!0)}}e:{if(f=d?ko(d):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=qR;else if(Aw(f))if(Q1)j=YR;else{j=KR;var O=GR}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=QR);if(j&&(j=j(t,d))){K1(m,j,n,h);break e}O&&O(t,f,d),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&op(f,"number",f.value)}switch(O=d?ko(d):window,t){case"focusin":(Aw(O)||O.contentEditable==="true")&&(Ao=O,vp=d,Dl=null);break;case"focusout":Dl=vp=Ao=null;break;case"mousedown":xp=!0;break;case"contextmenu":case"mouseup":case"dragend":xp=!1,Ow(m,n,h);break;case"selectionchange":if(ZR)break;case"keydown":case"keyup":Ow(m,n,h)}var I;if(ry)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else No?q1(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(H1&&n.locale!=="ko"&&(No||C!=="onCompositionStart"?C==="onCompositionEnd"&&No&&(I=W1()):(zs=h,ey="value"in zs?zs.value:zs.textContent,No=!0)),O=Ad(d,C),0<O.length&&(C=new Cw(C,t,null,n,h),m.push({event:C,listeners:O}),I?C.data=I:(I=G1(n),I!==null&&(C.data=I)))),(I=$R?zR(t,n):BR(t,n))&&(d=Ad(d,"onBeforeInput"),0<d.length&&(h=new Cw("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:d}),h.data=I))}ib(m,e)})}function nc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ad(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ql(t,n),i!=null&&r.unshift(nc(t,i,s)),i=Ql(t,e),i!=null&&r.push(nc(t,i,s))),t=t.return}return r}function xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vw(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Ql(n,i),c!=null&&o.unshift(nc(n,c,a))):s||(c=Ql(n,i),c!=null&&o.push(nc(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var rk=/\r\n?/g,sk=/\u0000|\uFFFD/g;function Fw(t){return(typeof t=="string"?t:""+t).replace(rk,`
`).replace(sk,"")}function Iu(t,e,n){if(e=Fw(e),Fw(t)!==e&&n)throw Error(G(425))}function Rd(){}var wp=null,_p=null;function Ep(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,ik=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,ok=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(t){return Uw.resolve(null).then(t).catch(ak)}:bp;function ak(t){setTimeout(function(){throw t})}function mm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Jl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Jl(e)}function Qs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $w(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ra=Math.random().toString(36).slice(2),Er="__reactFiber$"+Ra,rc="__reactProps$"+Ra,ns="__reactContainer$"+Ra,Tp="__reactEvents$"+Ra,lk="__reactListeners$"+Ra,ck="__reactHandles$"+Ra;function Di(t){var e=t[Er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ns]||n[Er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$w(t);t!==null;){if(n=t[Er])return n;t=$w(t)}return e}t=n,n=t.parentNode}return null}function Oc(t){return t=t[Er]||t[ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function jh(t){return t[rc]||null}var Sp=[],jo=-1;function _i(t){return{current:t}}function Xe(t){0>jo||(t.current=Sp[jo],Sp[jo]=null,jo--)}function He(t,e){jo++,Sp[jo]=t.current,t.current=e}var ci={},Jt=_i(ci),gn=_i(!1),Ki=ci;function ua(t,e){var n=t.type.contextTypes;if(!n)return ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yn(t){return t=t.childContextTypes,t!=null}function kd(){Xe(gn),Xe(Jt)}function zw(t,e,n){if(Jt.current!==ci)throw Error(G(168));He(Jt,e),He(gn,n)}function ab(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(G(108,GA(t)||"Unknown",s));return st({},n,r)}function jd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ci,Ki=Jt.current,He(Jt,t),He(gn,gn.current),!0}function Bw(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=ab(t,e,Ki),r.__reactInternalMemoizedMergedChildContext=t,Xe(gn),Xe(Jt),He(Jt,t)):Xe(gn),He(gn,n)}var qr=null,Dh=!1,pm=!1;function lb(t){qr===null?qr=[t]:qr.push(t)}function uk(t){Dh=!0,lb(t)}function Ei(){if(!pm&&qr!==null){pm=!0;var t=0,e=Le;try{var n=qr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qr=null,Dh=!1}catch(s){throw qr!==null&&(qr=qr.slice(t+1)),j1(Yg,Ei),s}finally{Le=e,pm=!1}}return null}var Do=[],Oo=0,Dd=null,Od=0,Vn=[],Fn=0,Qi=null,Kr=1,Qr="";function Ri(t,e){Do[Oo++]=Od,Do[Oo++]=Dd,Dd=t,Od=e}function cb(t,e,n){Vn[Fn++]=Kr,Vn[Fn++]=Qr,Vn[Fn++]=Qi,Qi=t;var r=Kr;t=Qr;var s=32-nr(r)-1;r&=~(1<<s),n+=1;var i=32-nr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Kr=1<<32-nr(e)+s|n<<s|r,Qr=i+t}else Kr=1<<i|n<<s|r,Qr=t}function iy(t){t.return!==null&&(Ri(t,1),cb(t,1,0))}function oy(t){for(;t===Dd;)Dd=Do[--Oo],Do[Oo]=null,Od=Do[--Oo],Do[Oo]=null;for(;t===Qi;)Qi=Vn[--Fn],Vn[Fn]=null,Qr=Vn[--Fn],Vn[Fn]=null,Kr=Vn[--Fn],Vn[Fn]=null}var Rn=null,Pn=null,Ze=!1,er=null;function ub(t,e){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ww(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,Pn=Qs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qi!==null?{id:Kr,overflow:Qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rn=t,Pn=null,!0):!1;default:return!1}}function Cp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ip(t){if(Ze){var e=Pn;if(e){var n=e;if(!Ww(t,e)){if(Cp(t))throw Error(G(418));e=Qs(n.nextSibling);var r=Rn;e&&Ww(t,e)?ub(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Rn=t)}}else{if(Cp(t))throw Error(G(418));t.flags=t.flags&-4097|2,Ze=!1,Rn=t}}}function Hw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function Pu(t){if(t!==Rn)return!1;if(!Ze)return Hw(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ep(t.type,t.memoizedProps)),e&&(e=Pn)){if(Cp(t))throw db(),Error(G(418));for(;e;)ub(t,e),e=Qs(e.nextSibling)}if(Hw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=Qs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=Rn?Qs(t.stateNode.nextSibling):null;return!0}function db(){for(var t=Pn;t;)t=Qs(t.nextSibling)}function da(){Pn=Rn=null,Ze=!1}function ay(t){er===null?er=[t]:er.push(t)}var dk=ds.ReactCurrentBatchConfig;function ml(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function Nu(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qw(t){var e=t._init;return e(t._payload)}function hb(t){function e(_,v){if(t){var T=_.deletions;T===null?(_.deletions=[v],_.flags|=16):T.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=Zs(_,v),_.index=0,_.sibling=null,_}function i(_,v,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<v?(_.flags|=2,v):T):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,T,A){return v===null||v.tag!==6?(v=Em(T,_.mode,A),v.return=_,v):(v=s(v,T),v.return=_,v)}function c(_,v,T,A){var j=T.type;return j===Po?h(_,v,T.props.children,A,T.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===As&&qw(j)===v.type)?(A=s(v,T.props),A.ref=ml(_,v,T),A.return=_,A):(A=od(T.type,T.key,T.props,null,_.mode,A),A.ref=ml(_,v,T),A.return=_,A)}function d(_,v,T,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==T.containerInfo||v.stateNode.implementation!==T.implementation?(v=bm(T,_.mode,A),v.return=_,v):(v=s(v,T.children||[]),v.return=_,v)}function h(_,v,T,A,j){return v===null||v.tag!==7?(v=qi(T,_.mode,A,j),v.return=_,v):(v=s(v,T),v.return=_,v)}function m(_,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Em(""+v,_.mode,T),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vu:return T=od(v.type,v.key,v.props,null,_.mode,T),T.ref=ml(_,null,v),T.return=_,T;case Io:return v=bm(v,_.mode,T),v.return=_,v;case As:var A=v._init;return m(_,A(v._payload),T)}if(_l(v)||cl(v))return v=qi(v,_.mode,T,null),v.return=_,v;Nu(_,v)}return null}function f(_,v,T,A){var j=v!==null?v.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return j!==null?null:a(_,v,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case vu:return T.key===j?c(_,v,T,A):null;case Io:return T.key===j?d(_,v,T,A):null;case As:return j=T._init,f(_,v,j(T._payload),A)}if(_l(T)||cl(T))return j!==null?null:h(_,v,T,A,null);Nu(_,T)}return null}function g(_,v,T,A,j){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(T)||null,a(v,_,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case vu:return _=_.get(A.key===null?T:A.key)||null,c(v,_,A,j);case Io:return _=_.get(A.key===null?T:A.key)||null,d(v,_,A,j);case As:var O=A._init;return g(_,v,T,O(A._payload),j)}if(_l(A)||cl(A))return _=_.get(T)||null,h(v,_,A,j,null);Nu(v,A)}return null}function b(_,v,T,A){for(var j=null,O=null,I=v,C=v=0,S=null;I!==null&&C<T.length;C++){I.index>C?(S=I,I=null):S=I.sibling;var P=f(_,I,T[C],A);if(P===null){I===null&&(I=S);break}t&&I&&P.alternate===null&&e(_,I),v=i(P,v,C),O===null?j=P:O.sibling=P,O=P,I=S}if(C===T.length)return n(_,I),Ze&&Ri(_,C),j;if(I===null){for(;C<T.length;C++)I=m(_,T[C],A),I!==null&&(v=i(I,v,C),O===null?j=I:O.sibling=I,O=I);return Ze&&Ri(_,C),j}for(I=r(_,I);C<T.length;C++)S=g(I,_,C,T[C],A),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?C:S.key),v=i(S,v,C),O===null?j=S:O.sibling=S,O=S);return t&&I.forEach(function(k){return e(_,k)}),Ze&&Ri(_,C),j}function w(_,v,T,A){var j=cl(T);if(typeof j!="function")throw Error(G(150));if(T=j.call(T),T==null)throw Error(G(151));for(var O=j=null,I=v,C=v=0,S=null,P=T.next();I!==null&&!P.done;C++,P=T.next()){I.index>C?(S=I,I=null):S=I.sibling;var k=f(_,I,P.value,A);if(k===null){I===null&&(I=S);break}t&&I&&k.alternate===null&&e(_,I),v=i(k,v,C),O===null?j=k:O.sibling=k,O=k,I=S}if(P.done)return n(_,I),Ze&&Ri(_,C),j;if(I===null){for(;!P.done;C++,P=T.next())P=m(_,P.value,A),P!==null&&(v=i(P,v,C),O===null?j=P:O.sibling=P,O=P);return Ze&&Ri(_,C),j}for(I=r(_,I);!P.done;C++,P=T.next())P=g(I,_,C,P.value,A),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?C:P.key),v=i(P,v,C),O===null?j=P:O.sibling=P,O=P);return t&&I.forEach(function(D){return e(_,D)}),Ze&&Ri(_,C),j}function E(_,v,T,A){if(typeof T=="object"&&T!==null&&T.type===Po&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case vu:e:{for(var j=T.key,O=v;O!==null;){if(O.key===j){if(j=T.type,j===Po){if(O.tag===7){n(_,O.sibling),v=s(O,T.props.children),v.return=_,_=v;break e}}else if(O.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===As&&qw(j)===O.type){n(_,O.sibling),v=s(O,T.props),v.ref=ml(_,O,T),v.return=_,_=v;break e}n(_,O);break}else e(_,O);O=O.sibling}T.type===Po?(v=qi(T.props.children,_.mode,A,T.key),v.return=_,_=v):(A=od(T.type,T.key,T.props,null,_.mode,A),A.ref=ml(_,v,T),A.return=_,_=A)}return o(_);case Io:e:{for(O=T.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===T.containerInfo&&v.stateNode.implementation===T.implementation){n(_,v.sibling),v=s(v,T.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=bm(T,_.mode,A),v.return=_,_=v}return o(_);case As:return O=T._init,E(_,v,O(T._payload),A)}if(_l(T))return b(_,v,T,A);if(cl(T))return w(_,v,T,A);Nu(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,T),v.return=_,_=v):(n(_,v),v=Em(T,_.mode,A),v.return=_,_=v),o(_)):n(_,v)}return E}var ha=hb(!0),fb=hb(!1),Md=_i(null),Ld=null,Mo=null,ly=null;function cy(){ly=Mo=Ld=null}function uy(t){var e=Md.current;Xe(Md),t._currentValue=e}function Pp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wo(t,e){Ld=t,ly=Mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(ly!==t)if(t={context:t,memoizedValue:e,next:null},Mo===null){if(Ld===null)throw Error(G(308));Mo=t,Ld.dependencies={lanes:0,firstContext:t}}else Mo=Mo.next=t;return e}var Oi=null;function dy(t){Oi===null?Oi=[t]:Oi.push(t)}function mb(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,dy(e)):(n.next=s.next,s.next=n),e.interleaved=n,rs(t,r)}function rs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rs=!1;function hy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ys(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,rs(t,n)}return s=r.interleaved,s===null?(e.next=e,dy(r)):(e.next=s.next,s.next=e),r.interleaved=e,rs(t,n)}function ed(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xg(t,n)}}function Gw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Vd(t,e,n,r){var s=t.updateQueue;Rs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,h=d=c=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,w=a;switch(f=e,g=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){m=b.call(g,m,f);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,f=typeof b=="function"?b.call(g,m,f):b,f==null)break e;m=st({},m,f);break e;case 2:Rs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=g,c=m):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xi|=o,t.lanes=o,t.memoizedState=m}}function Kw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var Mc={},Cr=_i(Mc),sc=_i(Mc),ic=_i(Mc);function Mi(t){if(t===Mc)throw Error(G(174));return t}function fy(t,e){switch(He(ic,e),He(sc,t),He(Cr,Mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lp(e,t)}Xe(Cr),He(Cr,e)}function fa(){Xe(Cr),Xe(sc),Xe(ic)}function gb(t){Mi(ic.current);var e=Mi(Cr.current),n=lp(e,t.type);e!==n&&(He(sc,t),He(Cr,n))}function my(t){sc.current===t&&(Xe(Cr),Xe(sc))}var nt=_i(0);function Fd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gm=[];function py(){for(var t=0;t<gm.length;t++)gm[t]._workInProgressVersionPrimary=null;gm.length=0}var td=ds.ReactCurrentDispatcher,ym=ds.ReactCurrentBatchConfig,Yi=0,rt=null,bt=null,Nt=null,Ud=!1,Ol=!1,oc=0,hk=0;function Bt(){throw Error(G(321))}function gy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ir(t[n],e[n]))return!1;return!0}function yy(t,e,n,r,s,i){if(Yi=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,td.current=t===null||t.memoizedState===null?gk:yk,t=n(r,s),Ol){i=0;do{if(Ol=!1,oc=0,25<=i)throw Error(G(301));i+=1,Nt=bt=null,e.updateQueue=null,td.current=vk,t=n(r,s)}while(Ol)}if(td.current=$d,e=bt!==null&&bt.next!==null,Yi=0,Nt=bt=rt=null,Ud=!1,e)throw Error(G(300));return t}function vy(){var t=oc!==0;return oc=0,t}function gr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?rt.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Hn(){if(bt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Nt===null?rt.memoizedState:Nt.next;if(e!==null)Nt=e,bt=t;else{if(t===null)throw Error(G(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Nt===null?rt.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function ac(t,e){return typeof e=="function"?e(t):e}function vm(t){var e=Hn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=bt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((Yi&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=m,o=r):c=c.next=m,rt.lanes|=h,Xi|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,ir(r,e.memoizedState)||(pn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,Xi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xm(t){var e=Hn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ir(i,e.memoizedState)||(pn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function yb(){}function vb(t,e){var n=rt,r=Hn(),s=e(),i=!ir(r.memoizedState,s);if(i&&(r.memoizedState=s,pn=!0),r=r.queue,xy(_b.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,lc(9,wb.bind(null,n,r,s,e),void 0,null),At===null)throw Error(G(349));Yi&30||xb(n,e,s)}return s}function xb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wb(t,e,n,r){e.value=n,e.getSnapshot=r,Eb(e)&&bb(t)}function _b(t,e,n){return n(function(){Eb(e)&&bb(t)})}function Eb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ir(t,n)}catch{return!0}}function bb(t){var e=rs(t,1);e!==null&&rr(e,t,1,-1)}function Qw(t){var e=gr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:t},e.queue=t,t=t.dispatch=pk.bind(null,rt,t),[e.memoizedState,t]}function lc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tb(){return Hn().memoizedState}function nd(t,e,n,r){var s=gr();rt.flags|=t,s.memoizedState=lc(1|e,n,void 0,r===void 0?null:r)}function Oh(t,e,n,r){var s=Hn();r=r===void 0?null:r;var i=void 0;if(bt!==null){var o=bt.memoizedState;if(i=o.destroy,r!==null&&gy(r,o.deps)){s.memoizedState=lc(e,n,i,r);return}}rt.flags|=t,s.memoizedState=lc(1|e,n,i,r)}function Yw(t,e){return nd(8390656,8,t,e)}function xy(t,e){return Oh(2048,8,t,e)}function Sb(t,e){return Oh(4,2,t,e)}function Cb(t,e){return Oh(4,4,t,e)}function Ib(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pb(t,e,n){return n=n!=null?n.concat([t]):null,Oh(4,4,Ib.bind(null,e,t),n)}function wy(){}function Nb(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ab(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Rb(t,e,n){return Yi&21?(ir(n,e)||(n=M1(),rt.lanes|=n,Xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pn=!0),t.memoizedState=n)}function fk(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=ym.transition;ym.transition={};try{t(!1),e()}finally{Le=n,ym.transition=r}}function kb(){return Hn().memoizedState}function mk(t,e,n){var r=Js(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jb(t))Db(e,n);else if(n=mb(t,e,n,r),n!==null){var s=sn();rr(n,t,r,s),Ob(n,e,r)}}function pk(t,e,n){var r=Js(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jb(t))Db(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ir(a,o)){var c=e.interleaved;c===null?(s.next=s,dy(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=mb(t,e,s,r),n!==null&&(s=sn(),rr(n,t,r,s),Ob(n,e,r))}}function jb(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function Db(t,e){Ol=Ud=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ob(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xg(t,n)}}var $d={readContext:Wn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},gk={readContext:Wn,useCallback:function(t,e){return gr().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:Yw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nd(4194308,4,Ib.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return nd(4,2,t,e)},useMemo:function(t,e){var n=gr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mk.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=gr();return t={current:t},e.memoizedState=t},useState:Qw,useDebugValue:wy,useDeferredValue:function(t){return gr().memoizedState=t},useTransition:function(){var t=Qw(!1),e=t[0];return t=fk.bind(null,t[1]),gr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=gr();if(Ze){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),At===null)throw Error(G(349));Yi&30||xb(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Yw(_b.bind(null,r,i,t),[t]),r.flags|=2048,lc(9,wb.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=gr(),e=At.identifierPrefix;if(Ze){var n=Qr,r=Kr;n=(r&~(1<<32-nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yk={readContext:Wn,useCallback:Nb,useContext:Wn,useEffect:xy,useImperativeHandle:Pb,useInsertionEffect:Sb,useLayoutEffect:Cb,useMemo:Ab,useReducer:vm,useRef:Tb,useState:function(){return vm(ac)},useDebugValue:wy,useDeferredValue:function(t){var e=Hn();return Rb(e,bt.memoizedState,t)},useTransition:function(){var t=vm(ac)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:yb,useSyncExternalStore:vb,useId:kb,unstable_isNewReconciler:!1},vk={readContext:Wn,useCallback:Nb,useContext:Wn,useEffect:xy,useImperativeHandle:Pb,useInsertionEffect:Sb,useLayoutEffect:Cb,useMemo:Ab,useReducer:xm,useRef:Tb,useState:function(){return xm(ac)},useDebugValue:wy,useDeferredValue:function(t){var e=Hn();return bt===null?e.memoizedState=t:Rb(e,bt.memoizedState,t)},useTransition:function(){var t=xm(ac)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:yb,useSyncExternalStore:vb,useId:kb,unstable_isNewReconciler:!1};function Yn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Np(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mh={isMounted:function(t){return(t=t._reactInternals)?lo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),s=Js(t),i=Jr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ys(t,i,s),e!==null&&(rr(e,t,s,r),ed(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),s=Js(t),i=Jr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ys(t,i,s),e!==null&&(rr(e,t,s,r),ed(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=Js(t),s=Jr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ys(t,s,r),e!==null&&(rr(e,t,r,n),ed(e,t,r))}};function Xw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ec(n,r)||!ec(s,i):!0}function Mb(t,e,n){var r=!1,s=ci,i=e.contextType;return typeof i=="object"&&i!==null?i=Wn(i):(s=yn(e)?Ki:Jt.current,r=e.contextTypes,i=(r=r!=null)?ua(t,s):ci),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Jw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mh.enqueueReplaceState(e,e.state,null)}function Ap(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},hy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Wn(i):(i=yn(e)?Ki:Jt.current,s.context=ua(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Np(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mh.enqueueReplaceState(s,s.state,null),Vd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ma(t,e){try{var n="",r=e;do n+=qA(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function wm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xk=typeof WeakMap=="function"?WeakMap:Map;function Lb(t,e,n){n=Jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bd||(Bd=!0,$p=r),Rp(t,e)},n}function Vb(t,e,n){n=Jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Rp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Rp(t,e),typeof r!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Zw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=jk.bind(null,t,e,n),e.then(t,t))}function e0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jr(-1,1),e.tag=2,Ys(n,e,1))),n.lanes|=1),t)}var wk=ds.ReactCurrentOwner,pn=!1;function nn(t,e,n,r){e.child=t===null?fb(e,null,n,r):ha(e,t.child,n,r)}function n0(t,e,n,r,s){n=n.render;var i=e.ref;return Wo(e,s),r=yy(t,e,n,r,i,s),n=vy(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ss(t,e,s)):(Ze&&n&&iy(e),e.flags|=1,nn(t,e,r,s),e.child)}function r0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Py(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Fb(t,e,i,r,s)):(t=od(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ec,n(o,r)&&t.ref===e.ref)return ss(t,e,s)}return e.flags|=1,t=Zs(i,r),t.ref=e.ref,t.return=e,e.child=t}function Fb(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ec(i,r)&&t.ref===e.ref)if(pn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(pn=!0);else return e.lanes=t.lanes,ss(t,e,s)}return kp(t,e,n,r,s)}function Ub(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Vo,Sn),Sn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Vo,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,He(Vo,Sn),Sn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,He(Vo,Sn),Sn|=r;return nn(t,e,s,n),e.child}function $b(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kp(t,e,n,r,s){var i=yn(n)?Ki:Jt.current;return i=ua(e,i),Wo(e,s),n=yy(t,e,n,r,i,s),r=vy(),t!==null&&!pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ss(t,e,s)):(Ze&&r&&iy(e),e.flags|=1,nn(t,e,n,s),e.child)}function s0(t,e,n,r,s){if(yn(n)){var i=!0;jd(e)}else i=!1;if(Wo(e,s),e.stateNode===null)rd(t,e),Mb(e,n,r),Ap(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Wn(d):(d=yn(n)?Ki:Jt.current,d=ua(e,d));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Jw(e,o,r,d),Rs=!1;var f=e.memoizedState;o.state=f,Vd(e,r,o,s),c=e.memoizedState,a!==r||f!==c||gn.current||Rs?(typeof h=="function"&&(Np(e,n,h,r),c=e.memoizedState),(a=Rs||Xw(e,n,a,r,f,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,pb(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Yn(e.type,a),o.props=d,m=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Wn(c):(c=yn(n)?Ki:Jt.current,c=ua(e,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||f!==c)&&Jw(e,o,r,c),Rs=!1,f=e.memoizedState,o.state=f,Vd(e,r,o,s);var b=e.memoizedState;a!==m||f!==b||gn.current||Rs?(typeof g=="function"&&(Np(e,n,g,r),b=e.memoizedState),(d=Rs||Xw(e,n,d,r,f,b,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,b,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),o.props=r,o.state=b,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return jp(t,e,n,r,i,s)}function jp(t,e,n,r,s,i){$b(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Bw(e,n,!1),ss(t,e,i);r=e.stateNode,wk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ha(e,t.child,null,i),e.child=ha(e,null,a,i)):nn(t,e,a,i),e.memoizedState=r.state,s&&Bw(e,n,!0),e.child}function zb(t){var e=t.stateNode;e.pendingContext?zw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zw(t,e.context,!1),fy(t,e.containerInfo)}function i0(t,e,n,r,s){return da(),ay(s),e.flags|=256,nn(t,e,n,r),e.child}var Dp={dehydrated:null,treeContext:null,retryLane:0};function Op(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bb(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),He(nt,s&1),t===null)return Ip(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fh(o,r,0,null),t=qi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Op(n),e.memoizedState=Dp,t):_y(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return _k(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Zs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Zs(a,i):(i=qi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Op(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Dp,r}return i=t.child,t=i.sibling,r=Zs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _y(t,e){return e=Fh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Au(t,e,n,r){return r!==null&&ay(r),ha(e,t.child,null,n),t=_y(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _k(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=wm(Error(G(422))),Au(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Fh({mode:"visible",children:r.children},s,0,null),i=qi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ha(e,t.child,null,o),e.child.memoizedState=Op(o),e.memoizedState=Dp,i);if(!(e.mode&1))return Au(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(G(419)),r=wm(i,r,void 0),Au(t,e,o,r)}if(a=(o&t.childLanes)!==0,pn||a){if(r=At,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,rs(t,s),rr(r,t,s,-1))}return Iy(),r=wm(Error(G(421))),Au(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Dk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Pn=Qs(s.nextSibling),Rn=e,Ze=!0,er=null,t!==null&&(Vn[Fn++]=Kr,Vn[Fn++]=Qr,Vn[Fn++]=Qi,Kr=t.id,Qr=t.overflow,Qi=e),e=_y(e,r.children),e.flags|=4096,e)}function o0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pp(t.return,e,n)}function _m(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Wb(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(nn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o0(t,n,e);else if(t.tag===19)o0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Fd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_m(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Fd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_m(e,!0,n,null,i);break;case"together":_m(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ss(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ek(t,e,n){switch(e.tag){case 3:zb(e),da();break;case 5:gb(e);break;case 1:yn(e.type)&&jd(e);break;case 4:fy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;He(Md,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?Bb(t,e,n):(He(nt,nt.current&1),t=ss(t,e,n),t!==null?t.sibling:null);He(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Wb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,Ub(t,e,n)}return ss(t,e,n)}var Hb,Mp,qb,Gb;Hb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mp=function(){};qb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Mi(Cr.current);var i=null;switch(n){case"input":s=sp(t,s),r=sp(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=ap(t,s),r=ap(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rd)}cp(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Gl.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Gl.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Qe("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};Gb=function(t,e,n,r){n!==r&&(e.flags|=4)};function pl(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bk(t,e,n){var r=e.pendingProps;switch(oy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return yn(e.type)&&kd(),Wt(e),null;case 3:return r=e.stateNode,fa(),Xe(gn),Xe(Jt),py(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(Wp(er),er=null))),Mp(t,e),Wt(e),null;case 5:my(e);var s=Mi(ic.current);if(n=e.type,t!==null&&e.stateNode!=null)qb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Wt(e),null}if(t=Mi(Cr.current),Pu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Er]=e,r[rc]=i,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(s=0;s<bl.length;s++)Qe(bl[s],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":pw(r,i),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",r);break;case"textarea":yw(r,i),Qe("invalid",r)}cp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Iu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Iu(r.textContent,a,t),s=["children",""+a]):Gl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":xu(r),gw(r,i,!0);break;case"textarea":xu(r),vw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Rd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Er]=e,t[rc]=r,Hb(t,e,!1,!1),e.stateNode=t;e:{switch(o=up(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),s=r;break;case"iframe":case"object":case"embed":Qe("load",t),s=r;break;case"video":case"audio":for(s=0;s<bl.length;s++)Qe(bl[s],t);s=r;break;case"source":Qe("error",t),s=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),s=r;break;case"details":Qe("toggle",t),s=r;break;case"input":pw(t,r),s=sp(t,r),Qe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":yw(t,r),s=ap(t,r),Qe("invalid",t);break;default:s=r}cp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?T1(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&E1(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Kl(t,c):typeof c=="number"&&Kl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Gl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Qe("scroll",t):c!=null&&Hg(t,i,c,o))}switch(n){case"input":xu(t),gw(t,r,!1);break;case"textarea":xu(t),vw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+li(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Uo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Uo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Rd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)Gb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Mi(ic.current),Mi(Cr.current),Pu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Er]=e,(i=r.nodeValue!==n)&&(t=Rn,t!==null))switch(t.tag){case 3:Iu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Iu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=e,e.stateNode=r}return Wt(e),null;case 13:if(Xe(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Pn!==null&&e.mode&1&&!(e.flags&128))db(),da(),e.flags|=98560,i=!1;else if(i=Pu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(G(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[Er]=e}else da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),i=!1}else er!==null&&(Wp(er),er=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?St===0&&(St=3):Iy())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return fa(),Mp(t,e),t===null&&tc(e.stateNode.containerInfo),Wt(e),null;case 10:return uy(e.type._context),Wt(e),null;case 17:return yn(e.type)&&kd(),Wt(e),null;case 19:if(Xe(nt),i=e.memoizedState,i===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)pl(i,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fd(t),o!==null){for(e.flags|=128,pl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>pa&&(e.flags|=128,r=!0,pl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Fd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ze)return Wt(e),null}else 2*ft()-i.renderingStartTime>pa&&n!==1073741824&&(e.flags|=128,r=!0,pl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=nt.current,He(nt,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return Cy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function Tk(t,e){switch(oy(e),e.tag){case 1:return yn(e.type)&&kd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fa(),Xe(gn),Xe(Jt),py(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return my(e),null;case 13:if(Xe(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(nt),null;case 4:return fa(),null;case 10:return uy(e.type._context),null;case 22:case 23:return Cy(),null;case 24:return null;default:return null}}var Ru=!1,Qt=!1,Sk=typeof WeakSet=="function"?WeakSet:Set,te=null;function Lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function Lp(t,e,n){try{n()}catch(r){ut(t,e,r)}}var a0=!1;function Ck(t,e){if(wp=Pd,t=J1(),sy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,m=t,f=null;t:for(;;){for(var g;m!==n||s!==0&&m.nodeType!==3||(a=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)f=m,m=g;for(;;){if(m===t)break t;if(f===n&&++d===s&&(a=o),f===i&&++h===r&&(c=o),(g=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=g}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(_p={focusedElem:t,selectionRange:n},Pd=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,E=b.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Yn(e.type,w),E);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(A){ut(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return b=a0,a0=!1,b}function Ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Lp(e,n,i)}s=s.next}while(s!==r)}}function Lh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Kb(t){var e=t.alternate;e!==null&&(t.alternate=null,Kb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Er],delete e[rc],delete e[Tp],delete e[lk],delete e[ck])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qb(t){return t.tag===5||t.tag===3||t.tag===4}function l0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rd));else if(r!==4&&(t=t.child,t!==null))for(Fp(t,e,n),t=t.sibling;t!==null;)Fp(t,e,n),t=t.sibling}function Up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Up(t,e,n),t=t.sibling;t!==null;)Up(t,e,n),t=t.sibling}var kt=null,Zn=!1;function Ts(t,e,n){for(n=n.child;n!==null;)Yb(t,e,n),n=n.sibling}function Yb(t,e,n){if(Sr&&typeof Sr.onCommitFiberUnmount=="function")try{Sr.onCommitFiberUnmount(Nh,n)}catch{}switch(n.tag){case 5:Qt||Lo(n,e);case 6:var r=kt,s=Zn;kt=null,Ts(t,e,n),kt=r,Zn=s,kt!==null&&(Zn?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(Zn?(t=kt,n=n.stateNode,t.nodeType===8?mm(t.parentNode,n):t.nodeType===1&&mm(t,n),Jl(t)):mm(kt,n.stateNode));break;case 4:r=kt,s=Zn,kt=n.stateNode.containerInfo,Zn=!0,Ts(t,e,n),kt=r,Zn=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Lp(n,e,o),s=s.next}while(s!==r)}Ts(t,e,n);break;case 1:if(!Qt&&(Lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}Ts(t,e,n);break;case 21:Ts(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,Ts(t,e,n),Qt=r):Ts(t,e,n);break;default:Ts(t,e,n)}}function c0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Sk),e.forEach(function(r){var s=Ok.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,Zn=!1;break e;case 3:kt=a.stateNode.containerInfo,Zn=!0;break e;case 4:kt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(kt===null)throw Error(G(160));Yb(i,o,s),kt=null,Zn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ut(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Xb(e,t),e=e.sibling}function Xb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),pr(t),r&4){try{Ml(3,t,t.return),Lh(3,t)}catch(w){ut(t,t.return,w)}try{Ml(5,t,t.return)}catch(w){ut(t,t.return,w)}}break;case 1:Qn(e,t),pr(t),r&512&&n!==null&&Lo(n,n.return);break;case 5:if(Qn(e,t),pr(t),r&512&&n!==null&&Lo(n,n.return),t.flags&32){var s=t.stateNode;try{Kl(s,"")}catch(w){ut(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&x1(s,i),up(a,o);var d=up(a,i);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?T1(s,m):h==="dangerouslySetInnerHTML"?E1(s,m):h==="children"?Kl(s,m):Hg(s,h,m,d)}switch(a){case"input":ip(s,i);break;case"textarea":w1(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Uo(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Uo(s,!!i.multiple,i.defaultValue,!0):Uo(s,!!i.multiple,i.multiple?[]:"",!1))}s[rc]=i}catch(w){ut(t,t.return,w)}}break;case 6:if(Qn(e,t),pr(t),r&4){if(t.stateNode===null)throw Error(G(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ut(t,t.return,w)}}break;case 3:if(Qn(e,t),pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jl(e.containerInfo)}catch(w){ut(t,t.return,w)}break;case 4:Qn(e,t),pr(t);break;case 13:Qn(e,t),pr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ty=ft())),r&4&&c0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(d=Qt)||h,Qn(e,t),Qt=d):Qn(e,t),pr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(te=t,h=t.child;h!==null;){for(m=te=h;te!==null;){switch(f=te,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ml(4,f,f.return);break;case 1:Lo(f,f.return);var b=f.stateNode;if(typeof b.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(w){ut(r,n,w)}}break;case 5:Lo(f,f.return);break;case 22:if(f.memoizedState!==null){d0(m);continue}}g!==null?(g.return=f,te=g):d0(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=b1("display",o))}catch(w){ut(t,t.return,w)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(w){ut(t,t.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qn(e,t),pr(t),r&4&&c0(t);break;case 21:break;default:Qn(e,t),pr(t)}}function pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Qb(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Kl(s,""),r.flags&=-33);var i=l0(t);Up(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=l0(t);Fp(t,a,o);break;default:throw Error(G(161))}}catch(c){ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ik(t,e,n){te=t,Jb(t)}function Jb(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ru;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Qt;a=Ru;var d=Qt;if(Ru=o,(Qt=c)&&!d)for(te=s;te!==null;)o=te,c=o.child,o.tag===22&&o.memoizedState!==null?h0(s):c!==null?(c.return=o,te=c):h0(s);for(;i!==null;)te=i,Jb(i),i=i.sibling;te=s,Ru=a,Qt=d}u0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):u0(t)}}function u0(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||Lh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Kw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Jl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Qt||e.flags&512&&Vp(e)}catch(f){ut(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function d0(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function h0(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lh(4,e)}catch(c){ut(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ut(e,s,c)}}var i=e.return;try{Vp(e)}catch(c){ut(e,i,c)}break;case 5:var o=e.return;try{Vp(e)}catch(c){ut(e,o,c)}}}catch(c){ut(e,e.return,c)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var Pk=Math.ceil,zd=ds.ReactCurrentDispatcher,Ey=ds.ReactCurrentOwner,zn=ds.ReactCurrentBatchConfig,Re=0,At=null,yt=null,Ot=0,Sn=0,Vo=_i(0),St=0,cc=null,Xi=0,Vh=0,by=0,Ll=null,fn=null,Ty=0,pa=1/0,Hr=null,Bd=!1,$p=null,Xs=null,ku=!1,Bs=null,Wd=0,Vl=0,zp=null,sd=-1,id=0;function sn(){return Re&6?ft():sd!==-1?sd:sd=ft()}function Js(t){return t.mode&1?Re&2&&Ot!==0?Ot&-Ot:dk.transition!==null?(id===0&&(id=M1()),id):(t=Le,t!==0||(t=window.event,t=t===void 0?16:B1(t.type)),t):1}function rr(t,e,n,r){if(50<Vl)throw Vl=0,zp=null,Error(G(185));jc(t,n,r),(!(Re&2)||t!==At)&&(t===At&&(!(Re&2)&&(Vh|=n),St===4&&js(t,Ot)),vn(t,r),n===1&&Re===0&&!(e.mode&1)&&(pa=ft()+500,Dh&&Ei()))}function vn(t,e){var n=t.callbackNode;dR(t,e);var r=Id(t,t===At?Ot:0);if(r===0)n!==null&&_w(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_w(n),e===1)t.tag===0?uk(f0.bind(null,t)):lb(f0.bind(null,t)),ok(function(){!(Re&6)&&Ei()}),n=null;else{switch(L1(r)){case 1:n=Yg;break;case 4:n=D1;break;case 16:n=Cd;break;case 536870912:n=O1;break;default:n=Cd}n=oT(n,Zb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zb(t,e){if(sd=-1,id=0,Re&6)throw Error(G(327));var n=t.callbackNode;if(Ho()&&t.callbackNode!==n)return null;var r=Id(t,t===At?Ot:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Hd(t,r);else{e=r;var s=Re;Re|=2;var i=tT();(At!==t||Ot!==e)&&(Hr=null,pa=ft()+500,Hi(t,e));do try{Rk();break}catch(a){eT(t,a)}while(!0);cy(),zd.current=i,Re=s,yt!==null?e=0:(At=null,Ot=0,e=St)}if(e!==0){if(e===2&&(s=pp(t),s!==0&&(r=s,e=Bp(t,s))),e===1)throw n=cc,Hi(t,0),js(t,r),vn(t,ft()),n;if(e===6)js(t,r);else{if(s=t.current.alternate,!(r&30)&&!Nk(s)&&(e=Hd(t,r),e===2&&(i=pp(t),i!==0&&(r=i,e=Bp(t,i))),e===1))throw n=cc,Hi(t,0),js(t,r),vn(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:ki(t,fn,Hr);break;case 3:if(js(t,r),(r&130023424)===r&&(e=Ty+500-ft(),10<e)){if(Id(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=bp(ki.bind(null,t,fn,Hr),e);break}ki(t,fn,Hr);break;case 4:if(js(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-nr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pk(r/1960))-r,10<r){t.timeoutHandle=bp(ki.bind(null,t,fn,Hr),r);break}ki(t,fn,Hr);break;case 5:ki(t,fn,Hr);break;default:throw Error(G(329))}}}return vn(t,ft()),t.callbackNode===n?Zb.bind(null,t):null}function Bp(t,e){var n=Ll;return t.current.memoizedState.isDehydrated&&(Hi(t,e).flags|=256),t=Hd(t,e),t!==2&&(e=fn,fn=n,e!==null&&Wp(e)),t}function Wp(t){fn===null?fn=t:fn.push.apply(fn,t)}function Nk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ir(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function js(t,e){for(e&=~by,e&=~Vh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nr(e),r=1<<n;t[n]=-1,e&=~r}}function f0(t){if(Re&6)throw Error(G(327));Ho();var e=Id(t,0);if(!(e&1))return vn(t,ft()),null;var n=Hd(t,e);if(t.tag!==0&&n===2){var r=pp(t);r!==0&&(e=r,n=Bp(t,r))}if(n===1)throw n=cc,Hi(t,0),js(t,e),vn(t,ft()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ki(t,fn,Hr),vn(t,ft()),null}function Sy(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(pa=ft()+500,Dh&&Ei())}}function Ji(t){Bs!==null&&Bs.tag===0&&!(Re&6)&&Ho();var e=Re;Re|=1;var n=zn.transition,r=Le;try{if(zn.transition=null,Le=1,t)return t()}finally{Le=r,zn.transition=n,Re=e,!(Re&6)&&Ei()}}function Cy(){Sn=Vo.current,Xe(Vo)}function Hi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ik(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(oy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kd();break;case 3:fa(),Xe(gn),Xe(Jt),py();break;case 5:my(r);break;case 4:fa();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:uy(r.type._context);break;case 22:case 23:Cy()}n=n.return}if(At=t,yt=t=Zs(t.current,null),Ot=Sn=e,St=0,cc=null,by=Vh=Xi=0,fn=Ll=null,Oi!==null){for(e=0;e<Oi.length;e++)if(n=Oi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Oi=null}return t}function eT(t,e){do{var n=yt;try{if(cy(),td.current=$d,Ud){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ud=!1}if(Yi=0,Nt=bt=rt=null,Ol=!1,oc=0,Ey.current=null,n===null||n.return===null){St=1,cc=e,yt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Ot,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=e0(o);if(g!==null){g.flags&=-257,t0(g,o,a,i,e),g.mode&1&&Zw(i,d,e),e=g,c=d;var b=e.updateQueue;if(b===null){var w=new Set;w.add(c),e.updateQueue=w}else b.add(c);break e}else{if(!(e&1)){Zw(i,d,e),Iy();break e}c=Error(G(426))}}else if(Ze&&a.mode&1){var E=e0(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),t0(E,o,a,i,e),ay(ma(c,a));break e}}i=c=ma(c,a),St!==4&&(St=2),Ll===null?Ll=[i]:Ll.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=Lb(i,c,e);Gw(i,_);break e;case 1:a=c;var v=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Xs===null||!Xs.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=Vb(i,a,e);Gw(i,A);break e}}i=i.return}while(i!==null)}rT(n)}catch(j){e=j,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function tT(){var t=zd.current;return zd.current=$d,t===null?$d:t}function Iy(){(St===0||St===3||St===2)&&(St=4),At===null||!(Xi&268435455)&&!(Vh&268435455)||js(At,Ot)}function Hd(t,e){var n=Re;Re|=2;var r=tT();(At!==t||Ot!==e)&&(Hr=null,Hi(t,e));do try{Ak();break}catch(s){eT(t,s)}while(!0);if(cy(),Re=n,zd.current=r,yt!==null)throw Error(G(261));return At=null,Ot=0,St}function Ak(){for(;yt!==null;)nT(yt)}function Rk(){for(;yt!==null&&!nR();)nT(yt)}function nT(t){var e=iT(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?rT(t):yt=e,Ey.current=null}function rT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Tk(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,yt=null;return}}else if(n=bk(n,e,Sn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);St===0&&(St=5)}function ki(t,e,n){var r=Le,s=zn.transition;try{zn.transition=null,Le=1,kk(t,e,n,r)}finally{zn.transition=s,Le=r}return null}function kk(t,e,n,r){do Ho();while(Bs!==null);if(Re&6)throw Error(G(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(hR(t,i),t===At&&(yt=At=null,Ot=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ku||(ku=!0,oT(Cd,function(){return Ho(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=zn.transition,zn.transition=null;var o=Le;Le=1;var a=Re;Re|=4,Ey.current=null,Ck(t,n),Xb(n,t),JR(_p),Pd=!!wp,_p=wp=null,t.current=n,Ik(n),rR(),Re=a,Le=o,zn.transition=i}else t.current=n;if(ku&&(ku=!1,Bs=t,Wd=s),i=t.pendingLanes,i===0&&(Xs=null),oR(n.stateNode),vn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Bd)throw Bd=!1,t=$p,$p=null,t;return Wd&1&&t.tag!==0&&Ho(),i=t.pendingLanes,i&1?t===zp?Vl++:(Vl=0,zp=t):Vl=0,Ei(),null}function Ho(){if(Bs!==null){var t=L1(Wd),e=zn.transition,n=Le;try{if(zn.transition=null,Le=16>t?16:t,Bs===null)var r=!1;else{if(t=Bs,Bs=null,Wd=0,Re&6)throw Error(G(331));var s=Re;for(Re|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(te=d;te!==null;){var h=te;switch(h.tag){case 0:case 11:case 15:Ml(8,h,i)}var m=h.child;if(m!==null)m.return=h,te=m;else for(;te!==null;){h=te;var f=h.sibling,g=h.return;if(Kb(h),h===d){te=null;break}if(f!==null){f.return=g,te=f;break}te=g}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ml(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,te=_;break e}te=i.return}}var v=t.current;for(te=v;te!==null;){o=te;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,te=T;else e:for(o=v;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Lh(9,a)}}catch(j){ut(a,a.return,j)}if(a===o){te=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,te=A;break e}te=a.return}}if(Re=s,Ei(),Sr&&typeof Sr.onPostCommitFiberRoot=="function")try{Sr.onPostCommitFiberRoot(Nh,t)}catch{}r=!0}return r}finally{Le=n,zn.transition=e}}return!1}function m0(t,e,n){e=ma(n,e),e=Lb(t,e,1),t=Ys(t,e,1),e=sn(),t!==null&&(jc(t,1,e),vn(t,e))}function ut(t,e,n){if(t.tag===3)m0(t,t,n);else for(;e!==null;){if(e.tag===3){m0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xs===null||!Xs.has(r))){t=ma(n,t),t=Vb(e,t,1),e=Ys(e,t,1),t=sn(),e!==null&&(jc(e,1,t),vn(e,t));break}}e=e.return}}function jk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,At===t&&(Ot&n)===n&&(St===4||St===3&&(Ot&130023424)===Ot&&500>ft()-Ty?Hi(t,0):by|=n),vn(t,e)}function sT(t,e){e===0&&(t.mode&1?(e=Eu,Eu<<=1,!(Eu&130023424)&&(Eu=4194304)):e=1);var n=sn();t=rs(t,e),t!==null&&(jc(t,e,n),vn(t,n))}function Dk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sT(t,n)}function Ok(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),sT(t,n)}var iT;iT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gn.current)pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pn=!1,Ek(t,e,n);pn=!!(t.flags&131072)}else pn=!1,Ze&&e.flags&1048576&&cb(e,Od,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rd(t,e),t=e.pendingProps;var s=ua(e,Jt.current);Wo(e,n),s=yy(null,e,r,t,s,n);var i=vy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(i=!0,jd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hy(e),s.updater=Mh,e.stateNode=s,s._reactInternals=e,Ap(e,r,t,n),e=jp(null,e,r,!0,i,n)):(e.tag=0,Ze&&i&&iy(e),nn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Lk(r),t=Yn(r,t),s){case 0:e=kp(null,e,r,t,n);break e;case 1:e=s0(null,e,r,t,n);break e;case 11:e=n0(null,e,r,t,n);break e;case 14:e=r0(null,e,r,Yn(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),kp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),s0(t,e,r,s,n);case 3:e:{if(zb(e),t===null)throw Error(G(387));r=e.pendingProps,i=e.memoizedState,s=i.element,pb(t,e),Vd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ma(Error(G(423)),e),e=i0(t,e,r,n,s);break e}else if(r!==s){s=ma(Error(G(424)),e),e=i0(t,e,r,n,s);break e}else for(Pn=Qs(e.stateNode.containerInfo.firstChild),Rn=e,Ze=!0,er=null,n=fb(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(da(),r===s){e=ss(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return gb(e),t===null&&Ip(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ep(r,s)?o=null:i!==null&&Ep(r,i)&&(e.flags|=32),$b(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&Ip(e),null;case 13:return Bb(t,e,n);case 4:return fy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ha(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),n0(t,e,r,s,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,He(Md,r._currentValue),r._currentValue=o,i!==null)if(ir(i.value,o)){if(i.children===s.children&&!gn.current){e=ss(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Jr(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Pp(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Pp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Wo(e,n),s=Wn(s),r=r(s),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,s=Yn(r,e.pendingProps),s=Yn(r.type,s),r0(t,e,r,s,n);case 15:return Fb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),rd(t,e),e.tag=1,yn(r)?(t=!0,jd(e)):t=!1,Wo(e,n),Mb(e,r,s),Ap(e,r,s,n),jp(null,e,r,!0,t,n);case 19:return Wb(t,e,n);case 22:return Ub(t,e,n)}throw Error(G(156,e.tag))};function oT(t,e){return j1(t,e)}function Mk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,n,r){return new Mk(t,e,n,r)}function Py(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lk(t){if(typeof t=="function")return Py(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gg)return 11;if(t===Kg)return 14}return 2}function Zs(t,e){var n=t.alternate;return n===null?(n=$n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function od(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Py(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Po:return qi(n.children,s,i,e);case qg:o=8,s|=8;break;case ep:return t=$n(12,n,e,s|2),t.elementType=ep,t.lanes=i,t;case tp:return t=$n(13,n,e,s),t.elementType=tp,t.lanes=i,t;case np:return t=$n(19,n,e,s),t.elementType=np,t.lanes=i,t;case g1:return Fh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m1:o=10;break e;case p1:o=9;break e;case Gg:o=11;break e;case Kg:o=14;break e;case As:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=$n(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qi(t,e,n,r){return t=$n(7,t,r,e),t.lanes=n,t}function Fh(t,e,n,r){return t=$n(22,t,r,e),t.elementType=g1,t.lanes=n,t.stateNode={isHidden:!1},t}function Em(t,e,n){return t=$n(6,t,null,e),t.lanes=n,t}function bm(t,e,n){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rm(0),this.expirationTimes=rm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ny(t,e,n,r,s,i,o,a,c){return t=new Vk(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$n(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hy(i),t}function Fk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function aT(t){if(!t)return ci;t=t._reactInternals;e:{if(lo(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(yn(n))return ab(t,n,e)}return e}function lT(t,e,n,r,s,i,o,a,c){return t=Ny(n,r,!0,t,s,i,o,a,c),t.context=aT(null),n=t.current,r=sn(),s=Js(n),i=Jr(r,s),i.callback=e??null,Ys(n,i,s),t.current.lanes=s,jc(t,s,r),vn(t,r),t}function Uh(t,e,n,r){var s=e.current,i=sn(),o=Js(s);return n=aT(n),e.context===null?e.context=n:e.pendingContext=n,e=Jr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ys(s,e,o),t!==null&&(rr(t,s,o,i),ed(t,s,o)),o}function qd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function p0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ay(t,e){p0(t,e),(t=t.alternate)&&p0(t,e)}function Uk(){return null}var cT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ry(t){this._internalRoot=t}$h.prototype.render=Ry.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));Uh(t,e,null,null)};$h.prototype.unmount=Ry.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ji(function(){Uh(null,t,null,null)}),e[ns]=null}};function $h(t){this._internalRoot=t}$h.prototype.unstable_scheduleHydration=function(t){if(t){var e=U1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ks.length&&e!==0&&e<ks[n].priority;n++);ks.splice(n,0,t),n===0&&z1(t)}};function ky(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g0(){}function $k(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=qd(o);i.call(d)}}var o=lT(e,r,t,0,null,!1,!1,"",g0);return t._reactRootContainer=o,t[ns]=o.current,tc(t.nodeType===8?t.parentNode:t),Ji(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=qd(c);a.call(d)}}var c=Ny(t,0,!1,null,null,!1,!1,"",g0);return t._reactRootContainer=c,t[ns]=c.current,tc(t.nodeType===8?t.parentNode:t),Ji(function(){Uh(e,c,n,r)}),c}function Bh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=qd(o);a.call(c)}}Uh(e,o,t,s)}else o=$k(n,e,t,s,r);return qd(o)}V1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=El(e.pendingLanes);n!==0&&(Xg(e,n|1),vn(e,ft()),!(Re&6)&&(pa=ft()+500,Ei()))}break;case 13:Ji(function(){var r=rs(t,1);if(r!==null){var s=sn();rr(r,t,1,s)}}),Ay(t,1)}};Jg=function(t){if(t.tag===13){var e=rs(t,134217728);if(e!==null){var n=sn();rr(e,t,134217728,n)}Ay(t,134217728)}};F1=function(t){if(t.tag===13){var e=Js(t),n=rs(t,e);if(n!==null){var r=sn();rr(n,t,e,r)}Ay(t,e)}};U1=function(){return Le};$1=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};hp=function(t,e,n){switch(e){case"input":if(ip(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=jh(r);if(!s)throw Error(G(90));v1(r),ip(r,s)}}}break;case"textarea":w1(t,n);break;case"select":e=n.value,e!=null&&Uo(t,!!n.multiple,e,!1)}};I1=Sy;P1=Ji;var zk={usingClientEntryPoint:!1,Events:[Oc,ko,jh,S1,C1,Sy]},gl={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bk={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R1(t),t===null?null:t.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||Uk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Nh=ju.inject(Bk),Sr=ju}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zk;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ky(e))throw Error(G(200));return Fk(t,e,null,n)};Dn.createRoot=function(t,e){if(!ky(t))throw Error(G(299));var n=!1,r="",s=cT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ny(t,1,!1,null,null,n,!1,r,s),t[ns]=e.current,tc(t.nodeType===8?t.parentNode:t),new Ry(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=R1(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return Ji(t)};Dn.hydrate=function(t,e,n){if(!zh(e))throw Error(G(200));return Bh(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!ky(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=cT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lT(e,null,t,1,n??null,s,!1,i,o),t[ns]=e.current,tc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new $h(e)};Dn.render=function(t,e,n){if(!zh(e))throw Error(G(200));return Bh(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!zh(t))throw Error(G(40));return t._reactRootContainer?(Ji(function(){Bh(null,null,t,!1,function(){t._reactRootContainer=null,t[ns]=null})}),!0):!1};Dn.unstable_batchedUpdates=Sy;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zh(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return Bh(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function uT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uT)}catch(t){console.error(t)}}uT(),u1.exports=Dn;var Lc=u1.exports;const dT=XE(Lc);var hT,y0=Lc;hT=y0.createRoot,y0.hydrateRoot;const Wk=1,Hk=1e6;let Tm=0;function qk(){return Tm=(Tm+1)%Number.MAX_SAFE_INTEGER,Tm.toString()}const Sm=new Map,v0=t=>{if(Sm.has(t))return;const e=setTimeout(()=>{Sm.delete(t),Fl({type:"REMOVE_TOAST",toastId:t})},Hk);Sm.set(t,e)},Gk=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Wk)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?v0(n):t.toasts.forEach(r=>{v0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ad=[];let ld={toasts:[]};function Fl(t){ld=Gk(ld,t),ad.forEach(e=>{e(ld)})}function Kk({...t}){const e=qk(),n=s=>Fl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Fl({type:"DISMISS_TOAST",toastId:e});return Fl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Wh(){const[t,e]=y.useState(ld);return y.useEffect(()=>(ad.push(e),()=>{const n=ad.indexOf(e);n>-1&&ad.splice(n,1)}),[t]),{...t,toast:Kk,dismiss:n=>Fl({type:"DISMISS_TOAST",toastId:n})}}function Ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Qk(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function fT(...t){return e=>t.forEach(n=>Qk(n,e))}function it(...t){return y.useCallback(fT(...t),t)}function Yk(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];function d(m){const{scope:f,children:g,...b}=m,w=(f==null?void 0:f[t][c])||a,E=y.useMemo(()=>b,Object.values(b));return l.jsx(w.Provider,{value:E,children:g})}function h(m,f){const g=(f==null?void 0:f[t][c])||a,b=y.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Xk(s,...e)]}function Xk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...a,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ga=y.forwardRef((t,e)=>{const{children:n,...r}=t,s=y.Children.toArray(n),i=s.find(Jk);if(i){const o=i.props.children,a=s.map(c=>c===i?y.Children.count(o)>1?y.Children.only(null):y.isValidElement(o)?o.props.children:null:c);return l.jsx(Hp,{...r,ref:e,children:y.isValidElement(o)?y.cloneElement(o,void 0,a):null})}return l.jsx(Hp,{...r,ref:e,children:n})});ga.displayName="Slot";var Hp=y.forwardRef((t,e)=>{const{children:n,...r}=t;if(y.isValidElement(n)){const s=e2(n);return y.cloneElement(n,{...Zk(r,n.props),ref:e?fT(e,s):s})}return y.Children.count(n)>1?y.Children.only(null):null});Hp.displayName="SlotClone";var mT=({children:t})=>l.jsx(l.Fragment,{children:t});function Jk(t){return y.isValidElement(t)&&t.type===mT}function Zk(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function e2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pT(t){const e=t+"CollectionProvider",[n,r]=Yk(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:w}=g,E=q.useRef(null),_=q.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:_,collectionRef:E,children:w})};o.displayName=e;const a=t+"CollectionSlot",c=q.forwardRef((g,b)=>{const{scope:w,children:E}=g,_=i(a,w),v=it(b,_.collectionRef);return l.jsx(ga,{ref:v,children:E})});c.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=q.forwardRef((g,b)=>{const{scope:w,children:E,..._}=g,v=q.useRef(null),T=it(b,v),A=i(d,w);return q.useEffect(()=>(A.itemMap.set(v,{ref:v,..._}),()=>void A.itemMap.delete(v))),l.jsx(ga,{[h]:"",ref:T,children:E})});m.displayName=d;function f(g){const b=i(t+"CollectionConsumer",g);return q.useCallback(()=>{const E=b.collectionRef.current;if(!E)return[];const _=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((A,j)=>_.indexOf(A.ref.current)-_.indexOf(j.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},f,r]}function t2(t,e){const n=y.createContext(e),r=i=>{const{children:o,...a}=i,c=y.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=y.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function ka(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];const d=m=>{var _;const{scope:f,children:g,...b}=m,w=((_=f==null?void 0:f[t])==null?void 0:_[c])||a,E=y.useMemo(()=>b,Object.values(b));return l.jsx(w.Provider,{value:E,children:g})};d.displayName=i+"Provider";function h(m,f){var w;const g=((w=f==null?void 0:f[t])==null?void 0:w[c])||a,b=y.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,n2(s,...e)]}function n2(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...a,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var r2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],je=r2.reduce((t,e)=>{const n=y.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ga:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function gT(t,e){t&&Lc.flushSync(()=>t.dispatchEvent(e))}function Tt(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function s2(t,e=globalThis==null?void 0:globalThis.document){const n=Tt(t);y.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var i2="DismissableLayer",qp="dismissableLayer.update",o2="dismissableLayer.pointerDownOutside",a2="dismissableLayer.focusOutside",x0,yT=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hh=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=y.useContext(yT),[h,m]=y.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=y.useState({}),b=it(e,I=>m(I)),w=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(E),v=h?w.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,A=v>=_,j=c2(I=>{const C=I.target,S=[...d.branches].some(P=>P.contains(C));!A||S||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},f),O=u2(I=>{const C=I.target;[...d.branches].some(P=>P.contains(C))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},f);return s2(I=>{v===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},f),y.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(x0=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),w0(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=x0)}},[h,f,n,d]),y.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),w0())},[h,d]),y.useEffect(()=>{const I=()=>g({});return document.addEventListener(qp,I),()=>document.removeEventListener(qp,I)},[]),l.jsx(je.div,{...c,ref:b,style:{pointerEvents:T?A?"auto":"none":void 0,...t.style},onFocusCapture:Ae(t.onFocusCapture,O.onFocusCapture),onBlurCapture:Ae(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ae(t.onPointerDownCapture,j.onPointerDownCapture)})});Hh.displayName=i2;var l2="DismissableLayerBranch",vT=y.forwardRef((t,e)=>{const n=y.useContext(yT),r=y.useRef(null),s=it(e,r);return y.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(je.div,{...t,ref:s})});vT.displayName=l2;function c2(t,e=globalThis==null?void 0:globalThis.document){const n=Tt(t),r=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){xT(o2,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function u2(t,e=globalThis==null?void 0:globalThis.document){const n=Tt(t),r=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!r.current&&xT(a2,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function w0(){const t=new CustomEvent(qp);document.dispatchEvent(t)}function xT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?gT(s,i):s.dispatchEvent(i)}var d2=Hh,h2=vT,kr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},f2="Portal",jy=y.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=y.useState(!1);kr(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?dT.createPortal(l.jsx(je.div,{...r,ref:e}),o):null});jy.displayName=f2;function m2(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var dr=t=>{const{present:e,children:n}=t,r=p2(e),s=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),i=it(r.ref,g2(s));return typeof n=="function"||r.isPresent?y.cloneElement(s,{ref:i}):null};dr.displayName="Presence";function p2(t){const[e,n]=y.useState(),r=y.useRef({}),s=y.useRef(t),i=y.useRef("none"),o=t?"mounted":"unmounted",[a,c]=m2(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const d=Du(r.current);i.current=a==="mounted"?d:"none"},[a]),kr(()=>{const d=r.current,h=s.current;if(h!==t){const f=i.current,g=Du(d);t?c("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),kr(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,m=g=>{const w=Du(r.current).includes(g.animationName);if(g.target===e&&w&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},f=g=>{g.target===e&&(i.current=Du(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:y.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Du(t){return(t==null?void 0:t.animationName)||"none"}function g2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Vc({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=y2({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Tt(n),c=y.useCallback(d=>{if(i){const m=typeof d=="function"?d(t):d;m!==t&&a(m)}else s(d)},[i,t,s,a]);return[o,c]}function y2({defaultProp:t,onChange:e}){const n=y.useState(t),[r]=n,s=y.useRef(r),i=Tt(e);return y.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var v2="VisuallyHidden",qh=y.forwardRef((t,e)=>l.jsx(je.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));qh.displayName=v2;var x2=qh,Dy="ToastProvider",[Oy,w2,_2]=pT("Toast"),[wT,o8]=ka("Toast",[_2]),[E2,Gh]=wT(Dy),_T=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=y.useState(null),[d,h]=y.useState(0),m=y.useRef(!1),f=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Dy}\`. Expected non-empty \`string\`.`),l.jsx(Oy.Provider,{scope:e,children:l.jsx(E2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:y.useCallback(()=>h(g=>g+1),[]),onToastRemove:y.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:o})})};_T.displayName=Dy;var ET="ToastViewport",b2=["F8"],Gp="toast.viewportPause",Kp="toast.viewportResume",bT=y.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=b2,label:s="Notifications ({hotkey})",...i}=t,o=Gh(ET,n),a=w2(n),c=y.useRef(null),d=y.useRef(null),h=y.useRef(null),m=y.useRef(null),f=it(e,m,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;y.useEffect(()=>{const E=_=>{var T;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((T=m.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),y.useEffect(()=>{const E=c.current,_=m.current;if(b&&E&&_){const v=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Gp);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(Kp);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},A=O=>{!E.contains(O.relatedTarget)&&T()},j=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",v),E.addEventListener("focusout",A),E.addEventListener("pointermove",v),E.addEventListener("pointerleave",j),window.addEventListener("blur",v),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",v),E.removeEventListener("focusout",A),E.removeEventListener("pointermove",v),E.removeEventListener("pointerleave",j),window.removeEventListener("blur",v),window.removeEventListener("focus",T)}}},[b,o.isClosePausedRef]);const w=y.useCallback(({tabbingDirection:E})=>{const v=a().map(T=>{const A=T.ref.current,j=[A,...M2(A)];return E==="forwards"?j:j.reverse()});return(E==="forwards"?v.reverse():v).flat()},[a]);return y.useEffect(()=>{const E=m.current;if(E){const _=v=>{var j,O,I;const T=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!T){const C=document.activeElement,S=v.shiftKey;if(v.target===E&&S){(j=d.current)==null||j.focus();return}const D=w({tabbingDirection:S?"backwards":"forwards"}),R=D.findIndex(z=>z===C);Cm(D.slice(R+1))?v.preventDefault():S?(O=d.current)==null||O.focus():(I=h.current)==null||I.focus()}};return E.addEventListener("keydown",_),()=>E.removeEventListener("keydown",_)}},[a,w]),l.jsxs(h2,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&l.jsx(Qp,{ref:d,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"forwards"});Cm(E)}}),l.jsx(Oy.Slot,{scope:n,children:l.jsx(je.ol,{tabIndex:-1,...i,ref:f})}),b&&l.jsx(Qp,{ref:h,onFocusFromOutsideViewport:()=>{const E=w({tabbingDirection:"backwards"});Cm(E)}})]})});bT.displayName=ET;var TT="ToastFocusProxy",Qp=y.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Gh(TT,n);return l.jsx(qh,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});Qp.displayName=TT;var Kh="Toast",T2="toast.swipeStart",S2="toast.swipeMove",C2="toast.swipeCancel",I2="toast.swipeEnd",ST=y.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,c]=Vc({prop:r,defaultProp:s,onChange:i});return l.jsx(dr,{present:n||a,children:l.jsx(A2,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:Tt(t.onPause),onResume:Tt(t.onResume),onSwipeStart:Ae(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ae(t.onSwipeMove,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Ae(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ae(t.onSwipeEnd,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});ST.displayName=Kh;var[P2,N2]=wT(Kh,{onClose(){}}),A2=y.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:g,...b}=t,w=Gh(Kh,n),[E,_]=y.useState(null),v=it(e,z=>_(z)),T=y.useRef(null),A=y.useRef(null),j=s||w.duration,O=y.useRef(0),I=y.useRef(j),C=y.useRef(0),{onToastAdd:S,onToastRemove:P}=w,k=Tt(()=>{var H;(E==null?void 0:E.contains(document.activeElement))&&((H=w.viewport)==null||H.focus()),o()}),D=y.useCallback(z=>{!z||z===1/0||(window.clearTimeout(C.current),O.current=new Date().getTime(),C.current=window.setTimeout(k,z))},[k]);y.useEffect(()=>{const z=w.viewport;if(z){const H=()=>{D(I.current),d==null||d()},Q=()=>{const le=new Date().getTime()-O.current;I.current=I.current-le,window.clearTimeout(C.current),c==null||c()};return z.addEventListener(Gp,Q),z.addEventListener(Kp,H),()=>{z.removeEventListener(Gp,Q),z.removeEventListener(Kp,H)}}},[w.viewport,j,c,d,D]),y.useEffect(()=>{i&&!w.isClosePausedRef.current&&D(j)},[i,j,w.isClosePausedRef,D]),y.useEffect(()=>(S(),()=>P()),[S,P]);const R=y.useMemo(()=>E?kT(E):null,[E]);return w.viewport?l.jsxs(l.Fragment,{children:[R&&l.jsx(R2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),l.jsx(P2,{scope:n,onClose:k,children:Lc.createPortal(l.jsx(Oy.ItemSlot,{scope:n,children:l.jsx(d2,{asChild:!0,onEscapeKeyDown:Ae(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||k(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ae(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ae(t.onPointerDown,z=>{z.button===0&&(T.current={x:z.clientX,y:z.clientY})}),onPointerMove:Ae(t.onPointerMove,z=>{if(!T.current)return;const H=z.clientX-T.current.x,Q=z.clientY-T.current.y,le=!!A.current,M=["left","right"].includes(w.swipeDirection),W=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,ne=M?W(0,H):0,J=M?0:W(0,Q),re=z.pointerType==="touch"?10:2,ce={x:ne,y:J},B={originalEvent:z,delta:ce};le?(A.current=ce,Ou(S2,m,B,{discrete:!1})):_0(ce,w.swipeDirection,re)?(A.current=ce,Ou(T2,h,B,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(H)>re||Math.abs(Q)>re)&&(T.current=null)}),onPointerUp:Ae(t.onPointerUp,z=>{const H=A.current,Q=z.target;if(Q.hasPointerCapture(z.pointerId)&&Q.releasePointerCapture(z.pointerId),A.current=null,T.current=null,H){const le=z.currentTarget,M={originalEvent:z,delta:H};_0(H,w.swipeDirection,w.swipeThreshold)?Ou(I2,g,M,{discrete:!0}):Ou(C2,f,M,{discrete:!0}),le.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),R2=t=>{const{__scopeToast:e,children:n,...r}=t,s=Gh(Kh,e),[i,o]=y.useState(!1),[a,c]=y.useState(!1);return D2(()=>o(!0)),y.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:l.jsx(jy,{asChild:!0,children:l.jsx(qh,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},k2="ToastTitle",CT=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(je.div,{...r,ref:e})});CT.displayName=k2;var j2="ToastDescription",IT=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(je.div,{...r,ref:e})});IT.displayName=j2;var PT="ToastAction",NT=y.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(RT,{altText:n,asChild:!0,children:l.jsx(My,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${PT}\`. Expected non-empty \`string\`.`),null)});NT.displayName=PT;var AT="ToastClose",My=y.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=N2(AT,n);return l.jsx(RT,{asChild:!0,children:l.jsx(je.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,s.onClose)})})});My.displayName=AT;var RT=y.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function kT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),O2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...kT(r))}}),e}function Ou(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?gT(s,i):s.dispatchEvent(i)}var _0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function D2(t=()=>{}){const e=Tt(t);kr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function O2(t){return t.nodeType===t.ELEMENT_NODE}function M2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var L2=_T,jT=bT,DT=ST,OT=CT,MT=IT,LT=NT,VT=My;function FT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=FT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function UT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=FT(t))&&(r&&(r+=" "),r+=e);return r}const E0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,b0=UT,$T=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return b0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],m=i==null?void 0:i[d];if(h===null)return null;const f=E0(h)||E0(m);return s[d][f]}),a=n&&Object.entries(n).reduce((d,h)=>{let[m,f]=h;return f===void 0||(d[m]=f),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:m,className:f,...g}=h;return Object.entries(g).every(b=>{let[w,E]=b;return Array.isArray(E)?E.includes({...i,...a}[w]):{...i,...a}[w]===E})?[...d,m,f]:d},[]);return b0(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>y.createElement("svg",{ref:c,...F2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:zT("lucide",s),...a},[...o.map(([d,h])=>y.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const n=y.forwardRef(({className:r,...s},i)=>y.createElement(U2,{ref:i,iconNode:e,className:zT(`lucide-${V2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=tt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=tt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=tt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=tt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=tt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=tt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=tt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=tt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=tt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=tt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=tt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Uy="-",Y2=t=>{const e=J2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Uy);return a[0]===""&&a.length!==1&&a.shift(),HT(a,e)||X2(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},HT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?HT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Uy);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},S0=/^\[(.+)\]$/,X2=t=>{if(S0.test(t)){const e=S0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},J2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return ej(Object.entries(t.classGroups),n).forEach(([i,o])=>{Xp(o,r,i,e)}),r},Xp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:C0(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(Z2(s)){Xp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Xp(o,C0(e,i),n,r)})})},C0=(t,e)=>{let n=t;return e.split(Uy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Z2=t=>t.isThemeGetter,ej=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,tj=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},qT="!",nj=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,m;for(let E=0;E<a.length;E++){let _=a[E];if(d===0){if(_===s&&(r||a.slice(E,E+i)===e)){c.push(a.slice(h,E)),h=E+i;continue}if(_==="/"){m=E;continue}}_==="["?d++:_==="]"&&d--}const f=c.length===0?a:a.substring(h),g=f.startsWith(qT),b=g?f.substring(1):f,w=m&&m>h?m-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},rj=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},sj=t=>({cache:tj(t.cacheSize),parseClassName:nj(t),...Y2(t)}),ij=/\s+/,oj=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(ij);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:g}=n(d);let b=!!g,w=r(b?f.substring(0,g):f);if(!w){if(!b){a=d+(a.length>0?" "+a:a);continue}if(w=r(f),!w){a=d+(a.length>0?" "+a:a);continue}b=!1}const E=rj(h).join(":"),_=m?E+qT:E,v=_+w;if(i.includes(v))continue;i.push(v);const T=s(w,b);for(let A=0;A<T.length;++A){const j=T[A];i.push(_+j)}a=d+(a.length>0?" "+a:a)}return a};function aj(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=GT(e))&&(r&&(r+=" "),r+=n);return r}const GT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=GT(t[r]))&&(n&&(n+=" "),n+=e);return n};function lj(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,m)=>m(h),t());return n=sj(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=oj(c,n);return s(c,h),h}return function(){return i(aj.apply(null,arguments))}}const Ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},KT=/^\[(?:([a-z-]+):)?(.+)\]$/i,cj=/^\d+\/\d+$/,uj=new Set(["px","full","screen"]),dj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zr=t=>qo(t)||uj.has(t)||cj.test(t),Ss=t=>Da(t,"length",bj),qo=t=>!!t&&!Number.isNaN(Number(t)),Im=t=>Da(t,"number",qo),yl=t=>!!t&&Number.isInteger(Number(t)),gj=t=>t.endsWith("%")&&qo(t.slice(0,-1)),ye=t=>KT.test(t),Cs=t=>dj.test(t),yj=new Set(["length","size","percentage"]),vj=t=>Da(t,yj,QT),xj=t=>Da(t,"position",QT),wj=new Set(["image","url"]),_j=t=>Da(t,wj,Sj),Ej=t=>Da(t,"",Tj),vl=()=>!0,Da=(t,e,n)=>{const r=KT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},bj=t=>hj.test(t)&&!fj.test(t),QT=()=>!1,Tj=t=>mj.test(t),Sj=t=>pj.test(t),Cj=()=>{const t=Ke("colors"),e=Ke("spacing"),n=Ke("blur"),r=Ke("brightness"),s=Ke("borderColor"),i=Ke("borderRadius"),o=Ke("borderSpacing"),a=Ke("borderWidth"),c=Ke("contrast"),d=Ke("grayscale"),h=Ke("hueRotate"),m=Ke("invert"),f=Ke("gap"),g=Ke("gradientColorStops"),b=Ke("gradientColorStopPositions"),w=Ke("inset"),E=Ke("margin"),_=Ke("opacity"),v=Ke("padding"),T=Ke("saturate"),A=Ke("scale"),j=Ke("sepia"),O=Ke("skew"),I=Ke("space"),C=Ke("translate"),S=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ye,e],D=()=>[ye,e],R=()=>["",zr,Ss],z=()=>["auto",qo,ye],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",ye],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[qo,ye];return{cacheSize:500,separator:":",theme:{colors:[vl],spacing:[zr,Ss],blur:["none","",Cs,ye],brightness:J(),borderColor:[t],borderRadius:["none","","full",Cs,ye],borderSpacing:D(),borderWidth:R(),contrast:J(),grayscale:W(),hueRotate:J(),invert:W(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[gj,Ss],inset:k(),margin:k(),opacity:J(),padding:D(),saturate:J(),scale:J(),sepia:W(),skew:J(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Cs]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),ye]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yl,ye]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",yl,ye]}],"grid-cols":[{"grid-cols":[vl]}],"col-start-end":[{col:["auto",{span:["full",yl,ye]},ye]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[vl]}],"row-start-end":[{row:["auto",{span:[yl,ye]},ye]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,e]}],"min-w":[{"min-w":[ye,e,"min","max","fit"]}],"max-w":[{"max-w":[ye,e,"none","full","min","max","fit","prose",{screen:[Cs]},Cs]}],h:[{h:[ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cs,Ss]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Im]}],"font-family":[{font:[vl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",qo,Im]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zr,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zr,Ss]}],"underline-offset":[{"underline-offset":["auto",zr,ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),xj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_j]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[zr,ye]}],"outline-w":[{outline:[zr,Ss]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[zr,Ss]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Cs,Ej]}],"shadow-color":[{shadow:[vl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cs,ye]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[T]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[yl,ye]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zr,Ss,Im]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ij=lj(Cj);function ze(...t){return Ij(UT(t))}const Pj=L2,YT=y.forwardRef(({className:t,...e},n)=>l.jsx(jT,{ref:n,className:ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));YT.displayName=jT.displayName;const Nj=$T("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),XT=y.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(DT,{ref:r,className:ze(Nj({variant:e}),t),...n}));XT.displayName=DT.displayName;const Aj=y.forwardRef(({className:t,...e},n)=>l.jsx(LT,{ref:n,className:ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Aj.displayName=LT.displayName;const JT=y.forwardRef(({className:t,...e},n)=>l.jsx(VT,{ref:n,className:ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(Fy,{className:"h-4 w-4"})}));JT.displayName=VT.displayName;const ZT=y.forwardRef(({className:t,...e},n)=>l.jsx(OT,{ref:n,className:ze("text-sm font-semibold",t),...e}));ZT.displayName=OT.displayName;const eS=y.forwardRef(({className:t,...e},n)=>l.jsx(MT,{ref:n,className:ze("text-sm opacity-90",t),...e}));eS.displayName=MT.displayName;function Rj(){const{toasts:t}=Wh();return l.jsxs(Pj,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return l.jsxs(XT,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(ZT,{children:n}),r&&l.jsx(eS,{children:r})]}),s,l.jsx(JT,{})]},e)}),l.jsx(YT,{})]})}var I0=["light","dark"],kj="(prefers-color-scheme: dark)",jj=y.createContext(void 0),Dj={setTheme:t=>{},themes:[]},Oj=()=>{var t;return(t=y.useContext(jj))!=null?t:Dj};y.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=s?I0.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(b,w=!1,E=!0)=>{let _=o?o[b]:b,v=w?b+"|| ''":`'${_}'`,T="";return s&&E&&!w&&I0.includes(b)&&(T+=`d.style.colorScheme = '${b}';`),n==="class"?w||_?T+=`c.add(${v})`:T+="null":_&&(T+=`d[s](n,${v})`),T},g=t?`!function(){${h}${f(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${kj}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${d?"":"else{"+f(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${m}}catch(t){}}();`;return y.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var Mj=t=>{switch(t){case"success":return Fj;case"info":return $j;case"warning":return Uj;case"error":return zj;default:return null}},Lj=Array(12).fill(0),Vj=({visible:t})=>q.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},q.createElement("div",{className:"sonner-spinner"},Lj.map((e,n)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Fj=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Uj=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),$j=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zj=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Bj=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Jp=1,Wj=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Jp++,o=this.toasts.find(c=>c.id===i),a=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(qj(o)&&!o.ok){i=!1;let a=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:a,description:c})}else if(n.success!==void 0){i=!1;let a=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:a,description:c})}}).catch(async o=>{if(n.error!==void 0){i=!1;let a=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:a,description:c})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Jp++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Tn=new Wj,Hj=(t,e)=>{let n=(e==null?void 0:e.id)||Jp++;return Tn.addToast({title:t,...e,id:n}),n},qj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Gj=Hj,Kj=()=>Tn.toasts;Object.assign(Gj,{success:Tn.success,info:Tn.info,warning:Tn.warning,error:Tn.error,custom:Tn.custom,message:Tn.message,promise:Tn.promise,dismiss:Tn.dismiss,loading:Tn.loading},{getHistory:Kj});function Qj(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Qj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mu(t){return t.label!==void 0}var Yj=3,Xj="32px",Jj=4e3,Zj=356,eD=14,tD=20,nD=200;function rD(...t){return t.filter(Boolean).join(" ")}var sD=t=>{var e,n,r,s,i,o,a,c,d,h;let{invert:m,toast:f,unstyled:g,interacting:b,setHeights:w,visibleToasts:E,heights:_,index:v,toasts:T,expanded:A,removeToast:j,defaultRichColors:O,closeButton:I,style:C,cancelButtonStyle:S,actionButtonStyle:P,className:k="",descriptionClassName:D="",duration:R,position:z,gap:H,loadingIcon:Q,expandByDefault:le,classNames:M,icons:W,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:J,cn:re}=t,[ce,B]=q.useState(!1),[ee,K]=q.useState(!1),[Se,Je]=q.useState(!1),[se,ie]=q.useState(!1),[ae,Ce]=q.useState(0),[_e,Et]=q.useState(0),dt=q.useRef(null),xe=q.useRef(null),Ve=v===0,Vt=v+1<=E,Ne=f.type,Mn=f.dismissible!==!1,Zc=f.className||"",Mf=f.descriptionClassName||"",vs=q.useMemo(()=>_.findIndex(me=>me.toastId===f.id)||0,[_,f.id]),Ka=q.useMemo(()=>{var me;return(me=f.closeButton)!=null?me:I},[f.closeButton,I]),Qa=q.useMemo(()=>f.duration||R||Jj,[f.duration,R]),pt=q.useRef(0),at=q.useRef(0),Ci=q.useRef(0),Vr=q.useRef(null),[Ya,Lf]=z.split("-"),xs=q.useMemo(()=>_.reduce((me,Fe,Me)=>Me>=vs?me:me+Fe.height,0),[_,vs]),Xa=Bj(),eu=f.invert||m,Ii=Ne==="loading";at.current=q.useMemo(()=>vs*H+xs,[vs,xs]),q.useEffect(()=>{B(!0)},[]),q.useLayoutEffect(()=>{if(!ce)return;let me=xe.current,Fe=me.style.height;me.style.height="auto";let Me=me.getBoundingClientRect().height;me.style.height=Fe,Et(Me),w(Ft=>Ft.find(ln=>ln.toastId===f.id)?Ft.map(ln=>ln.toastId===f.id?{...ln,height:Me}:ln):[{toastId:f.id,height:Me,position:f.position},...Ft])},[ce,f.title,f.description,w,f.id]);let mr=q.useCallback(()=>{K(!0),Ce(at.current),w(me=>me.filter(Fe=>Fe.toastId!==f.id)),setTimeout(()=>{j(f)},nD)},[f,j,w,at]);q.useEffect(()=>{if(f.promise&&Ne==="loading"||f.duration===1/0||f.type==="loading")return;let me,Fe=Qa;return A||b||J&&Xa?(()=>{if(Ci.current<pt.current){let Me=new Date().getTime()-pt.current;Fe=Fe-Me}Ci.current=new Date().getTime()})():Fe!==1/0&&(pt.current=new Date().getTime(),me=setTimeout(()=>{var Me;(Me=f.onAutoClose)==null||Me.call(f,f),mr()},Fe)),()=>clearTimeout(me)},[A,b,le,f,Qa,mr,f.promise,Ne,J,Xa]),q.useEffect(()=>{let me=xe.current;if(me){let Fe=me.getBoundingClientRect().height;return Et(Fe),w(Me=>[{toastId:f.id,height:Fe,position:f.position},...Me]),()=>w(Me=>Me.filter(Ft=>Ft.toastId!==f.id))}},[w,f.id]),q.useEffect(()=>{f.delete&&mr()},[mr,f.delete]);function Vf(){return W!=null&&W.loading?q.createElement("div",{className:"sonner-loader","data-visible":Ne==="loading"},W.loading):Q?q.createElement("div",{className:"sonner-loader","data-visible":Ne==="loading"},Q):q.createElement(Vj,{visible:Ne==="loading"})}return q.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:xe,className:re(k,Zc,M==null?void 0:M.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[Ne],(n=f==null?void 0:f.classNames)==null?void 0:n[Ne]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:O,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":ce,"data-promise":!!f.promise,"data-removed":ee,"data-visible":Vt,"data-y-position":Ya,"data-x-position":Lf,"data-index":v,"data-front":Ve,"data-swiping":Se,"data-dismissible":Mn,"data-type":Ne,"data-invert":eu,"data-swipe-out":se,"data-expanded":!!(A||le&&ce),style:{"--index":v,"--toasts-before":v,"--z-index":T.length-v,"--offset":`${ee?ae:at.current}px`,"--initial-height":le?"auto":`${_e}px`,...C,...f.style},onPointerDown:me=>{Ii||!Mn||(dt.current=new Date,Ce(at.current),me.target.setPointerCapture(me.pointerId),me.target.tagName!=="BUTTON"&&(Je(!0),Vr.current={x:me.clientX,y:me.clientY}))},onPointerUp:()=>{var me,Fe,Me,Ft;if(se||!Mn)return;Vr.current=null;let ln=Number(((me=xe.current)==null?void 0:me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ws=new Date().getTime()-((Fe=dt.current)==null?void 0:Fe.getTime()),Fr=Math.abs(ln)/ws;if(Math.abs(ln)>=tD||Fr>.11){Ce(at.current),(Me=f.onDismiss)==null||Me.call(f,f),mr(),ie(!0);return}(Ft=xe.current)==null||Ft.style.setProperty("--swipe-amount","0px"),Je(!1)},onPointerMove:me=>{var Fe;if(!Vr.current||!Mn)return;let Me=me.clientY-Vr.current.y,Ft=me.clientX-Vr.current.x,ln=(Ya==="top"?Math.min:Math.max)(0,Me),ws=me.pointerType==="touch"?10:2;Math.abs(ln)>ws?(Fe=xe.current)==null||Fe.style.setProperty("--swipe-amount",`${Me}px`):Math.abs(Ft)>ws&&(Vr.current=null)}},Ka&&!f.jsx?q.createElement("button",{"aria-label":ne,"data-disabled":Ii,"data-close-button":!0,onClick:Ii||!Mn?()=>{}:()=>{var me;mr(),(me=f.onDismiss)==null||me.call(f,f)},className:re(M==null?void 0:M.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||q.isValidElement(f.title)?f.jsx||f.title:q.createElement(q.Fragment,null,Ne||f.icon||f.promise?q.createElement("div",{"data-icon":"",className:re(M==null?void 0:M.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Vf():null,f.type!=="loading"?f.icon||(W==null?void 0:W[Ne])||Mj(Ne):null):null,q.createElement("div",{"data-content":"",className:re(M==null?void 0:M.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},q.createElement("div",{"data-title":"",className:re(M==null?void 0:M.title,(a=f==null?void 0:f.classNames)==null?void 0:a.title)},f.title),f.description?q.createElement("div",{"data-description":"",className:re(D,Mf,M==null?void 0:M.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),q.isValidElement(f.cancel)?f.cancel:f.cancel&&Mu(f.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||S,onClick:me=>{var Fe,Me;Mu(f.cancel)&&Mn&&((Me=(Fe=f.cancel).onClick)==null||Me.call(Fe,me),mr())},className:re(M==null?void 0:M.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,q.isValidElement(f.action)?f.action:f.action&&Mu(f.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:me=>{var Fe,Me;Mu(f.action)&&(me.defaultPrevented||((Me=(Fe=f.action).onClick)==null||Me.call(Fe,me),mr()))},className:re(M==null?void 0:M.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function P0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var iD=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:a,theme:c="light",richColors:d,duration:h,style:m,visibleToasts:f=Yj,toastOptions:g,dir:b=P0(),gap:w=eD,loadingIcon:E,icons:_,containerAriaLabel:v="Notifications",pauseWhenPageIsHidden:T,cn:A=rD}=t,[j,O]=q.useState([]),I=q.useMemo(()=>Array.from(new Set([n].concat(j.filter(J=>J.position).map(J=>J.position)))),[j,n]),[C,S]=q.useState([]),[P,k]=q.useState(!1),[D,R]=q.useState(!1),[z,H]=q.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Q=q.useRef(null),le=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=q.useRef(null),W=q.useRef(!1),ne=q.useCallback(J=>{var re;(re=j.find(ce=>ce.id===J.id))!=null&&re.delete||Tn.dismiss(J.id),O(ce=>ce.filter(({id:B})=>B!==J.id))},[j]);return q.useEffect(()=>Tn.subscribe(J=>{if(J.dismiss){O(re=>re.map(ce=>ce.id===J.id?{...ce,delete:!0}:ce));return}setTimeout(()=>{dT.flushSync(()=>{O(re=>{let ce=re.findIndex(B=>B.id===J.id);return ce!==-1?[...re.slice(0,ce),{...re[ce],...J},...re.slice(ce+1)]:[J,...re]})})})}),[]),q.useEffect(()=>{if(c!=="system"){H(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:J})=>{H(J?"dark":"light")})},[c]),q.useEffect(()=>{j.length<=1&&k(!1)},[j]),q.useEffect(()=>{let J=re=>{var ce,B;r.every(ee=>re[ee]||re.code===ee)&&(k(!0),(ce=Q.current)==null||ce.focus()),re.code==="Escape"&&(document.activeElement===Q.current||(B=Q.current)!=null&&B.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[r]),q.useEffect(()=>{if(Q.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,W.current=!1)}},[Q.current]),j.length?q.createElement("section",{"aria-label":`${v} ${le}`,tabIndex:-1},I.map((J,re)=>{var ce;let[B,ee]=J.split("-");return q.createElement("ol",{key:J,dir:b==="auto"?P0():b,tabIndex:-1,ref:Q,className:o,"data-sonner-toaster":!0,"data-theme":z,"data-y-position":B,"data-x-position":ee,style:{"--front-toast-height":`${((ce=C[0])==null?void 0:ce.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||Xj,"--width":`${Zj}px`,"--gap":`${w}px`,...m},onBlur:K=>{W.current&&!K.currentTarget.contains(K.relatedTarget)&&(W.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||W.current||(W.current=!0,M.current=K.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{D||k(!1)},onPointerDown:K=>{K.target instanceof HTMLElement&&K.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},j.filter(K=>!K.position&&re===0||K.position===J).map((K,Se)=>{var Je,se;return q.createElement(sD,{key:K.id,icons:_,index:Se,toast:K,defaultRichColors:d,duration:(Je=g==null?void 0:g.duration)!=null?Je:h,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:f,closeButton:(se=g==null?void 0:g.closeButton)!=null?se:i,interacting:D,position:J,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ne,toasts:j.filter(ie=>ie.position==K.position),heights:C.filter(ie=>ie.position==K.position),setHeights:S,expandByDefault:s,gap:w,loadingIcon:E,expanded:P,pauseWhenPageIsHidden:T,cn:A})}))})):null};const oD=({...t})=>{const{theme:e="system"}=Oj();return l.jsx(iD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var aD=l1.useId||(()=>{}),lD=0;function Ul(t){const[e,n]=y.useState(aD());return kr(()=>{n(r=>r??String(lD++))},[t]),e?`radix-${e}`:""}const cD=["top","right","bottom","left"],ui=Math.min,Cn=Math.max,Kd=Math.round,Lu=Math.floor,di=t=>({x:t,y:t}),uD={left:"right",right:"left",bottom:"top",top:"bottom"},dD={start:"end",end:"start"};function Zp(t,e,n){return Cn(t,ui(e,n))}function is(t,e){return typeof t=="function"?t(e):t}function os(t){return t.split("-")[0]}function Oa(t){return t.split("-")[1]}function $y(t){return t==="x"?"y":"x"}function zy(t){return t==="y"?"height":"width"}function hi(t){return["top","bottom"].includes(os(t))?"y":"x"}function By(t){return $y(hi(t))}function hD(t,e,n){n===void 0&&(n=!1);const r=Oa(t),s=By(t),i=zy(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Qd(o)),[o,Qd(o)]}function fD(t){const e=Qd(t);return[eg(t),e,eg(e)]}function eg(t){return t.replace(/start|end/g,e=>dD[e])}function mD(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function pD(t,e,n,r){const s=Oa(t);let i=mD(os(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(eg)))),i}function Qd(t){return t.replace(/left|right|bottom|top/g,e=>uD[e])}function gD(t){return{top:0,right:0,bottom:0,left:0,...t}}function tS(t){return typeof t!="number"?gD(t):{top:t,right:t,bottom:t,left:t}}function Yd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function N0(t,e,n){let{reference:r,floating:s}=t;const i=hi(e),o=By(e),a=zy(o),c=os(e),d=i==="y",h=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,f=r[a]/2-s[a]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:m};break;case"left":g={x:r.x-s.width,y:m};break;default:g={x:r.x,y:r.y}}switch(Oa(e)){case"start":g[o]-=f*(n&&d?-1:1);break;case"end":g[o]+=f*(n&&d?-1:1);break}return g}const yD=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:m}=N0(d,r,c),f=r,g={},b=0;for(let w=0;w<a.length;w++){const{name:E,fn:_}=a[w],{x:v,y:T,data:A,reset:j}=await _({x:h,y:m,initialPlacement:r,placement:f,strategy:s,middlewareData:g,rects:d,platform:o,elements:{reference:t,floating:e}});h=v??h,m=T??m,g={...g,[E]:{...g[E],...A}},j&&b<=50&&(b++,typeof j=="object"&&(j.placement&&(f=j.placement),j.rects&&(d=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:h,y:m}=N0(d,f,c)),w=-1)}return{x:h,y:m,placement:f,strategy:s,middlewareData:g}};async function uc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:f=!1,padding:g=0}=is(e,t),b=tS(g),E=a[f?m==="floating"?"reference":"floating":m],_=Yd(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),v=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},j=Yd(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:T,strategy:c}):v);return{top:(_.top-j.top+b.top)/A.y,bottom:(j.bottom-_.bottom+b.bottom)/A.y,left:(_.left-j.left+b.left)/A.x,right:(j.right-_.right+b.right)/A.x}}const vD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=is(t,e)||{};if(d==null)return{};const m=tS(h),f={x:n,y:r},g=By(s),b=zy(g),w=await o.getDimensions(d),E=g==="y",_=E?"top":"left",v=E?"bottom":"right",T=E?"clientHeight":"clientWidth",A=i.reference[b]+i.reference[g]-f[g]-i.floating[b],j=f[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let I=O?O[T]:0;(!I||!await(o.isElement==null?void 0:o.isElement(O)))&&(I=a.floating[T]||i.floating[b]);const C=A/2-j/2,S=I/2-w[b]/2-1,P=ui(m[_],S),k=ui(m[v],S),D=P,R=I-w[b]-k,z=I/2-w[b]/2+C,H=Zp(D,z,R),Q=!c.arrow&&Oa(s)!=null&&z!==H&&i.reference[b]/2-(z<D?P:k)-w[b]/2<0,le=Q?z<D?z-D:z-R:0;return{[g]:f[g]+le,data:{[g]:H,centerOffset:z-H-le,...Q&&{alignmentOffset:le}},reset:Q}}}),xD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...E}=is(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=os(s),v=hi(a),T=os(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(d.floating)),j=f||(T||!w?[Qd(a)]:fD(a)),O=b!=="none";!f&&O&&j.push(...pD(a,w,b,A));const I=[a,...j],C=await uc(e,E),S=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&S.push(C[_]),m){const z=hD(s,o,A);S.push(C[z[0]],C[z[1]])}if(P=[...P,{placement:s,overflows:S}],!S.every(z=>z<=0)){var k,D;const z=(((k=i.flip)==null?void 0:k.index)||0)+1,H=I[z];if(H)return{data:{index:z,overflows:P},reset:{placement:H}};let Q=(D=P.filter(le=>le.overflows[0]<=0).sort((le,M)=>le.overflows[1]-M.overflows[1])[0])==null?void 0:D.placement;if(!Q)switch(g){case"bestFit":{var R;const le=(R=P.filter(M=>{if(O){const W=hi(M.placement);return W===v||W==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(W=>W>0).reduce((W,ne)=>W+ne,0)]).sort((M,W)=>M[1]-W[1])[0])==null?void 0:R[0];le&&(Q=le);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function A0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function R0(t){return cD.some(e=>t[e]>=0)}const wD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=is(t,e);switch(r){case"referenceHidden":{const i=await uc(e,{...s,elementContext:"reference"}),o=A0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:R0(o)}}}case"escaped":{const i=await uc(e,{...s,altBoundary:!0}),o=A0(i,n.floating);return{data:{escapedOffsets:o,escaped:R0(o)}}}default:return{}}}}};async function _D(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=os(n),a=Oa(n),c=hi(n)==="y",d=["left","top"].includes(o)?-1:1,h=i&&c?-1:1,m=is(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof b=="number"&&(g=a==="end"?b*-1:b),c?{x:g*h,y:f*d}:{x:f*d,y:g*h}}const ED=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await _D(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},bD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x:_,y:v}=E;return{x:_,y:v}}},...c}=is(t,e),d={x:n,y:r},h=await uc(e,c),m=hi(os(s)),f=$y(m);let g=d[f],b=d[m];if(i){const E=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=g+h[E],T=g-h[_];g=Zp(v,g,T)}if(o){const E=m==="y"?"top":"left",_=m==="y"?"bottom":"right",v=b+h[E],T=b-h[_];b=Zp(v,b,T)}const w=a.fn({...e,[f]:g,[m]:b});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[f]:i,[m]:o}}}}}},TD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=is(t,e),h={x:n,y:r},m=hi(s),f=$y(m);let g=h[f],b=h[m];const w=is(a,e),E=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const T=f==="y"?"height":"width",A=i.reference[f]-i.floating[T]+E.mainAxis,j=i.reference[f]+i.reference[T]-E.mainAxis;g<A?g=A:g>j&&(g=j)}if(d){var _,v;const T=f==="y"?"width":"height",A=["top","left"].includes(os(s)),j=i.reference[m]-i.floating[T]+(A&&((_=o.offset)==null?void 0:_[m])||0)+(A?0:E.crossAxis),O=i.reference[m]+i.reference[T]+(A?0:((v=o.offset)==null?void 0:v[m])||0)-(A?E.crossAxis:0);b<j?b=j:b>O&&(b=O)}return{[f]:g,[m]:b}}}},SD=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=is(t,e),h=await uc(e,d),m=os(s),f=Oa(s),g=hi(s)==="y",{width:b,height:w}=i.floating;let E,_;m==="top"||m==="bottom"?(E=m,_=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=m,E=f==="end"?"top":"bottom");const v=w-h.top-h.bottom,T=b-h.left-h.right,A=ui(w-h[E],v),j=ui(b-h[_],T),O=!e.middlewareData.shift;let I=A,C=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=v),O&&!f){const P=Cn(h.left,0),k=Cn(h.right,0),D=Cn(h.top,0),R=Cn(h.bottom,0);g?C=b-2*(P!==0||k!==0?P+k:Cn(h.left,h.right)):I=w-2*(D!==0||R!==0?D+R:Cn(h.top,h.bottom))}await c({...e,availableWidth:C,availableHeight:I});const S=await o.getDimensions(a.floating);return b!==S.width||w!==S.height?{reset:{rects:!0}}:{}}}};function Zh(){return typeof window<"u"}function Ma(t){return nS(t)?(t.nodeName||"").toLowerCase():"#document"}function kn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Or(t){var e;return(e=(nS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nS(t){return Zh()?t instanceof Node||t instanceof kn(t).Node:!1}function or(t){return Zh()?t instanceof Element||t instanceof kn(t).Element:!1}function jr(t){return Zh()?t instanceof HTMLElement||t instanceof kn(t).HTMLElement:!1}function k0(t){return!Zh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof kn(t).ShadowRoot}function Fc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function CD(t){return["table","td","th"].includes(Ma(t))}function ef(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Wy(t){const e=Hy(),n=or(t)?ar(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ID(t){let e=fi(t);for(;jr(e)&&!ya(e);){if(Wy(e))return e;if(ef(e))return null;e=fi(e)}return null}function Hy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ya(t){return["html","body","#document"].includes(Ma(t))}function ar(t){return kn(t).getComputedStyle(t)}function tf(t){return or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fi(t){if(Ma(t)==="html")return t;const e=t.assignedSlot||t.parentNode||k0(t)&&t.host||Or(t);return k0(e)?e.host:e}function rS(t){const e=fi(t);return ya(e)?t.ownerDocument?t.ownerDocument.body:t.body:jr(e)&&Fc(e)?e:rS(e)}function dc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=rS(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=kn(s);if(i){const a=tg(o);return e.concat(o,o.visualViewport||[],Fc(s)?s:[],a&&n?dc(a):[])}return e.concat(s,dc(s,[],n))}function tg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sS(t){const e=ar(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=jr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Kd(n)!==i||Kd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function qy(t){return or(t)?t:t.contextElement}function Go(t){const e=qy(t);if(!jr(e))return di(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=sS(e);let o=(i?Kd(n.width):n.width)/r,a=(i?Kd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const PD=di(0);function iS(t){const e=kn(t);return!Hy()||!e.visualViewport?PD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ND(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==kn(t)?!1:e}function Zi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=qy(t);let o=di(1);e&&(r?or(r)&&(o=Go(r)):o=Go(t));const a=ND(i,n,r)?iS(i):di(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(i){const f=kn(i),g=r&&or(r)?kn(r):r;let b=f,w=tg(b);for(;w&&r&&g!==b;){const E=Go(w),_=w.getBoundingClientRect(),v=ar(w),T=_.left+(w.clientLeft+parseFloat(v.paddingLeft))*E.x,A=_.top+(w.clientTop+parseFloat(v.paddingTop))*E.y;c*=E.x,d*=E.y,h*=E.x,m*=E.y,c+=T,d+=A,b=kn(w),w=tg(b)}}return Yd({width:h,height:m,x:c,y:d})}function AD(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Or(r),a=e?ef(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=di(1);const h=di(0),m=jr(r);if((m||!m&&!i)&&((Ma(r)!=="body"||Fc(o))&&(c=tf(r)),jr(r))){const f=Zi(r);d=Go(r),h.x=f.x+r.clientLeft,h.y=f.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x,y:n.y*d.y-c.scrollTop*d.y+h.y}}function RD(t){return Array.from(t.getClientRects())}function ng(t,e){const n=tf(t).scrollLeft;return e?e.left+n:Zi(Or(t)).left+n}function kD(t){const e=Or(t),n=tf(t),r=t.ownerDocument.body,s=Cn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Cn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+ng(t);const a=-n.scrollTop;return ar(r).direction==="rtl"&&(o+=Cn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function jD(t,e){const n=kn(t),r=Or(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=Hy();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function DD(t,e){const n=Zi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=jr(t)?Go(t):di(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function j0(t,e,n){let r;if(e==="viewport")r=jD(t,n);else if(e==="document")r=kD(Or(t));else if(or(e))r=DD(e,n);else{const s=iS(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Yd(r)}function oS(t,e){const n=fi(t);return n===e||!or(n)||ya(n)?!1:ar(n).position==="fixed"||oS(n,e)}function OD(t,e){const n=e.get(t);if(n)return n;let r=dc(t,[],!1).filter(a=>or(a)&&Ma(a)!=="body"),s=null;const i=ar(t).position==="fixed";let o=i?fi(t):t;for(;or(o)&&!ya(o);){const a=ar(o),c=Wy(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Fc(o)&&!c&&oS(t,o))?r=r.filter(h=>h!==o):s=a,o=fi(o)}return e.set(t,r),r}function MD(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?ef(e)?[]:OD(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const m=j0(e,h,s);return d.top=Cn(m.top,d.top),d.right=ui(m.right,d.right),d.bottom=ui(m.bottom,d.bottom),d.left=Cn(m.left,d.left),d},j0(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function LD(t){const{width:e,height:n}=sS(t);return{width:e,height:n}}function VD(t,e,n){const r=jr(e),s=Or(e),i=n==="fixed",o=Zi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=di(0);if(r||!r&&!i)if((Ma(e)!=="body"||Fc(s))&&(a=tf(e)),r){const g=Zi(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&(c.x=ng(s));let d=0,h=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();h=g.top+a.scrollTop,d=g.left+a.scrollLeft-ng(s,g)}const m=o.left+a.scrollLeft-c.x-d,f=o.top+a.scrollTop-c.y-h;return{x:m,y:f,width:o.width,height:o.height}}function Pm(t){return ar(t).position==="static"}function D0(t,e){if(!jr(t)||ar(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Or(t)===n&&(n=n.ownerDocument.body),n}function aS(t,e){const n=kn(t);if(ef(t))return n;if(!jr(t)){let s=fi(t);for(;s&&!ya(s);){if(or(s)&&!Pm(s))return s;s=fi(s)}return n}let r=D0(t,e);for(;r&&CD(r)&&Pm(r);)r=D0(r,e);return r&&ya(r)&&Pm(r)&&!Wy(r)?n:r||ID(t)||n}const FD=async function(t){const e=this.getOffsetParent||aS,n=this.getDimensions,r=await n(t.floating);return{reference:VD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function UD(t){return ar(t).direction==="rtl"}const $D={convertOffsetParentRelativeRectToViewportRelativeRect:AD,getDocumentElement:Or,getClippingRect:MD,getOffsetParent:aS,getElementRects:FD,getClientRects:RD,getDimensions:LD,getScale:Go,isElement:or,isRTL:UD};function zD(t,e){let n=null,r;const s=Or(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:d,top:h,width:m,height:f}=t.getBoundingClientRect();if(a||e(),!m||!f)return;const g=Lu(h),b=Lu(s.clientWidth-(d+m)),w=Lu(s.clientHeight-(h+f)),E=Lu(d),v={rootMargin:-g+"px "+-b+"px "+-w+"px "+-E+"px",threshold:Cn(0,ui(1,c))||1};let T=!0;function A(j){const O=j[0].intersectionRatio;if(O!==c){if(!T)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(A,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(A,v)}n.observe(t)}return o(!0),i}function BD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=qy(t),h=s||i?[...d?dc(d):[],...dc(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const m=d&&a?zD(d,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(_=>{let[v]=_;v&&v.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var T;(T=g)==null||T.observe(e)})),n()}),d&&!c&&g.observe(d),g.observe(e));let b,w=c?Zi(t):null;c&&E();function E(){const _=Zi(t);w&&(_.x!==w.x||_.y!==w.y||_.width!==w.width||_.height!==w.height)&&n(),w=_,b=requestAnimationFrame(E)}return n(),()=>{var _;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),m==null||m(),(_=g)==null||_.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const WD=ED,HD=bD,qD=xD,GD=SD,KD=wD,O0=vD,QD=TD,YD=(t,e,n)=>{const r=new Map,s={platform:$D,...n},i={...s.platform,_c:r};return yD(t,e,{...s,platform:i})};var ud=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Xd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Xd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Xd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function lS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function M0(t,e){const n=lS(t);return Math.round(e*n)/n}function Nm(t){const e=y.useRef(t);return ud(()=>{e.current=t}),e}function XD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,m]=y.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=y.useState(r);Xd(f,r)||g(r);const[b,w]=y.useState(null),[E,_]=y.useState(null),v=y.useCallback(M=>{M!==O.current&&(O.current=M,w(M))},[]),T=y.useCallback(M=>{M!==I.current&&(I.current=M,_(M))},[]),A=i||b,j=o||E,O=y.useRef(null),I=y.useRef(null),C=y.useRef(h),S=c!=null,P=Nm(c),k=Nm(s),D=Nm(d),R=y.useCallback(()=>{if(!O.current||!I.current)return;const M={placement:e,strategy:n,middleware:f};k.current&&(M.platform=k.current),YD(O.current,I.current,M).then(W=>{const ne={...W,isPositioned:D.current!==!1};z.current&&!Xd(C.current,ne)&&(C.current=ne,Lc.flushSync(()=>{m(ne)}))})},[f,e,n,k,D]);ud(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,m(M=>({...M,isPositioned:!1})))},[d]);const z=y.useRef(!1);ud(()=>(z.current=!0,()=>{z.current=!1}),[]),ud(()=>{if(A&&(O.current=A),j&&(I.current=j),A&&j){if(P.current)return P.current(A,j,R);R()}},[A,j,R,P,S]);const H=y.useMemo(()=>({reference:O,floating:I,setReference:v,setFloating:T}),[v,T]),Q=y.useMemo(()=>({reference:A,floating:j}),[A,j]),le=y.useMemo(()=>{const M={position:n,left:0,top:0};if(!Q.floating)return M;const W=M0(Q.floating,h.x),ne=M0(Q.floating,h.y);return a?{...M,transform:"translate("+W+"px, "+ne+"px)",...lS(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:ne}},[n,a,Q.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:R,refs:H,elements:Q,floatingStyles:le}),[h,R,H,Q,le])}const JD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?O0({element:r.current,padding:s}).fn(n):{}:r?O0({element:r,padding:s}).fn(n):{}}}},ZD=(t,e)=>({...WD(t),options:[t,e]}),eO=(t,e)=>({...HD(t),options:[t,e]}),tO=(t,e)=>({...QD(t),options:[t,e]}),nO=(t,e)=>({...qD(t),options:[t,e]}),rO=(t,e)=>({...GD(t),options:[t,e]}),sO=(t,e)=>({...KD(t),options:[t,e]}),iO=(t,e)=>({...JD(t),options:[t,e]});var oO="Arrow",cS=y.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(je.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});cS.displayName=oO;var aO=cS;function lO(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];function d(m){const{scope:f,children:g,...b}=m,w=(f==null?void 0:f[t][c])||a,E=y.useMemo(()=>b,Object.values(b));return l.jsx(w.Provider,{value:E,children:g})}function h(m,f){const g=(f==null?void 0:f[t][c])||a,b=y.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,cO(s,...e)]}function cO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...a,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function uO(t){const[e,n]=y.useState(void 0);return kr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var uS="Popper",[dS,hS]=lO(uS),[l8,fS]=dS(uS),mS="PopperAnchor",pS=y.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=fS(mS,n),o=y.useRef(null),a=it(e,o);return y.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(je.div,{...s,ref:a})});pS.displayName=mS;var Gy="PopperContent",[dO,hO]=dS(Gy),gS=y.forwardRef((t,e)=>{var Se,Je,se,ie,ae,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:b,...w}=t,E=fS(Gy,n),[_,v]=y.useState(null),T=it(e,_e=>v(_e)),[A,j]=y.useState(null),O=uO(A),I=(O==null?void 0:O.width)??0,C=(O==null?void 0:O.height)??0,S=r+(i!=="center"?"-"+i:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(d)?d:[d],D=k.length>0,R={padding:P,boundary:k.filter(mO),altBoundary:D},{refs:z,floatingStyles:H,placement:Q,isPositioned:le,middlewareData:M}=XD({strategy:"fixed",placement:S,whileElementsMounted:(..._e)=>BD(..._e,{animationFrame:g==="always"}),elements:{reference:E.anchor},middleware:[ZD({mainAxis:s+C,alignmentAxis:o}),c&&eO({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?tO():void 0,...R}),c&&nO({...R}),rO({...R,apply:({elements:_e,rects:Et,availableWidth:dt,availableHeight:xe})=>{const{width:Ve,height:Vt}=Et.reference,Ne=_e.floating.style;Ne.setProperty("--radix-popper-available-width",`${dt}px`),Ne.setProperty("--radix-popper-available-height",`${xe}px`),Ne.setProperty("--radix-popper-anchor-width",`${Ve}px`),Ne.setProperty("--radix-popper-anchor-height",`${Vt}px`)}}),A&&iO({element:A,padding:a}),pO({arrowWidth:I,arrowHeight:C}),f&&sO({strategy:"referenceHidden",...R})]}),[W,ne]=xS(Q),J=Tt(b);kr(()=>{le&&(J==null||J())},[le,J]);const re=(Se=M.arrow)==null?void 0:Se.x,ce=(Je=M.arrow)==null?void 0:Je.y,B=((se=M.arrow)==null?void 0:se.centerOffset)!==0,[ee,K]=y.useState();return kr(()=>{_&&K(window.getComputedStyle(_).zIndex)},[_]),l.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:le?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(ie=M.transformOrigin)==null?void 0:ie.x,(ae=M.transformOrigin)==null?void 0:ae.y].join(" "),...((Ce=M.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(dO,{scope:n,placedSide:W,onArrowChange:j,arrowX:re,arrowY:ce,shouldHideArrow:B,children:l.jsx(je.div,{"data-side":W,"data-align":ne,...w,ref:T,style:{...w.style,animation:le?void 0:"none"}})})})});gS.displayName=Gy;var yS="PopperArrow",fO={top:"bottom",right:"left",bottom:"top",left:"right"},vS=y.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=hO(yS,r),o=fO[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(aO,{...s,ref:n,style:{...s.style,display:"block"}})})});vS.displayName=yS;function mO(t){return t!==null}var pO=t=>({name:"transformOrigin",options:t,fn(e){var E,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=xS(n),m={start:"0%",center:"50%",end:"100%"}[h],f=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let b="",w="";return d==="bottom"?(b=o?m:`${f}px`,w=`${-c}px`):d==="top"?(b=o?m:`${f}px`,w=`${r.floating.height+c}px`):d==="right"?(b=`${-c}px`,w=o?m:`${g}px`):d==="left"&&(b=`${r.floating.width+c}px`,w=o?m:`${g}px`),{data:{x:b,y:w}}}});function xS(t){const[e,n="center"]=t.split("-");return[e,n]}var gO=pS,yO=gS,vO=vS,[nf,c8]=ka("Tooltip",[hS]),Ky=hS(),wS="TooltipProvider",xO=700,L0="tooltip.open",[wO,_S]=nf(wS),ES=t=>{const{__scopeTooltip:e,delayDuration:n=xO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,a]=y.useState(!0),c=y.useRef(!1),d=y.useRef(0);return y.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),l.jsx(wO,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(d.current),a(!1)},[]),onClose:y.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:y.useCallback(h=>{c.current=h},[]),disableHoverableContent:s,children:i})};ES.displayName=wS;var bS="Tooltip",[u8,rf]=nf(bS),rg="TooltipTrigger",_O=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=rf(rg,n),i=_S(rg,n),o=Ky(n),a=y.useRef(null),c=it(e,a,s.onTriggerChange),d=y.useRef(!1),h=y.useRef(!1),m=y.useCallback(()=>d.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),l.jsx(gO,{asChild:!0,...o,children:l.jsx(je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Ae(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ae(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Ae(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ae(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Ae(t.onBlur,s.onClose),onClick:Ae(t.onClick,s.onClose)})})});_O.displayName=rg;var EO="TooltipPortal",[d8,bO]=nf(EO,{forceMount:void 0}),va="TooltipContent",TS=y.forwardRef((t,e)=>{const n=bO(va,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=rf(va,t.__scopeTooltip);return l.jsx(dr,{present:r||o.open,children:o.disableHoverableContent?l.jsx(SS,{side:s,...i,ref:e}):l.jsx(TO,{side:s,...i,ref:e})})}),TO=y.forwardRef((t,e)=>{const n=rf(va,t.__scopeTooltip),r=_S(va,t.__scopeTooltip),s=y.useRef(null),i=it(e,s),[o,a]=y.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:m}=r,f=y.useCallback(()=>{a(null),m(!1)},[m]),g=y.useCallback((b,w)=>{const E=b.currentTarget,_={x:b.clientX,y:b.clientY},v=PO(_,E.getBoundingClientRect()),T=NO(_,v),A=AO(w.getBoundingClientRect()),j=kO([...T,...A]);a(j),m(!0)},[m]);return y.useEffect(()=>()=>f(),[f]),y.useEffect(()=>{if(c&&h){const b=E=>g(E,h),w=E=>g(E,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",w)}}},[c,h,g,f]),y.useEffect(()=>{if(o){const b=w=>{const E=w.target,_={x:w.clientX,y:w.clientY},v=(c==null?void 0:c.contains(E))||(h==null?void 0:h.contains(E)),T=!RO(_,o);v?f():T&&(f(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,o,d,f]),l.jsx(SS,{...t,ref:i})}),[SO,CO]=nf(bS,{isInside:!1}),SS=y.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=rf(va,n),d=Ky(n),{onClose:h}=c;return y.useEffect(()=>(document.addEventListener(L0,h),()=>document.removeEventListener(L0,h)),[h]),y.useEffect(()=>{if(c.trigger){const m=f=>{const g=f.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,h]),l.jsx(Hh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:l.jsxs(yO,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(mT,{children:r}),l.jsx(SO,{scope:n,isInside:!0,children:l.jsx(x2,{id:c.contentId,role:"tooltip",children:s||r})})]})})});TS.displayName=va;var CS="TooltipArrow",IO=y.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ky(n);return CO(CS,n).isInside?null:l.jsx(vO,{...s,...r,ref:e})});IO.displayName=CS;function PO(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function NO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function AO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function RO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,d=e[o].x,h=e[o].y;c>r!=h>r&&n<(d-a)*(r-c)/(h-c)+a&&(s=!s)}return s}function kO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),jO(e)}function jO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var DO=ES,IS=TS;const OO=DO,MO=y.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(IS,{ref:r,sideOffset:e,className:ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));MO.displayName=IS.displayName;var sf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},of=typeof window>"u"||"Deno"in globalThis;function Xn(){}function LO(t,e){return typeof t=="function"?t(e):t}function VO(t){return typeof t=="number"&&t>=0&&t!==1/0}function FO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function V0(t,e){return typeof t=="function"?t(e):t}function UO(t,e){return typeof t=="function"?t(e):t}function F0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Qy(o,e.options))return!1}else if(!fc(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function U0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(hc(e.options.mutationKey)!==hc(i))return!1}else if(!fc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Qy(t,e){return((e==null?void 0:e.queryKeyHashFn)||hc)(t)}function hc(t){return JSON.stringify(t,(e,n)=>sg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!fc(t[n],e[n])):!1}function PS(t,e){if(t===e)return t;const n=$0(t)&&$0(e);if(n||sg(t)&&sg(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let d=0;d<o;d++){const h=n?d:i[d];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,c++):(a[h]=PS(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function $0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sg(t){if(!z0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!z0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function z0(t){return Object.prototype.toString.call(t)==="[object Object]"}function $O(t){return new Promise(e=>{setTimeout(e,t)})}function zO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?PS(t,e):e}function BO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function WO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Yy=Symbol();function NS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Yy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var $i,Ls,ea,BE,HO=(BE=class extends sf{constructor(){super();De(this,$i);De(this,Ls);De(this,ea);ve(this,ea,e=>{if(!of&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){$(this,Ls)||this.setEventListener($(this,ea))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Ls))==null||e.call(this),ve(this,Ls,void 0))}setEventListener(e){var n;ve(this,ea,e),(n=$(this,Ls))==null||n.call(this),ve(this,Ls,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){$(this,$i)!==e&&(ve(this,$i,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof $(this,$i)=="boolean"?$(this,$i):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$i=new WeakMap,Ls=new WeakMap,ea=new WeakMap,BE),AS=new HO,ta,Vs,na,WE,qO=(WE=class extends sf{constructor(){super();De(this,ta,!0);De(this,Vs);De(this,na);ve(this,na,e=>{if(!of&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){$(this,Vs)||this.setEventListener($(this,na))}onUnsubscribe(){var e;this.hasListeners()||((e=$(this,Vs))==null||e.call(this),ve(this,Vs,void 0))}setEventListener(e){var n;ve(this,na,e),(n=$(this,Vs))==null||n.call(this),ve(this,Vs,e(this.setOnline.bind(this)))}setOnline(e){$(this,ta)!==e&&(ve(this,ta,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return $(this,ta)}},ta=new WeakMap,Vs=new WeakMap,na=new WeakMap,WE),Jd=new qO;function GO(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function KO(t){return Math.min(1e3*2**t,3e4)}function RS(t){return(t??"online")==="online"?Jd.isOnline():!0}var kS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Am(t){return t instanceof kS}function jS(t){let e=!1,n=0,r=!1,s;const i=GO(),o=w=>{var E;r||(f(new kS(w)),(E=t.abort)==null||E.call(t))},a=()=>{e=!0},c=()=>{e=!1},d=()=>AS.isFocused()&&(t.networkMode==="always"||Jd.isOnline())&&t.canRun(),h=()=>RS(t.networkMode)&&t.canRun(),m=w=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,w),s==null||s(),i.resolve(w))},f=w=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,w),s==null||s(),i.reject(w))},g=()=>new Promise(w=>{var E;s=_=>{(r||d())&&w(_)},(E=t.onPause)==null||E.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),b=()=>{if(r)return;let w;const E=n===0?t.initialPromise:void 0;try{w=E??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(m).catch(_=>{var O;if(r)return;const v=t.retry??(of?0:3),T=t.retryDelay??KO,A=typeof T=="function"?T(n,_):T,j=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!j){f(_);return}n++,(O=t.onFail)==null||O.call(t,n,_),$O(A).then(()=>d()?void 0:g()).then(()=>{e?f(_):b()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?b():g().then(b),i)}}function QO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var rn=QO(),zi,HE,DS=(HE=class{constructor(){De(this,zi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VO(this.gcTime)&&ve(this,zi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(of?1/0:5*60*1e3))}clearGcTimeout(){$(this,zi)&&(clearTimeout($(this,zi)),ve(this,zi,void 0))}},zi=new WeakMap,HE),ra,sa,Ln,Gt,Ac,Bi,Jn,Wr,qE,YO=(qE=class extends DS{constructor(n){super();De(this,Jn);De(this,ra);De(this,sa);De(this,Ln);De(this,Gt);De(this,Ac);De(this,Bi);ve(this,Bi,!1),ve(this,Ac,n.defaultOptions),this.setOptions(n.options),this.observers=[],ve(this,Ln,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ve(this,ra,JO(this.options)),this.state=n.state??$(this,ra),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=$(this,Gt))==null?void 0:n.promise}setOptions(n){this.options={...$(this,Ac),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,Ln).remove(this)}setData(n,r){const s=zO(this.state.data,n,this.options);return zt(this,Jn,Wr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){zt(this,Jn,Wr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=$(this,Gt))==null?void 0:s.promise;return(i=$(this,Gt))==null||i.cancel(n),r?r.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,ra))}isActive(){return this.observers.some(n=>UO(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!FO(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Gt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=$(this,Gt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),$(this,Ln).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||($(this,Gt)&&($(this,Bi)?$(this,Gt).cancel({revert:!0}):$(this,Gt).cancelRetry()),this.scheduleGc()),$(this,Ln).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||zt(this,Jn,Wr).call(this,{type:"invalidate"})}fetch(n,r){var d,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Gt))return $(this,Gt).continueRetry(),$(this,Gt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(g=>g.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ve(this,Bi,!0),s.signal)})},o=()=>{const f=NS(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),ve(this,Bi,!1),this.options.persister?this.options.persister(f,g,this):f(g)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(d=this.options.behavior)==null||d.onFetch(a,this),ve(this,sa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&zt(this,Jn,Wr).call(this,{type:"fetch",meta:(m=a.fetchOptions)==null?void 0:m.meta});const c=f=>{var g,b,w,E;Am(f)&&f.silent||zt(this,Jn,Wr).call(this,{type:"error",error:f}),Am(f)||((b=(g=$(this,Ln).config).onError)==null||b.call(g,f,this),(E=(w=$(this,Ln).config).onSettled)==null||E.call(w,this.state.data,f,this)),this.scheduleGc()};return ve(this,Gt,jS({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var g,b,w,E;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(_){c(_);return}(b=(g=$(this,Ln).config).onSuccess)==null||b.call(g,f,this),(E=(w=$(this,Ln).config).onSettled)==null||E.call(w,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,g)=>{zt(this,Jn,Wr).call(this,{type:"failed",failureCount:f,error:g})},onPause:()=>{zt(this,Jn,Wr).call(this,{type:"pause"})},onContinue:()=>{zt(this,Jn,Wr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),$(this,Gt).start()}},ra=new WeakMap,sa=new WeakMap,Ln=new WeakMap,Gt=new WeakMap,Ac=new WeakMap,Bi=new WeakMap,Jn=new WeakSet,Wr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...XO(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Am(i)&&i.revert&&$(this,sa)?{...$(this,sa),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),rn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),$(this,Ln).notify({query:this,type:"updated",action:n})})},qE);function XO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:RS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function JO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xr,GE,ZO=(GE=class extends sf{constructor(e={}){super();De(this,xr);this.config=e,ve(this,xr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Qy(s,n);let o=this.get(i);return o||(o=new YO({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){$(this,xr).has(e.queryHash)||($(this,xr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=$(this,xr).get(e.queryHash);n&&(e.destroy(),n===e&&$(this,xr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){rn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return $(this,xr).get(e)}getAll(){return[...$(this,xr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>F0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>F0(e,r)):n}notify(e){rn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xr=new WeakMap,GE),wr,tn,Wi,_r,Ps,KE,eM=(KE=class extends DS{constructor(n){super();De(this,_r);De(this,wr);De(this,tn);De(this,Wi);this.mutationId=n.mutationId,ve(this,tn,n.mutationCache),ve(this,wr,[]),this.state=n.state||tM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){$(this,wr).includes(n)||($(this,wr).push(n),this.clearGcTimeout(),$(this,tn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ve(this,wr,$(this,wr).filter(r=>r!==n)),this.scheduleGc(),$(this,tn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){$(this,wr).length||(this.state.status==="pending"?this.scheduleGc():$(this,tn).remove(this))}continue(){var n;return((n=$(this,Wi))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,c,d,h,m,f,g,b,w,E,_,v,T,A,j,O,I,C;ve(this,Wi,jS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(S,P)=>{zt(this,_r,Ps).call(this,{type:"failed",failureCount:S,error:P})},onPause:()=>{zt(this,_r,Ps).call(this,{type:"pause"})},onContinue:()=>{zt(this,_r,Ps).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,tn).canRun(this)}));const r=this.state.status==="pending",s=!$(this,Wi).canStart();try{if(!r){zt(this,_r,Ps).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=$(this,tn).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));P!==this.state.context&&zt(this,_r,Ps).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const S=await $(this,Wi).start();return await((h=(d=$(this,tn).config).onSuccess)==null?void 0:h.call(d,S,n,this.state.context,this)),await((f=(m=this.options).onSuccess)==null?void 0:f.call(m,S,n,this.state.context)),await((b=(g=$(this,tn).config).onSettled)==null?void 0:b.call(g,S,null,this.state.variables,this.state.context,this)),await((E=(w=this.options).onSettled)==null?void 0:E.call(w,S,null,n,this.state.context)),zt(this,_r,Ps).call(this,{type:"success",data:S}),S}catch(S){try{throw await((v=(_=$(this,tn).config).onError)==null?void 0:v.call(_,S,n,this.state.context,this)),await((A=(T=this.options).onError)==null?void 0:A.call(T,S,n,this.state.context)),await((O=(j=$(this,tn).config).onSettled)==null?void 0:O.call(j,void 0,S,this.state.variables,this.state.context,this)),await((C=(I=this.options).onSettled)==null?void 0:C.call(I,void 0,S,n,this.state.context)),S}finally{zt(this,_r,Ps).call(this,{type:"error",error:S})}}finally{$(this,tn).runNext(this)}}},wr=new WeakMap,tn=new WeakMap,Wi=new WeakMap,_r=new WeakSet,Ps=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rn.batch(()=>{$(this,wr).forEach(s=>{s.onMutationUpdate(n)}),$(this,tn).notify({mutation:this,type:"updated",action:n})})},KE);function tM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bn,Rc,QE,nM=(QE=class extends sf{constructor(e={}){super();De(this,bn);De(this,Rc);this.config=e,ve(this,bn,new Map),ve(this,Rc,Date.now())}build(e,n,r){const s=new eM({mutationCache:this,mutationId:++gu(this,Rc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Vu(e),r=$(this,bn).get(n)??[];r.push(e),$(this,bn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Vu(e);if($(this,bn).has(n)){const s=(r=$(this,bn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?$(this,bn).delete(n):$(this,bn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=$(this,bn).get(Vu(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=$(this,bn).get(Vu(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){rn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...$(this,bn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>U0(n,r))}findAll(e={}){return this.getAll().filter(n=>U0(e,n))}notify(e){rn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return rn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xn))))}},bn=new WeakMap,Rc=new WeakMap,QE);function Vu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function B0(t){return{onFetch:(e,n)=>{var h,m,f,g,b;const r=e.options,s=(f=(m=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:f.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((b=e.state.data)==null?void 0:b.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let w=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=NS(e.options,e.fetchOptions),v=async(T,A,j)=>{if(w)return Promise.reject();if(A==null&&T.pages.length)return Promise.resolve(T);const O={queryKey:e.queryKey,pageParam:A,direction:j?"backward":"forward",meta:e.options.meta};E(O);const I=await _(O),{maxPages:C}=e.options,S=j?WO:BO;return{pages:S(T.pages,I,C),pageParams:S(T.pageParams,A,C)}};if(s&&i.length){const T=s==="backward",A=T?rM:W0,j={pages:i,pageParams:o},O=A(r,j);a=await v(j,O,T)}else{const T=t??i.length;do{const A=c===0?o[0]??r.initialPageParam:W0(r,a);if(c>0&&A==null)break;a=await v(a,A),c++}while(c<T)}return a};e.options.persister?e.fetchFn=()=>{var w,E;return(E=(w=e.options).persister)==null?void 0:E.call(w,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function W0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function rM(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ct,Fs,Us,ia,oa,$s,aa,la,YE,sM=(YE=class{constructor(t={}){De(this,ct);De(this,Fs);De(this,Us);De(this,ia);De(this,oa);De(this,$s);De(this,aa);De(this,la);ve(this,ct,t.queryCache||new ZO),ve(this,Fs,t.mutationCache||new nM),ve(this,Us,t.defaultOptions||{}),ve(this,ia,new Map),ve(this,oa,new Map),ve(this,$s,0)}mount(){gu(this,$s)._++,$(this,$s)===1&&(ve(this,aa,AS.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,ct).onFocus())})),ve(this,la,Jd.subscribe(async t=>{t&&(await this.resumePausedMutations(),$(this,ct).onOnline())})))}unmount(){var t,e;gu(this,$s)._--,$(this,$s)===0&&((t=$(this,aa))==null||t.call(this),ve(this,aa,void 0),(e=$(this,la))==null||e.call(this),ve(this,la,void 0))}isFetching(t){return $(this,ct).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return $(this,Fs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,ct).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=$(this,ct).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(V0(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return $(this,ct).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=$(this,ct).get(r.queryHash),i=s==null?void 0:s.state.data,o=LO(e,i);if(o!==void 0)return $(this,ct).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return rn.batch(()=>$(this,ct).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=$(this,ct).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=$(this,ct);rn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=$(this,ct),r={type:"active",...t};return rn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=rn.batch(()=>$(this,ct).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(t={},e={}){return rn.batch(()=>{if($(this,ct).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=rn.batch(()=>$(this,ct).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Xn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=$(this,ct).build(this,e);return n.isStaleByTime(V0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=B0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=B0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jd.isOnline()?$(this,Fs).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,ct)}getMutationCache(){return $(this,Fs)}getDefaultOptions(){return $(this,Us)}setDefaultOptions(t){ve(this,Us,t)}setQueryDefaults(t,e){$(this,ia).set(hc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...$(this,ia).values()];let n={};return e.forEach(r=>{fc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){$(this,oa).set(hc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...$(this,oa).values()];let n={};return e.forEach(r=>{fc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...$(this,Us).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Qy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Yy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...$(this,Us).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){$(this,ct).clear(),$(this,Fs).clear()}},ct=new WeakMap,Fs=new WeakMap,Us=new WeakMap,ia=new WeakMap,oa=new WeakMap,$s=new WeakMap,aa=new WeakMap,la=new WeakMap,YE),iM=y.createContext(void 0),oM=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(iM.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}var Ws;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ws||(Ws={}));const H0="popstate";function aM(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return ig("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Zd(s)}return cM(e,n,null,t)}function wt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function OS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lM(){return Math.random().toString(36).substr(2,8)}function q0(t,e){return{usr:t.state,key:t.key,idx:e}}function ig(t,e,n,r){return n===void 0&&(n=null),mc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?La(e):e,{state:n,key:e&&e.key||r||lM()})}function Zd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function La(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cM(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ws.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(mc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function m(){a=Ws.Pop;let E=h(),_=E==null?null:E-d;d=E,c&&c({action:a,location:w.location,delta:_})}function f(E,_){a=Ws.Push;let v=ig(w.location,E,_);d=h()+1;let T=q0(v,d),A=w.createHref(v);try{o.pushState(T,"",A)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(A)}i&&c&&c({action:a,location:w.location,delta:1})}function g(E,_){a=Ws.Replace;let v=ig(w.location,E,_);d=h();let T=q0(v,d),A=w.createHref(v);o.replaceState(T,"",A),i&&c&&c({action:a,location:w.location,delta:0})}function b(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:Zd(E);return v=v.replace(/ $/,"%20"),wt(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let w={get action(){return a},get location(){return t(s,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(H0,m),c=E,()=>{s.removeEventListener(H0,m),c=null}},createHref(E){return e(s,E)},createURL:b,encodeLocation(E){let _=b(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:g,go(E){return o.go(E)}};return w}var G0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(G0||(G0={}));function uM(t,e,n){return n===void 0&&(n="/"),dM(t,e,n,!1)}function dM(t,e,n,r){let s=typeof e=="string"?La(e):e,i=Xy(s.pathname||"/",n);if(i==null)return null;let o=MS(t);hM(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=bM(i);a=_M(o[c],d,r)}return a}function MS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(wt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ei([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(wt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),MS(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:xM(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of LS(i.path))s(i,o,c)}),e}function LS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=LS(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function hM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:wM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fM=/^:[\w-]+$/,mM=3,pM=2,gM=1,yM=10,vM=-2,K0=t=>t==="*";function xM(t,e){let n=t.split("/"),r=n.length;return n.some(K0)&&(r+=vM),e&&(r+=pM),n.filter(s=>!K0(s)).reduce((s,i)=>s+(fM.test(i)?mM:i===""?gM:yM),r)}function wM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function _M(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=Q0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),f=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=Q0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:ei([i,m.pathname]),pathnameBase:IM(ei([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=ei([i,m.pathnameBase]))}return o}function Q0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EM(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,m)=>{let{paramName:f,isOptional:g}=h;if(f==="*"){let w=a[m]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=a[m];return g&&!b?d[f]=void 0:d[f]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function EM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),OS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function bM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return OS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function TM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?La(t):t;return{pathname:n?n.startsWith("/")?n:SM(n,e):e,search:PM(r),hash:NM(s)}}function SM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Rm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function CM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VS(t,e){let n=CM(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function FS(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=La(t):(s=mc({},t),wt(!s.pathname||!s.pathname.includes("?"),Rm("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),Rm("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),Rm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}a=m>=0?e[m]:"/"}let c=TM(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const ei=t=>t.join("/").replace(/\/\/+/g,"/"),IM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const US=["post","put","patch","delete"];new Set(US);const RM=["get",...US];new Set(RM);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}const Jy=y.createContext(null),kM=y.createContext(null),co=y.createContext(null),af=y.createContext(null),uo=y.createContext({outlet:null,matches:[],isDataRoute:!1}),$S=y.createContext(null);function jM(t,e){let{relative:n}=e===void 0?{}:e;Uc()||wt(!1);let{basename:r,navigator:s}=y.useContext(co),{hash:i,pathname:o,search:a}=BS(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ei([r,o])),s.createHref({pathname:c,search:a,hash:i})}function Uc(){return y.useContext(af)!=null}function Mr(){return Uc()||wt(!1),y.useContext(af).location}function zS(t){y.useContext(co).static||y.useLayoutEffect(t)}function hr(){let{isDataRoute:t}=y.useContext(uo);return t?qM():DM()}function DM(){Uc()||wt(!1);let t=y.useContext(Jy),{basename:e,future:n,navigator:r}=y.useContext(co),{matches:s}=y.useContext(uo),{pathname:i}=Mr(),o=JSON.stringify(VS(s,n.v7_relativeSplatPath)),a=y.useRef(!1);return zS(()=>{a.current=!0}),y.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let m=FS(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ei([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,o,i,t])}function BS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=y.useContext(co),{matches:s}=y.useContext(uo),{pathname:i}=Mr(),o=JSON.stringify(VS(s,r.v7_relativeSplatPath));return y.useMemo(()=>FS(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function OM(t,e){return MM(t,e)}function MM(t,e,n,r){Uc()||wt(!1);let{navigator:s}=y.useContext(co),{matches:i}=y.useContext(uo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=Mr(),h;if(e){var m;let E=typeof e=="string"?La(e):e;c==="/"||(m=E.pathname)!=null&&m.startsWith(c)||wt(!1),h=E}else h=d;let f=h.pathname||"/",g=f;if(c!=="/"){let E=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=uM(t,{pathname:g}),w=$M(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ei([c,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:ei([c,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&w?y.createElement(af.Provider,{value:{location:pc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ws.Pop}},w):w}function LM(){let t=HM(),e=AM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),n?y.createElement("pre",{style:s},n):null,null)}const VM=y.createElement(LM,null);class FM extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?y.createElement(uo.Provider,{value:this.props.routeContext},y.createElement($S.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UM(t){let{routeContext:e,match:n,children:r}=t,s=y.useContext(Jy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement(uo.Provider,{value:e},r)}function $M(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);h>=0||wt(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:f,errors:g}=n,b=m.route.loader&&f[m.route.id]===void 0&&(!g||g[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,m,f)=>{let g,b=!1,w=null,E=null;n&&(g=a&&m.route.id?a[m.route.id]:void 0,w=m.route.errorElement||VM,c&&(d<0&&f===0?(b=!0,E=null):d===f&&(b=!0,E=m.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),v=()=>{let T;return g?T=w:b?T=E:m.route.Component?T=y.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=h,y.createElement(UM,{match:m,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:T})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?y.createElement(FM,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var WS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WS||{}),eh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(eh||{});function zM(t){let e=y.useContext(Jy);return e||wt(!1),e}function BM(t){let e=y.useContext(kM);return e||wt(!1),e}function WM(t){let e=y.useContext(uo);return e||wt(!1),e}function HS(t){let e=WM(),n=e.matches[e.matches.length-1];return n.route.id||wt(!1),n.route.id}function HM(){var t;let e=y.useContext($S),n=BM(eh.UseRouteError),r=HS(eh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qM(){let{router:t}=zM(WS.UseNavigateStable),e=HS(eh.UseNavigateStable),n=y.useRef(!1);return zS(()=>{n.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,pc({fromRouteId:e},i)))},[t,e])}function qt(t){wt(!1)}function GM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ws.Pop,navigator:i,static:o=!1,future:a}=t;Uc()&&wt(!1);let c=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:i,static:o,future:pc({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=La(r));let{pathname:h="/",search:m="",hash:f="",state:g=null,key:b="default"}=r,w=y.useMemo(()=>{let E=Xy(h,c);return E==null?null:{location:{pathname:E,search:m,hash:f,state:g,key:b},navigationType:s}},[c,h,m,f,g,b,s]);return w==null?null:y.createElement(co.Provider,{value:d},y.createElement(af.Provider,{children:n,value:w}))}function KM(t){let{children:e,location:n}=t;return OM(og(e),n)}new Promise(()=>{});function og(t,e){e===void 0&&(e=[]);let n=[];return y.Children.forEach(t,(r,s)=>{if(!y.isValidElement(r))return;let i=[...e,s];if(r.type===y.Fragment){n.push.apply(n,og(r.props.children,i));return}r.type!==qt&&wt(!1),!r.props.index||!r.props.children||wt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=og(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}function QM(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function YM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XM(t,e){return t.button===0&&(!e||e==="_self")&&!YM(t)}const JM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ZM="6";try{window.__reactRouterVersion=ZM}catch{}const e4="startTransition",Y0=l1[e4];function t4(t){let{basename:e,children:n,future:r,window:s}=t,i=y.useRef();i.current==null&&(i.current=aM({window:s,v5Compat:!0}));let o=i.current,[a,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=y.useCallback(m=>{d&&Y0?Y0(()=>c(m)):c(m)},[c,d]);return y.useLayoutEffect(()=>o.listen(h),[o,h]),y.createElement(GM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const n4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yr=y.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:m}=e,f=QM(e,JM),{basename:g}=y.useContext(co),b,w=!1;if(typeof d=="string"&&r4.test(d)&&(b=d,n4))try{let T=new URL(window.location.href),A=d.startsWith("//")?new URL(T.protocol+d):new URL(d),j=Xy(A.pathname,g);A.origin===T.origin&&j!=null?d=j+A.search+A.hash:w=!0}catch{}let E=jM(d,{relative:s}),_=s4(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:m});function v(T){r&&r(T),T.defaultPrevented||_(T)}return y.createElement("a",ag({},f,{href:b||E,onClick:w||i?r:v,ref:n,target:c}))});var X0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(X0||(X0={}));var J0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(J0||(J0={}));function s4(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=hr(),d=Mr(),h=BS(t,{relative:o});return y.useCallback(m=>{if(XM(m,n)){m.preventDefault();let f=r!==void 0?r:Zd(d)===Zd(h);c(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,h,r,s,n,t,i,o,a])}const i4=()=>{};var Z0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},o4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},GS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,m=(i&3)<<4|a>>4;let f=(a&15)<<2|d>>6,g=d&63;c||(g=64,o||(f=64)),r.push(n[h],n[m],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||m==null)throw new a4;const f=i<<2|a>>4;if(r.push(f),d!==64){const g=a<<4&240|d>>2;if(r.push(g),m!==64){const b=d<<6&192|m;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l4=function(t){const e=qS(t);return GS.encodeByteArray(e,!0)},th=function(t){return l4(t).replace(/\./g,"")},KS=function(t){try{return GS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=()=>c4().__FIREBASE_DEFAULTS__,d4=()=>{if(typeof process>"u"||typeof Z0>"u")return;const t=Z0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KS(t[1]);return e&&JSON.parse(e)},lf=()=>{try{return i4()||u4()||d4()||h4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QS=t=>{var e,n;return(n=(e=lf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},f4=t=>{const e=QS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YS=()=>{var t;return(t=lf())==null?void 0:t.config},XS=t=>{var e;return(e=lf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[th(JSON.stringify(n)),th(JSON.stringify(o)),""].join(".")}const $l={};function g4(){const t={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?t.emulator.push(e):t.prod.push(e);return t}function y4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let e_=!1;function ZS(t,e){if(typeof window>"u"||typeof document>"u"||!Va(window.location.host)||$l[t]===e||$l[t]||e_)return;$l[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=g4().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function d(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{e_=!0,o()},f}function h(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function m(){const f=y4(r),g=n("text"),b=document.getElementById(g)||document.createElement("span"),w=n("learnmore"),E=document.getElementById(w)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),h(E,w);const A=d();c(v,_),T.append(v,b,E,A),document.body.appendChild(T)}i?(b.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function x4(){var e;const t=(e=lf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function w4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function E4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b4(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T4(){return!x4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S4(){try{return typeof indexedDB=="object"}catch{return!1}}function C4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function m8(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="FirebaseError";class hs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=I4,Object.setPrototypeOf(this,hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?P4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new hs(s,a,r)}}function P4(t,e){return t.replace(N4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const N4=/\{\$([^}]+)}/g;function A4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(t_(i)&&t_(o)){if(!eo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function t_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function R4(t,e){const n=new k4(t,e);return n.subscribe.bind(n)}class k4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");j4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=km),s.error===void 0&&(s.error=km),s.complete===void 0&&(s.complete=km);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function km(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=1e3,O4=2,M4=4*60*60*1e3,L4=.5;function p8(t,e=D4,n=O4){const r=e*Math.pow(n,t),s=Math.round(L4*r*(Math.random()-.5)*2);return Math.min(M4,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class to{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U4(e))try{this.getOrInitializeService({instanceIdentifier:ji})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ji){return this.instances.has(e)}getOptions(e=ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ji){return this.component?this.component.multipleInstances?e:ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F4(t){return t===ji?void 0:t}function U4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const z4={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},B4=Ee.INFO,W4={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},H4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=W4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zy{constructor(e){this.name=e,this._logLevel=B4,this._logHandler=H4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const q4=(t,e)=>e.some(n=>t instanceof n);let n_,r_;function G4(){return n_||(n_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K4(){return r_||(r_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eC=new WeakMap,lg=new WeakMap,tC=new WeakMap,jm=new WeakMap,ev=new WeakMap;function Q4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ti(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eC.set(n,t)}).catch(()=>{}),ev.set(e,t),e}function Y4(t){if(lg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});lg.set(t,e)}let cg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ti(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X4(t){cg=t(cg)}function J4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dm(this),e,...n);return tC.set(r,e.sort?e.sort():[e]),ti(r)}:K4().includes(t)?function(...e){return t.apply(Dm(this),e),ti(eC.get(this))}:function(...e){return ti(t.apply(Dm(this),e))}}function Z4(t){return typeof t=="function"?J4(t):(t instanceof IDBTransaction&&Y4(t),q4(t,G4())?new Proxy(t,cg):t)}function ti(t){if(t instanceof IDBRequest)return Q4(t);if(jm.has(t))return jm.get(t);const e=Z4(t);return e!==t&&(jm.set(t,e),ev.set(e,t)),e}const Dm=t=>ev.get(t);function eL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ti(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ti(o.result),c.oldVersion,c.newVersion,ti(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const tL=["get","getKey","getAll","getAllKeys","count"],nL=["put","add","delete","clear"],Om=new Map;function s_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=nL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tL.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return Om.set(e,i),i}X4(t=>({...t,get:(e,n,r)=>s_(e,n)||t.get(e,n,r),has:(e,n)=>!!s_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ug="@firebase/app",i_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Zy("@firebase/app"),iL="@firebase/app-compat",oL="@firebase/analytics-compat",aL="@firebase/analytics",lL="@firebase/app-check-compat",cL="@firebase/app-check",uL="@firebase/auth",dL="@firebase/auth-compat",hL="@firebase/database",fL="@firebase/data-connect",mL="@firebase/database-compat",pL="@firebase/functions",gL="@firebase/functions-compat",yL="@firebase/installations",vL="@firebase/installations-compat",xL="@firebase/messaging",wL="@firebase/messaging-compat",_L="@firebase/performance",EL="@firebase/performance-compat",bL="@firebase/remote-config",TL="@firebase/remote-config-compat",SL="@firebase/storage",CL="@firebase/storage-compat",IL="@firebase/firestore",PL="@firebase/ai",NL="@firebase/firestore-compat",AL="firebase",RL="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",kL={[ug]:"fire-core",[iL]:"fire-core-compat",[aL]:"fire-analytics",[oL]:"fire-analytics-compat",[cL]:"fire-app-check",[lL]:"fire-app-check-compat",[uL]:"fire-auth",[dL]:"fire-auth-compat",[hL]:"fire-rtdb",[fL]:"fire-data-connect",[mL]:"fire-rtdb-compat",[pL]:"fire-fn",[gL]:"fire-fn-compat",[yL]:"fire-iid",[vL]:"fire-iid-compat",[xL]:"fire-fcm",[wL]:"fire-fcm-compat",[_L]:"fire-perf",[EL]:"fire-perf-compat",[bL]:"fire-rc",[TL]:"fire-rc-compat",[SL]:"fire-gcs",[CL]:"fire-gcs-compat",[IL]:"fire-fst",[NL]:"fire-fst-compat",[PL]:"fire-vertex","fire-js":"fire-js",[AL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,jL=new Map,hg=new Map;function o_(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function xa(t){const e=t.name;if(hg.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;hg.set(e,t);for(const n of nh.values())o_(n,t);for(const n of jL.values())o_(n,t);return!0}function tv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new $c("app","Firebase",DL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=RL;function nC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:dg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw ni.create("bad-app-name",{appName:String(s)});if(n||(n=YS()),!n)throw ni.create("no-options");const i=nh.get(s);if(i){if(eo(n,i.options)&&eo(r,i.config))return i;throw ni.create("duplicate-app",{appName:s})}const o=new $4(s);for(const c of hg.values())o.addComponent(c);const a=new OL(n,r,o);return nh.set(s,a),a}function rC(t=dg){const e=nh.get(t);if(!e&&t===dg&&YS())return nC();if(!e)throw ni.create("no-app",{appName:t});return e}function ri(t,e,n){let r=kL[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(o.join(" "));return}xa(new to(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="firebase-heartbeat-database",LL=1,gc="firebase-heartbeat-store";let Mm=null;function sC(){return Mm||(Mm=eL(ML,LL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ni.create("idb-open",{originalErrorMessage:t.message})})),Mm}async function VL(t){try{const n=(await sC()).transaction(gc),r=await n.objectStore(gc).get(iC(t));return await n.done,r}catch(e){if(e instanceof hs)as.warn(e.message);else{const n=ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function a_(t,e){try{const r=(await sC()).transaction(gc,"readwrite");await r.objectStore(gc).put(e,iC(t)),await r.done}catch(n){if(n instanceof hs)as.warn(n.message);else{const r=ni.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(r.message)}}}function iC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=1024,UL=30;class $L{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=l_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>UL){const o=WL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){as.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l_(),{heartbeatsToSend:r,unsentEntries:s}=zL(this._heartbeatsCache.heartbeats),i=th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return as.warn(n),""}}}function l_(){return new Date().toISOString().substring(0,10)}function zL(t,e=FL){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),c_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),c_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return S4()?C4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function c_(t){return th(JSON.stringify({version:2,heartbeats:t})).length}function WL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){xa(new to("platform-logger",e=>new rL(e),"PRIVATE")),xa(new to("heartbeat",e=>new $L(e),"PRIVATE")),ri(ug,i_,t),ri(ug,i_,"esm2020"),ri("fire-js","")}HL("");function oC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qL=oC,aC=new $c("auth","Firebase",oC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Zy("@firebase/auth");function GL(t,...e){rh.logLevel<=Ee.WARN&&rh.warn(`Auth (${Fa}): ${t}`,...e)}function dd(t,...e){rh.logLevel<=Ee.ERROR&&rh.error(`Auth (${Fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw rv(t,...e)}function sr(t,...e){return rv(t,...e)}function nv(t,e,n){const r={...qL(),[e]:n};return new $c("auth","Firebase",r).create(e,{appName:t.name})}function Zr(t){return nv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qn(t,"argument-error"),nv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aC.create(t,...e)}function de(t,e,...n){if(!t)throw rv(e,...n)}function Yr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dd(e),new Error(e)}function ls(t,e){t||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function QL(){return u_()==="http:"||u_()==="https:"}function u_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QL()||_4()||"connection"in navigator)?navigator.onLine:!0}function XL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ls(n>e,"Short delay should be less than long delay!"),this.isMobile=v4()||E4()}get(){return YL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t,e){ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eV=new Bc(3e4,6e4);function fs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ms(t,e,n,r,s={}){return cC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=zc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return w4()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Va(t.emulatorConfig.host)&&(d.credentials="include"),lC.fetch()(await uC(t,t.config.apiHost,n,a),d)})}async function cC(t,e,n){t._canInitEmulator=!1;const r={...JL,...e};try{const s=new nV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Fu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Fu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Fu(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw nv(t,h,d);qn(t,h)}}catch(s){if(s instanceof hs)throw s;qn(t,"network-request-failed",{message:String(s)})}}async function Wc(t,e,n,r,s={}){const i=await ms(t,e,n,r,s);return"mfaPendingCredential"in i&&qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function uC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?sv(t.config,s):`${t.config.apiScheme}://${s}`;return ZL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function tV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),eV.get())})}}function Fu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=sr(t,e,r);return s.customData._tokenResponse=n,s}function d_(t){return t!==void 0&&t.enterprise!==void 0}class rV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sV(t,e){return ms(t,"GET","/v2/recaptchaConfig",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e){return ms(t,"POST","/v1/accounts:delete",e)}async function sh(t,e){return ms(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oV(t,e=!1){const n=_t(t),r=await n.getIdToken(e),s=iv(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:zl(Lm(s.auth_time)),issuedAtTime:zl(Lm(s.iat)),expirationTime:zl(Lm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Lm(t){return Number(t)*1e3}function iv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dd("JWT malformed, contained fewer than 3 sections"),null;try{const s=KS(n);return s?JSON.parse(s):(dd("Failed to decode base64 JWT payload"),null)}catch(s){return dd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function h_(t){const e=iv(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hs&&aV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t){var m;const e=t.auth,n=await t.getIdToken(),r=await yc(t,sh(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(m=s.providerUserInfo)!=null&&m.length?hC(s.providerUserInfo):[],o=cV(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new mg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function dC(t){const e=_t(t);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function hC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(t,e){const n=await cC(t,{},async()=>{const r=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await uC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Va(t.emulatorConfig.host)&&(c.credentials="include"),lC.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dV(t,e){return ms(t,"POST","/v2/accounts:revokeToken",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=h_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await uV(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ko;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class tr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new lV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new mg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await yc(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oV(this,e)}reload(){return dC(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Zr(this.auth));const e=await this.getIdToken();return await yc(this,iV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:f,isAnonymous:g,providerData:b,stsTokenManager:w}=n;de(m&&w,e,"internal-error");const E=Ko.fromJSON(this.name,w);de(typeof m=="string",e,"internal-error"),Is(r,e.name),Is(s,e.name),de(typeof f=="boolean",e,"internal-error"),de(typeof g=="boolean",e,"internal-error"),Is(i,e.name),Is(o,e.name),Is(a,e.name),Is(c,e.name),Is(d,e.name),Is(h,e.name);const _=new tr({uid:m,auth:e,email:s,emailVerified:f,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:d,lastLoginAt:h});return b&&Array.isArray(b)&&(_.providerData=b.map(v=>({...v}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ko;s.updateFromServerResponse(n);const i=new tr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ih(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];de(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?hC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ko;a.updateFromIdToken(r);const c=new tr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new mg(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;function Xr(t){ls(t instanceof Function,"Expected a class definition");let e=f_.get(t);return e?(ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fC.type="NONE";const m_=fC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=hd(this.userKey,s.apiKey,i),this.fullPersistenceKey=hd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sh(this.auth,{idToken:e}).catch(()=>{});return n?tr._fromGetAccountInfoResponse(this.auth,n,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qo(Xr(m_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Xr(m_);const o=hd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let m;if(typeof h=="string"){const f=await sh(e,{idToken:h}).catch(()=>{});if(!f)break;m=await tr._fromGetAccountInfoResponse(e,f,h)}else m=tr._fromJSON(e,h);d!==i&&(a=m),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Qo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Qo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xC(e))return"Blackberry";if(wC(e))return"Webos";if(pC(e))return"Safari";if((e.includes("chrome/")||gC(e))&&!e.includes("edge/"))return"Chrome";if(vC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mC(t=Zt()){return/firefox\//i.test(t)}function pC(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gC(t=Zt()){return/crios\//i.test(t)}function yC(t=Zt()){return/iemobile/i.test(t)}function vC(t=Zt()){return/android/i.test(t)}function xC(t=Zt()){return/blackberry/i.test(t)}function wC(t=Zt()){return/webos/i.test(t)}function ov(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hV(t=Zt()){var e;return ov(t)&&!!((e=window.navigator)!=null&&e.standalone)}function fV(){return b4()&&document.documentMode===10}function _C(t=Zt()){return ov(t)||vC(t)||wC(t)||xC(t)||/windows phone/i.test(t)||yC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t,e=[]){let n;switch(t){case"Browser":n=p_(Zt());break;case"Worker":n=`${p_(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e={}){return ms(t,"GET","/v2/passwordPolicy",fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=6;class yV{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??gV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g_(this),this.idTokenSubscription=new g_(this),this.beforeStateQueue=new mV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Qo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sh(this,{idToken:e}),r=await tr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(In(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(Zr(this));const n=e?_t(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pV(this),n=new yV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await dV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Qo.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&GL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ps(t){return _t(t)}class g_{constructor(e){this.auth=e,this.observer=null,this.addObserver=R4(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xV(t){cf=t}function bC(t){return cf.loadJS(t)}function wV(){return cf.recaptchaEnterpriseScript}function _V(){return cf.gapiScript}function EV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class bV{constructor(){this.enterprise=new TV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class TV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const SV="recaptcha-enterprise",TC="NO_RECAPTCHA";class CV{constructor(e){this.type=SV,this.auth=ps(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{sV(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new rV(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;d_(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(TC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bV().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&d_(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=wV();c.length!==0&&(c+=a),bC(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function y_(t,e,n,r=!1,s=!1){const i=new CV(t);let o;if(s)o=TC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function oh(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await y_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await y_(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t,e){const n=tv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(eo(i,e??{}))return s;qn(s,"already-initialized")}return n.initialize({options:e})}function PV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NV(t,e,n){const r=ps(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=SC(e),{host:o,port:a}=AV(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(eo(d,r.config.emulator)&&eo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Va(o)?(JS(`${i}//${o}${c}`),ZS("Auth",!0)):RV()}function SC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AV(t){const e=SC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:v_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:v_(o)}}}function v_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function kV(t,e){return ms(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e){return Wc(t,"POST","/v1/accounts:signInWithPassword",fs(t,e))}async function CC(t,e){return ms(t,"POST","/v1/accounts:sendOobCode",fs(t,e))}async function DV(t,e){return CC(t,e)}async function OV(t,e){return CC(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e){return Wc(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}async function LV(t,e){return Wc(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends av{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new vc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oh(e,n,"signInWithPassword",jV);case"emailLink":return MV(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oh(e,r,"signUpPassword",kV);case"emailLink":return LV(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return Wc(t,"POST","/v1/accounts:signInWithIdp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="http://localhost";class no extends av{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new no(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new no(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:VV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UV(t){const e=Tl(Sl(t)).link,n=e?Tl(Sl(e)).deep_link_id:null,r=Tl(Sl(t)).deep_link_id;return(r?Tl(Sl(r)).link:null)||r||n||e||t}class lv{constructor(e){const n=Tl(Sl(e)),r=n.apiKey??null,s=n.oobCode??null,i=FV(n.mode??null);de(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=UV(e);try{return new lv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.providerId=Ua.PROVIDER_ID}static credential(e,n){return vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lv.parseLink(n);return de(r,"argument-error"),vc._fromEmailAndCode(e,r.code,r.tenantId)}}Ua.PROVIDER_ID="password";Ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends cv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Hc{constructor(){super("facebook.com")}static credential(e){return no._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return no._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Hc{constructor(){super("github.com")}static credential(e){return no._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Hc{constructor(){super("twitter.com")}static credential(e,n){return no._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ms.credential(n,r)}catch{return null}}}Ms.TWITTER_SIGN_IN_METHOD="twitter.com";Ms.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t,e){return Wc(t,"POST","/v1/accounts:signUp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await tr._fromIdTokenResponse(e,r,s),o=x_(r);return new ro({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=x_(r);return new ro({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function x_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends hs{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ah(e,n,r,s)}}function IC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(t,i,e,r):i})}async function zV(t,e,n=!1){const r=await yc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e,n=!1){const{auth:r}=t;if(In(r.app))return Promise.reject(Zr(r));const s="reauthenticate";try{const i=await yc(t,IC(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=iv(i.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),ro._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(t,e,n=!1){if(In(t.app))return Promise.reject(Zr(t));const r="signIn",s=await IC(t,r,e),i=await ro._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function WV(t,e){return PC(ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(t){const e=ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HV(t,e,n){const r=ps(t);await oh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",OV)}async function qV(t,e,n){if(In(t.app))return Promise.reject(Zr(t));const r=ps(t),o=await oh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$V).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&NC(t),c}),a=await ro._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function GV(t,e,n){return In(t.app)?Promise.reject(Zr(t)):WV(_t(t),Ua.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&NC(t),r})}async function AC(t,e){const n=_t(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await DV(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t,e){return _t(t).setPersistence(e)}function QV(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function YV(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function $a(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}function uv(t){return _t(t).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=1e3,JV=10;class kC extends RC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_C(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);fV()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,JV):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kC.type="LOCAL";const jC=kC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC extends RC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DC.type="SESSION";const OC=DC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await ZV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=dv("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const f=m;if(f.data.eventId===d)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function t3(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function n3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function s3(){return MC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebaseLocalStorageDb",i3=1,ch="firebaseLocalStorage",VC="fbase_key";class qc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(t,e){return t.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function o3(){const t=indexedDB.deleteDatabase(LC);return new qc(t).toPromise()}function pg(){const t=indexedDB.open(LC,i3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ch,{keyPath:VC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ch)?e(r):(r.close(),await o3(),e(await pg()))})})}async function w_(t,e,n){const r=df(t,!0).put({[VC]:e,value:n});return new qc(r).toPromise()}async function a3(t,e){const n=df(t,!1).get(e),r=await new qc(n).toPromise();return r===void 0?null:r.value}function __(t,e){const n=df(t,!0).delete(e);return new qc(n).toPromise()}const l3=800,c3=3;class FC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>c3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(s3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await n3(),!this.activeServiceWorker)return;this.sender=new e3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pg();return await w_(e,lh,"1"),await __(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>w_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>a3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>__(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=df(s,!1).getAll();return new qc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FC.type="LOCAL";const u3=FC;new Bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t,e){return e?Xr(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends av{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function d3(t){return PC(t.auth,new hv(t),t.bypassAuthState)}function h3(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),BV(n,new hv(t),t.bypassAuthState)}async function f3(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),zV(n,new hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d3;case"linkViaPopup":case"linkViaRedirect":return f3;case"reauthViaPopup":case"reauthViaRedirect":return h3;default:qn(this.auth,"internal-error")}}resolve(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=new Bc(2e3,1e4);async function p3(t,e,n){if(In(t.app))return Promise.reject(sr(t,"operation-not-supported-in-this-environment"));const r=ps(t);KL(t,e,cv);const s=UC(r,n);return new Li(r,"signInViaPopup",e,s).executeNotNull()}class Li extends $C{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Li.currentPopupAction&&Li.currentPopupAction.cancel(),Li.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){ls(this.filter.length===1,"Popup operations only handle one event");const e=dv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Li.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m3.get())};e()}}Li.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="pendingRedirect",fd=new Map;class y3 extends $C{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{const r=await v3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v3(t,e){const n=_3(e),r=w3(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function x3(t,e){fd.set(t._key(),e)}function w3(t){return Xr(t._redirectPersistence)}function _3(t){return hd(g3,t.config.apiKey,t.name)}async function E3(t,e,n=!1){if(In(t.app))return Promise.reject(Zr(t));const r=ps(t),s=UC(r,e),o=await new y3(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=10*60*1e3;class T3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zC(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b3&&this.cachedEventUids.clear(),this.cachedEventUids.has(E_(e))}saveEventToCache(e){this.cachedEventUids.add(E_(e)),this.lastProcessedEventTime=Date.now()}}function E_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function S3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e={}){return ms(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P3=/^https?/;async function N3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await C3(t);for(const n of e)try{if(A3(n))return}catch{}qn(t,"unauthorized-domain")}function A3(t){const e=fg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P3.test(n))return!1;if(I3.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=new Bc(3e4,6e4);function b_(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k3(t){return new Promise((e,n)=>{var s,i,o;function r(){b_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b_(),n(sr(t,"network-request-failed"))},timeout:R3.get()})}if((i=(s=Ir().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Ir().gapi)!=null&&o.load)r();else{const a=EV("iframefcb");return Ir()[a]=()=>{gapi.load?r():n(sr(t,"network-request-failed"))},bC(`${_V()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw md=null,e})}let md=null;function j3(t){return md=md||k3(t),md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=new Bc(5e3,15e3),O3="__/auth/iframe",M3="emulator/auth/iframe",L3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F3(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sv(e,M3):`https://${t.config.authDomain}/${O3}`,r={apiKey:e.apiKey,appName:t.name,v:Fa},s=V3.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${zc(r).slice(1)}`}async function U3(t){const e=await j3(t),n=Ir().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:F3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L3,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=sr(t,"network-request-failed"),a=Ir().setTimeout(()=>{i(o)},D3.get());function c(){Ir().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z3=500,B3=600,W3="_blank",H3="http://localhost";class T_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q3(t,e,n,r=z3,s=B3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...$3,width:r.toString(),height:s.toString(),top:i,left:o},d=Zt().toLowerCase();n&&(a=gC(d)?W3:n),mC(d)&&(e=e||H3,c.scrollbars="yes");const h=Object.entries(c).reduce((f,[g,b])=>`${f}${g}=${b},`,"");if(hV(d)&&a!=="_self")return G3(e||"",a),new T_(null);const m=window.open(e||"",a,h);de(m,t,"popup-blocked");try{m.focus()}catch{}return new T_(m)}function G3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3="__/auth/handler",Q3="emulator/auth/handler",Y3=encodeURIComponent("fac");async function S_(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fa,eventId:s};if(e instanceof cv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",A4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof Hc){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${Y3}=${encodeURIComponent(c)}`:"";return`${X3(t)}?${zc(a).slice(1)}${d}`}function X3({config:t}){return t.emulator?sv(t,Q3):`https://${t.authDomain}/${K3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="webStorageSupport";class J3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OC,this._completeRedirectFn=E3,this._overrideRedirectResult=x3}async _openPopup(e,n,r,s){var o;ls((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await S_(e,n,r,fg(),s);return q3(e,i,dv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await S_(e,n,r,fg(),s);return t3(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ls(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U3(e),r=new T3(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vm,{type:Vm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Vm];i!==void 0&&n(!!i),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _C()||pC()||ov()}}const Z3=J3;var C_="@firebase/auth",I_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nF(t){xa(new to("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EC(t)},d=new vV(r,s,i,c);return PV(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),xa(new to("auth-internal",e=>{const n=ps(e.getProvider("auth").getImmediate());return(r=>new eF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(C_,I_,tF(t)),ri(C_,I_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=5*60,sF=XS("authIdTokenMaxAge")||rF;let P_=null;const iF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sF)return;const s=n==null?void 0:n.token;P_!==s&&(P_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oF(t=rC()){const e=tv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IV(t,{popupRedirectResolver:Z3,persistence:[u3,jC,OC]}),r=XS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=iF(i.toString());YV(n,o,()=>o(n.currentUser)),QV(n,a=>o(a))}}const s=QS("auth");return s&&NV(n,`http://${s}`),n}function aF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}xV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=sr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",aF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nF("Browser");const lF="modulepreload",cF=function(t){return"/"+t},N_={},BC=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=cF(c),c in N_)return;N_[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":lF,d||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),d)return new Promise((f,g)=>{m.addEventListener("load",f),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};var uF="firebase",dF="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri(uF,dF,"app");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var si,WC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,C){function S(){}S.prototype=C.prototype,I.D=C.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(P,k,D){for(var R=Array(arguments.length-2),z=2;z<arguments.length;z++)R[z-2]=arguments[z];return C.prototype[k].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,C,S){S||(S=0);var P=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)P[k]=C.charCodeAt(S++)|C.charCodeAt(S++)<<8|C.charCodeAt(S++)<<16|C.charCodeAt(S++)<<24;else for(k=0;16>k;++k)P[k]=C[S++]|C[S++]<<8|C[S++]<<16|C[S++]<<24;C=I.g[0],S=I.g[1],k=I.g[2];var D=I.g[3],R=C+(D^S&(k^D))+P[0]+3614090360&4294967295;C=S+(R<<7&4294967295|R>>>25),R=D+(k^C&(S^k))+P[1]+3905402710&4294967295,D=C+(R<<12&4294967295|R>>>20),R=k+(S^D&(C^S))+P[2]+606105819&4294967295,k=D+(R<<17&4294967295|R>>>15),R=S+(C^k&(D^C))+P[3]+3250441966&4294967295,S=k+(R<<22&4294967295|R>>>10),R=C+(D^S&(k^D))+P[4]+4118548399&4294967295,C=S+(R<<7&4294967295|R>>>25),R=D+(k^C&(S^k))+P[5]+1200080426&4294967295,D=C+(R<<12&4294967295|R>>>20),R=k+(S^D&(C^S))+P[6]+2821735955&4294967295,k=D+(R<<17&4294967295|R>>>15),R=S+(C^k&(D^C))+P[7]+4249261313&4294967295,S=k+(R<<22&4294967295|R>>>10),R=C+(D^S&(k^D))+P[8]+1770035416&4294967295,C=S+(R<<7&4294967295|R>>>25),R=D+(k^C&(S^k))+P[9]+2336552879&4294967295,D=C+(R<<12&4294967295|R>>>20),R=k+(S^D&(C^S))+P[10]+4294925233&4294967295,k=D+(R<<17&4294967295|R>>>15),R=S+(C^k&(D^C))+P[11]+2304563134&4294967295,S=k+(R<<22&4294967295|R>>>10),R=C+(D^S&(k^D))+P[12]+1804603682&4294967295,C=S+(R<<7&4294967295|R>>>25),R=D+(k^C&(S^k))+P[13]+4254626195&4294967295,D=C+(R<<12&4294967295|R>>>20),R=k+(S^D&(C^S))+P[14]+2792965006&4294967295,k=D+(R<<17&4294967295|R>>>15),R=S+(C^k&(D^C))+P[15]+1236535329&4294967295,S=k+(R<<22&4294967295|R>>>10),R=C+(k^D&(S^k))+P[1]+4129170786&4294967295,C=S+(R<<5&4294967295|R>>>27),R=D+(S^k&(C^S))+P[6]+3225465664&4294967295,D=C+(R<<9&4294967295|R>>>23),R=k+(C^S&(D^C))+P[11]+643717713&4294967295,k=D+(R<<14&4294967295|R>>>18),R=S+(D^C&(k^D))+P[0]+3921069994&4294967295,S=k+(R<<20&4294967295|R>>>12),R=C+(k^D&(S^k))+P[5]+3593408605&4294967295,C=S+(R<<5&4294967295|R>>>27),R=D+(S^k&(C^S))+P[10]+38016083&4294967295,D=C+(R<<9&4294967295|R>>>23),R=k+(C^S&(D^C))+P[15]+3634488961&4294967295,k=D+(R<<14&4294967295|R>>>18),R=S+(D^C&(k^D))+P[4]+3889429448&4294967295,S=k+(R<<20&4294967295|R>>>12),R=C+(k^D&(S^k))+P[9]+568446438&4294967295,C=S+(R<<5&4294967295|R>>>27),R=D+(S^k&(C^S))+P[14]+3275163606&4294967295,D=C+(R<<9&4294967295|R>>>23),R=k+(C^S&(D^C))+P[3]+4107603335&4294967295,k=D+(R<<14&4294967295|R>>>18),R=S+(D^C&(k^D))+P[8]+1163531501&4294967295,S=k+(R<<20&4294967295|R>>>12),R=C+(k^D&(S^k))+P[13]+2850285829&4294967295,C=S+(R<<5&4294967295|R>>>27),R=D+(S^k&(C^S))+P[2]+4243563512&4294967295,D=C+(R<<9&4294967295|R>>>23),R=k+(C^S&(D^C))+P[7]+1735328473&4294967295,k=D+(R<<14&4294967295|R>>>18),R=S+(D^C&(k^D))+P[12]+2368359562&4294967295,S=k+(R<<20&4294967295|R>>>12),R=C+(S^k^D)+P[5]+4294588738&4294967295,C=S+(R<<4&4294967295|R>>>28),R=D+(C^S^k)+P[8]+2272392833&4294967295,D=C+(R<<11&4294967295|R>>>21),R=k+(D^C^S)+P[11]+1839030562&4294967295,k=D+(R<<16&4294967295|R>>>16),R=S+(k^D^C)+P[14]+4259657740&4294967295,S=k+(R<<23&4294967295|R>>>9),R=C+(S^k^D)+P[1]+2763975236&4294967295,C=S+(R<<4&4294967295|R>>>28),R=D+(C^S^k)+P[4]+1272893353&4294967295,D=C+(R<<11&4294967295|R>>>21),R=k+(D^C^S)+P[7]+4139469664&4294967295,k=D+(R<<16&4294967295|R>>>16),R=S+(k^D^C)+P[10]+3200236656&4294967295,S=k+(R<<23&4294967295|R>>>9),R=C+(S^k^D)+P[13]+681279174&4294967295,C=S+(R<<4&4294967295|R>>>28),R=D+(C^S^k)+P[0]+3936430074&4294967295,D=C+(R<<11&4294967295|R>>>21),R=k+(D^C^S)+P[3]+3572445317&4294967295,k=D+(R<<16&4294967295|R>>>16),R=S+(k^D^C)+P[6]+76029189&4294967295,S=k+(R<<23&4294967295|R>>>9),R=C+(S^k^D)+P[9]+3654602809&4294967295,C=S+(R<<4&4294967295|R>>>28),R=D+(C^S^k)+P[12]+3873151461&4294967295,D=C+(R<<11&4294967295|R>>>21),R=k+(D^C^S)+P[15]+530742520&4294967295,k=D+(R<<16&4294967295|R>>>16),R=S+(k^D^C)+P[2]+3299628645&4294967295,S=k+(R<<23&4294967295|R>>>9),R=C+(k^(S|~D))+P[0]+4096336452&4294967295,C=S+(R<<6&4294967295|R>>>26),R=D+(S^(C|~k))+P[7]+1126891415&4294967295,D=C+(R<<10&4294967295|R>>>22),R=k+(C^(D|~S))+P[14]+2878612391&4294967295,k=D+(R<<15&4294967295|R>>>17),R=S+(D^(k|~C))+P[5]+4237533241&4294967295,S=k+(R<<21&4294967295|R>>>11),R=C+(k^(S|~D))+P[12]+1700485571&4294967295,C=S+(R<<6&4294967295|R>>>26),R=D+(S^(C|~k))+P[3]+2399980690&4294967295,D=C+(R<<10&4294967295|R>>>22),R=k+(C^(D|~S))+P[10]+4293915773&4294967295,k=D+(R<<15&4294967295|R>>>17),R=S+(D^(k|~C))+P[1]+2240044497&4294967295,S=k+(R<<21&4294967295|R>>>11),R=C+(k^(S|~D))+P[8]+1873313359&4294967295,C=S+(R<<6&4294967295|R>>>26),R=D+(S^(C|~k))+P[15]+4264355552&4294967295,D=C+(R<<10&4294967295|R>>>22),R=k+(C^(D|~S))+P[6]+2734768916&4294967295,k=D+(R<<15&4294967295|R>>>17),R=S+(D^(k|~C))+P[13]+1309151649&4294967295,S=k+(R<<21&4294967295|R>>>11),R=C+(k^(S|~D))+P[4]+4149444226&4294967295,C=S+(R<<6&4294967295|R>>>26),R=D+(S^(C|~k))+P[11]+3174756917&4294967295,D=C+(R<<10&4294967295|R>>>22),R=k+(C^(D|~S))+P[2]+718787259&4294967295,k=D+(R<<15&4294967295|R>>>17),R=S+(D^(k|~C))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+C&4294967295,I.g[1]=I.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+k&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,C){C===void 0&&(C=I.length);for(var S=C-this.blockSize,P=this.B,k=this.h,D=0;D<C;){if(k==0)for(;D<=S;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<C;)if(P[k++]=I.charCodeAt(D++),k==this.blockSize){s(this,P),k=0;break}}else for(;D<C;)if(P[k++]=I[D++],k==this.blockSize){s(this,P),k=0;break}}this.h=k,this.o+=C},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var C=1;C<I.length-8;++C)I[C]=0;var S=8*this.o;for(C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.u(I),I=Array(16),C=S=0;4>C;++C)for(var P=0;32>P;P+=8)I[S++]=this.g[C]>>>P&255;return I};function i(I,C){var S=a;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=C(I)}function o(I,C){this.h=C;for(var S=[],P=!0,k=I.length-1;0<=k;k--){var D=I[k]|0;P&&D==C||(S[k]=D,P=!1)}this.g=S}var a={};function c(I){return-128<=I&&128>I?i(I,function(C){return new o([C|0],0>C?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return E(d(-I));for(var C=[],S=1,P=0;I>=S;P++)C[P]=I/S|0,S*=4294967296;return new o(C,0)}function h(I,C){if(I.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(I.charAt(0)=="-")return E(h(I.substring(1),C));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=d(Math.pow(C,8)),P=m,k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k),R=parseInt(I.substring(k,k+D),C);8>D?(D=d(Math.pow(C,D)),P=P.j(D).add(d(R))):(P=P.j(S),P=P.add(d(R)))}return P}var m=c(0),f=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-E(this).m();for(var I=0,C=1,S=0;S<this.g.length;S++){var P=this.i(S);I+=(0<=P?P:4294967296+P)*C,C*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(w(this))return"-"+E(this).toString(I);for(var C=d(Math.pow(I,6)),S=this,P="";;){var k=A(S,C).g;S=_(S,k.j(C));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=k,b(S))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var C=0;C<I.g.length;C++)if(I.g[C]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=_(this,I),w(I)?-1:b(I)?0:1};function E(I){for(var C=I.g.length,S=[],P=0;P<C;P++)S[P]=~I.g[P];return new o(S,~I.h).add(f)}t.abs=function(){return w(this)?E(this):this},t.add=function(I){for(var C=Math.max(this.g.length,I.g.length),S=[],P=0,k=0;k<=C;k++){var D=P+(this.i(k)&65535)+(I.i(k)&65535),R=(D>>>16)+(this.i(k)>>>16)+(I.i(k)>>>16);P=R>>>16,D&=65535,R&=65535,S[k]=R<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function _(I,C){return I.add(E(C))}t.j=function(I){if(b(this)||b(I))return m;if(w(this))return w(I)?E(this).j(E(I)):E(E(this).j(I));if(w(I))return E(this.j(E(I)));if(0>this.l(g)&&0>I.l(g))return d(this.m()*I.m());for(var C=this.g.length+I.g.length,S=[],P=0;P<2*C;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<I.g.length;k++){var D=this.i(P)>>>16,R=this.i(P)&65535,z=I.i(k)>>>16,H=I.i(k)&65535;S[2*P+2*k]+=R*H,v(S,2*P+2*k),S[2*P+2*k+1]+=D*H,v(S,2*P+2*k+1),S[2*P+2*k+1]+=R*z,v(S,2*P+2*k+1),S[2*P+2*k+2]+=D*z,v(S,2*P+2*k+2)}for(P=0;P<C;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=C;P<2*C;P++)S[P]=0;return new o(S,0)};function v(I,C){for(;(I[C]&65535)!=I[C];)I[C+1]+=I[C]>>>16,I[C]&=65535,C++}function T(I,C){this.g=I,this.h=C}function A(I,C){if(b(C))throw Error("division by zero");if(b(I))return new T(m,m);if(w(I))return C=A(E(I),C),new T(E(C.g),E(C.h));if(w(C))return C=A(I,E(C)),new T(E(C.g),C.h);if(30<I.g.length){if(w(I)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var S=f,P=C;0>=P.l(I);)S=j(S),P=j(P);var k=O(S,1),D=O(P,1);for(P=O(P,2),S=O(S,2);!b(P);){var R=D.add(P);0>=R.l(I)&&(k=k.add(S),D=R),P=O(P,1),S=O(S,1)}return C=_(I,k.j(C)),new T(k,C)}for(k=m;0<=I.l(C);){for(S=Math.max(1,Math.floor(I.m()/C.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=d(S),R=D.j(C);w(R)||0<R.l(I);)S-=P,D=d(S),R=D.j(C);b(D)&&(D=f),k=k.add(D),I=_(I,R)}return new T(k,I)}t.A=function(I){return A(this,I).h},t.and=function(I){for(var C=Math.max(this.g.length,I.g.length),S=[],P=0;P<C;P++)S[P]=this.i(P)&I.i(P);return new o(S,this.h&I.h)},t.or=function(I){for(var C=Math.max(this.g.length,I.g.length),S=[],P=0;P<C;P++)S[P]=this.i(P)|I.i(P);return new o(S,this.h|I.h)},t.xor=function(I){for(var C=Math.max(this.g.length,I.g.length),S=[],P=0;P<C;P++)S[P]=this.i(P)^I.i(P);return new o(S,this.h^I.h)};function j(I){for(var C=I.g.length+1,S=[],P=0;P<C;P++)S[P]=I.i(P)<<1|I.i(P-1)>>>31;return new o(S,I.h)}function O(I,C){var S=C>>5;C%=32;for(var P=I.g.length-S,k=[],D=0;D<P;D++)k[D]=0<C?I.i(D+S)>>>C|I.i(D+S+1)<<32-C:I.i(D+S);return new o(k,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,si=o}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HC,Cl,qC,pd,gg,GC,KC,QC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,x){return u==Array.prototype||u==Object.prototype||(u[p]=x.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var p=0;p<u.length;++p){var x=u[p];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var x=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var L=u[N];if(!(L in x))break e;x=x[L]}u=u[u.length-1],N=x[u],p=p(N),p!=N&&p!=null&&e(x,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var x=0,N=!1,L={next:function(){if(!N&&x<u.length){var V=x++;return{value:p(V,u[V]),done:!1}}return N=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function d(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,x){return u.call.apply(u.bind,arguments)}function m(u,p,x){if(!u)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,N),u.apply(p,L)}}return function(){return u.apply(p,arguments)}}function f(u,p,x){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,f.apply(null,arguments)}function g(u,p){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function b(u,p){function x(){}x.prototype=p.prototype,u.aa=p.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(N,L,V){for(var Y=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Y[$e-2]=arguments[$e];return p.prototype[L].apply(N,Y)}}function w(u){const p=u.length;if(0<p){const x=Array(p);for(let N=0;N<p;N++)x[N]=u[N];return x}return[]}function E(u,p){for(let x=1;x<arguments.length;x++){const N=arguments[x];if(c(N)){const L=u.length||0,V=N.length||0;u.length=L+V;for(let Y=0;Y<V;Y++)u[L+Y]=N[Y]}else u.push(N)}}class _{constructor(p,x){this.i=p,this.j=x,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(u){return/^[\s\xa0]*$/.test(u)}function T(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var j=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function O(u,p,x){for(const N in u)p.call(x,u[N],N,u)}function I(u,p){for(const x in u)p.call(void 0,u[x],x,u)}function C(u){const p={};for(const x in u)p[x]=u[x];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let x,N;for(let L=1;L<arguments.length;L++){N=arguments[L];for(x in N)u[x]=N[x];for(let V=0;V<S.length;V++)x=S[V],Object.prototype.hasOwnProperty.call(N,x)&&(u[x]=N[x])}}function k(u){var p=1;u=u.split(":");const x=[];for(;0<p&&u.length;)x.push(u.shift()),p--;return u.length&&x.push(u.join(":")),x}function D(u){a.setTimeout(()=>{throw u},0)}function R(){var u=W;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class z{constructor(){this.h=this.g=null}add(p,x){const N=H.get();N.set(p,x),this.h?this.h.next=N:this.g=N,this.h=N}}var H=new _(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(p,x){this.h=p,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let le,M=!1,W=new z,ne=()=>{const u=a.Promise.resolve(void 0);le=()=>{u.then(J)}};var J=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(x){D(x)}var p=H;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}M=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};a.addEventListener("test",x,p),a.removeEventListener("test",x,p)}catch{}return u}();function ee(u,p){if(ce.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(j){e:{try{A(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else x=="mouseover"?p=u.fromElement:x=="mouseout"&&(p=u.toElement);this.relatedTarget=p,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:K[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ee.aa.h.call(this)}}b(ee,ce);var K={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Je=0;function se(u,p,x,N,L){this.listener=u,this.proxy=null,this.src=p,this.type=x,this.capture=!!N,this.ha=L,this.key=++Je,this.da=this.fa=!1}function ie(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,p,x,N,L){var V=u.toString();u=this.g[V],u||(u=this.g[V]=[],this.h++);var Y=_e(u,p,N,L);return-1<Y?(p=u[Y],x||(p.fa=!1)):(p=new se(p,this.src,V,!!N,L),p.fa=x,u.push(p)),p};function Ce(u,p){var x=p.type;if(x in u.g){var N=u.g[x],L=Array.prototype.indexOf.call(N,p,void 0),V;(V=0<=L)&&Array.prototype.splice.call(N,L,1),V&&(ie(p),u.g[x].length==0&&(delete u.g[x],u.h--))}}function _e(u,p,x,N){for(var L=0;L<u.length;++L){var V=u[L];if(!V.da&&V.listener==p&&V.capture==!!x&&V.ha==N)return L}return-1}var Et="closure_lm_"+(1e6*Math.random()|0),dt={};function xe(u,p,x,N,L){if(Array.isArray(p)){for(var V=0;V<p.length;V++)xe(u,p[V],x,N,L);return null}return x=Qa(x),u&&u[Se]?u.K(p,x,d(N)?!!N.capture:!!N,L):Ve(u,p,x,!1,N,L)}function Ve(u,p,x,N,L,V){if(!p)throw Error("Invalid event type");var Y=d(L)?!!L.capture:!!L,$e=vs(u);if($e||(u[Et]=$e=new ae(u)),x=$e.add(p,x,N,Y,V),x.proxy)return x;if(N=Vt(),x.proxy=N,N.src=u,N.listener=x,u.addEventListener)B||(L=Y),L===void 0&&(L=!1),u.addEventListener(p.toString(),N,L);else if(u.attachEvent)u.attachEvent(Zc(p.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Vt(){function u(x){return p.call(u.src,u.listener,x)}const p=Mf;return u}function Ne(u,p,x,N,L){if(Array.isArray(p))for(var V=0;V<p.length;V++)Ne(u,p[V],x,N,L);else N=d(N)?!!N.capture:!!N,x=Qa(x),u&&u[Se]?(u=u.i,p=String(p).toString(),p in u.g&&(V=u.g[p],x=_e(V,x,N,L),-1<x&&(ie(V[x]),Array.prototype.splice.call(V,x,1),V.length==0&&(delete u.g[p],u.h--)))):u&&(u=vs(u))&&(p=u.g[p.toString()],u=-1,p&&(u=_e(p,x,N,L)),(x=-1<u?p[u]:null)&&Mn(x))}function Mn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Se])Ce(p.i,u);else{var x=u.type,N=u.proxy;p.removeEventListener?p.removeEventListener(x,N,u.capture):p.detachEvent?p.detachEvent(Zc(x),N):p.addListener&&p.removeListener&&p.removeListener(N),(x=vs(p))?(Ce(x,u),x.h==0&&(x.src=null,p[Et]=null)):ie(u)}}}function Zc(u){return u in dt?dt[u]:dt[u]="on"+u}function Mf(u,p){if(u.da)u=!0;else{p=new ee(p,this);var x=u.listener,N=u.ha||u.src;u.fa&&Mn(u),u=x.call(N,p)}return u}function vs(u){return u=u[Et],u instanceof ae?u:null}var Ka="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qa(u){return typeof u=="function"?u:(u[Ka]||(u[Ka]=function(p){return u.handleEvent(p)}),u[Ka])}function pt(){re.call(this),this.i=new ae(this),this.M=this,this.F=null}b(pt,re),pt.prototype[Se]=!0,pt.prototype.removeEventListener=function(u,p,x,N){Ne(this,u,p,x,N)};function at(u,p){var x,N=u.F;if(N)for(x=[];N;N=N.F)x.push(N);if(u=u.M,N=p.type||p,typeof p=="string")p=new ce(p,u);else if(p instanceof ce)p.target=p.target||u;else{var L=p;p=new ce(N,u),P(p,L)}if(L=!0,x)for(var V=x.length-1;0<=V;V--){var Y=p.g=x[V];L=Ci(Y,N,!0,p)&&L}if(Y=p.g=u,L=Ci(Y,N,!0,p)&&L,L=Ci(Y,N,!1,p)&&L,x)for(V=0;V<x.length;V++)Y=p.g=x[V],L=Ci(Y,N,!1,p)&&L}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var x=u.g[p],N=0;N<x.length;N++)ie(x[N]);delete u.g[p],u.h--}}this.F=null},pt.prototype.K=function(u,p,x,N){return this.i.add(String(u),p,!1,x,N)},pt.prototype.L=function(u,p,x,N){return this.i.add(String(u),p,!0,x,N)};function Ci(u,p,x,N){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,V=0;V<p.length;++V){var Y=p[V];if(Y&&!Y.da&&Y.capture==x){var $e=Y.listener,Rt=Y.ha||Y.src;Y.fa&&Ce(u.i,Y),L=$e.call(Rt,N)!==!1&&L}}return L&&!N.defaultPrevented}function Vr(u,p,x){if(typeof u=="function")x&&(u=f(u,x));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function Ya(u){u.g=Vr(()=>{u.g=null,u.i&&(u.i=!1,Ya(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Lf extends re{constructor(p,x){super(),this.m=p,this.l=x,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Ya(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xs(u){re.call(this),this.h=u,this.g={}}b(xs,re);var Xa=[];function eu(u){O(u.g,function(p,x){this.g.hasOwnProperty(x)&&Mn(p)},u),u.g={}}xs.prototype.N=function(){xs.aa.N.call(this),eu(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=a.JSON.stringify,mr=a.JSON.parse,Vf=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function me(){}me.prototype.h=null;function Fe(u){return u.h||(u.h=u.i())}function Me(){}var Ft={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ln(){ce.call(this,"d")}b(ln,ce);function ws(){ce.call(this,"c")}b(ws,ce);var Fr={},xx=null;function tu(){return xx=xx||new pt}Fr.La="serverreachability";function wx(u){ce.call(this,Fr.La,u)}b(wx,ce);function Ja(u){const p=tu();at(p,new wx(p))}Fr.STAT_EVENT="statevent";function _x(u,p){ce.call(this,Fr.STAT_EVENT,u),this.stat=p}b(_x,ce);function en(u){const p=tu();at(p,new _x(p,u))}Fr.Ma="timingevent";function Ex(u,p){ce.call(this,Fr.Ma,u),this.size=p}b(Ex,ce);function Za(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function el(){this.g=!0}el.prototype.xa=function(){this.g=!1};function QN(u,p,x,N,L,V){u.info(function(){if(u.g)if(V)for(var Y="",$e=V.split("&"),Rt=0;Rt<$e.length;Rt++){var ke=$e[Rt].split("=");if(1<ke.length){var Ut=ke[0];ke=ke[1];var $t=Ut.split("_");Y=2<=$t.length&&$t[1]=="type"?Y+(Ut+"="+ke+"&"):Y+(Ut+"=redacted&")}}else Y=null;else Y=V;return"XMLHTTP REQ ("+N+") [attempt "+L+"]: "+p+`
`+x+`
`+Y})}function YN(u,p,x,N,L,V,Y){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+L+"]: "+p+`
`+x+`
`+V+" "+Y})}function po(u,p,x,N){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+JN(u,x)+(N?" "+N:"")})}function XN(u,p){u.info(function(){return"TIMEOUT: "+p})}el.prototype.info=function(){};function JN(u,p){if(!u.g)return p;if(!p)return null;try{var x=JSON.parse(p);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var N=x[u];if(!(2>N.length)){var L=N[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return Ii(x)}catch{return p}}var nu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ff;function ru(){}b(ru,me),ru.prototype.g=function(){return new XMLHttpRequest},ru.prototype.i=function(){return{}},Ff=new ru;function _s(u,p,x,N){this.j=u,this.i=p,this.l=x,this.R=N||1,this.U=new xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tx}function Tx(){this.i=null,this.g="",this.h=!1}var Sx={},Uf={};function $f(u,p,x){u.L=1,u.v=au(Ur(p)),u.m=x,u.P=!0,Cx(u,null)}function Cx(u,p){u.F=Date.now(),su(u),u.A=Ur(u.v);var x=u.A,N=u.R;Array.isArray(N)||(N=[String(N)]),Ux(x.i,"t",N),u.C=0,x=u.j.J,u.h=new Tx,u.g=sw(u.j,x?p:null,!u.m),0<u.O&&(u.M=new Lf(f(u.Y,u,u.g),u.O)),p=u.U,x=u.g,N=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Xa[0]=L.toString()),L=Xa);for(var V=0;V<L.length;V++){var Y=xe(x,L[V],N||p.handleEvent,!1,p.h||p);if(!Y)break;p.g[Y.key]=Y}p=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Ja(),QN(u.i,u.u,u.A,u.l,u.R,u.m)}_s.prototype.ca=function(u){u=u.target;const p=this.M;p&&$r(u)==3?p.j():this.Y(u)},_s.prototype.Y=function(u){try{if(u==this.g)e:{const $t=$r(this.g);var p=this.g.Ba();const vo=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Gx(this.g)))){this.J||$t!=4||p==7||(p==8||0>=vo?Ja(3):Ja(2)),zf(this);var x=this.g.Z();this.X=x;t:if(Ix(this)){var N=Gx(this.g);u="";var L=N.length,V=$r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),tl(this);var Y="";break t}this.h.i=new a.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,u+=this.h.i.decode(N[p],{stream:!(V&&p==L-1)});N.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=x==200,YN(this.i,this.u,this.A,this.l,this.R,$t,x),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Rt=this.g;if(($e=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v($e)){var ke=$e;break t}}ke=null}if(x=ke)po(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bf(this,x);else{this.o=!1,this.s=3,en(12),Pi(this),tl(this);break e}}if(this.P){x=!0;let Kn;for(;!this.J&&this.C<Y.length;)if(Kn=ZN(this,Y),Kn==Uf){$t==4&&(this.s=4,en(14),x=!1),po(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==Sx){this.s=4,en(15),po(this.i,this.l,Y,"[Invalid Chunk]"),x=!1;break}else po(this.i,this.l,Kn,null),Bf(this,Kn);if(Ix(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||Y.length!=0||this.h.h||(this.s=1,en(16),x=!1),this.o=this.o&&x,!x)po(this.i,this.l,Y,"[Invalid Chunked Response]"),Pi(this),tl(this);else if(0<Y.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Qf(Ut),Ut.M=!0,en(11))}}else po(this.i,this.l,Y,null),Bf(this,Y);$t==4&&Pi(this),this.o&&!this.J&&($t==4?ew(this.j,this):(this.o=!1,su(this)))}else gA(this.g),x==400&&0<Y.indexOf("Unknown SID")?(this.s=3,en(12)):(this.s=0,en(13)),Pi(this),tl(this)}}}catch{}finally{}};function Ix(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ZN(u,p){var x=u.C,N=p.indexOf(`
`,x);return N==-1?Uf:(x=Number(p.substring(x,N)),isNaN(x)?Sx:(N+=1,N+x>p.length?Uf:(p=p.slice(N,N+x),u.C=N+x,p)))}_s.prototype.cancel=function(){this.J=!0,Pi(this)};function su(u){u.S=Date.now()+u.I,Px(u,u.I)}function Px(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Za(f(u.ba,u),p)}function zf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}_s.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(XN(this.i,this.A),this.L!=2&&(Ja(),en(17)),Pi(this),this.s=2,tl(this)):Px(this,this.S-u)};function tl(u){u.j.G==0||u.J||ew(u.j,u)}function Pi(u){zf(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,eu(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Bf(u,p){try{var x=u.j;if(x.G!=0&&(x.g==u||Wf(x.h,u))){if(!u.K&&Wf(x.h,u)&&x.G==3){try{var N=x.Da.g.parse(p)}catch{N=null}if(Array.isArray(N)&&N.length==3){var L=N;if(L[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)fu(x),du(x);else break e;Kf(x),en(18)}}else x.za=L[1],0<x.za-x.T&&37500>L[2]&&x.F&&x.v==0&&!x.C&&(x.C=Za(f(x.Za,x),6e3));if(1>=Rx(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ai(x,11)}else if((u.K||x.g==u)&&fu(x),!v(p))for(L=x.Da.g.parse(p),p=0;p<L.length;p++){let ke=L[p];if(x.T=ke[0],ke=ke[1],x.G==2)if(ke[0]=="c"){x.K=ke[1],x.ia=ke[2];const Ut=ke[3];Ut!=null&&(x.la=Ut,x.j.info("VER="+x.la));const $t=ke[4];$t!=null&&(x.Aa=$t,x.j.info("SVER="+x.Aa));const vo=ke[5];vo!=null&&typeof vo=="number"&&0<vo&&(N=1.5*vo,x.L=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const Kn=u.g;if(Kn){const pu=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pu){var V=N.h;V.g||pu.indexOf("spdy")==-1&&pu.indexOf("quic")==-1&&pu.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Hf(V,V.h),V.h=null))}if(N.D){const Yf=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yf&&(N.ya=Yf,Ge(N.I,N.D,Yf))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),N=x;var Y=u;if(N.qa=rw(N,N.J?N.ia:null,N.W),Y.K){kx(N.h,Y);var $e=Y,Rt=N.L;Rt&&($e.I=Rt),$e.B&&(zf($e),su($e)),N.g=Y}else Jx(N);0<x.i.length&&hu(x)}else ke[0]!="stop"&&ke[0]!="close"||Ai(x,7);else x.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ai(x,7):Gf(x):ke[0]!="noop"&&x.l&&x.l.ta(ke),x.v=0)}}Ja(4)}catch{}}var eA=class{constructor(u,p){this.g=u,this.map=p}};function Nx(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ax(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rx(u){return u.h?1:u.g?u.g.size:0}function Wf(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Hf(u,p){u.g?u.g.add(p):u.h=p}function kx(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Nx.prototype.cancel=function(){if(this.i=jx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jx(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const x of u.g.values())p=p.concat(x.D);return p}return w(u.i)}function tA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var p=[],x=u.length,N=0;N<x;N++)p.push(u[N]);return p}p=[],x=0;for(N in u)p[x++]=u[N];return p}function nA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var p=[];u=u.length;for(var x=0;x<u;x++)p.push(x);return p}p=[],x=0;for(const N in u)p[x++]=N;return p}}}function Dx(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var x=nA(u),N=tA(u),L=N.length,V=0;V<L;V++)p.call(void 0,N[V],x&&x[V],u)}var Ox=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rA(u,p){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var N=u[x].indexOf("="),L=null;if(0<=N){var V=u[x].substring(0,N);L=u[x].substring(N+1)}else V=u[x];p(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ni(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ni){this.h=u.h,iu(this,u.j),this.o=u.o,this.g=u.g,ou(this,u.s),this.l=u.l;var p=u.i,x=new sl;x.i=p.i,p.g&&(x.g=new Map(p.g),x.h=p.h),Mx(this,x),this.m=u.m}else u&&(p=String(u).match(Ox))?(this.h=!1,iu(this,p[1]||"",!0),this.o=nl(p[2]||""),this.g=nl(p[3]||"",!0),ou(this,p[4]),this.l=nl(p[5]||"",!0),Mx(this,p[6]||"",!0),this.m=nl(p[7]||"")):(this.h=!1,this.i=new sl(null,this.h))}Ni.prototype.toString=function(){var u=[],p=this.j;p&&u.push(rl(p,Lx,!0),":");var x=this.g;return(x||p=="file")&&(u.push("//"),(p=this.o)&&u.push(rl(p,Lx,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(rl(x,x.charAt(0)=="/"?oA:iA,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",rl(x,lA)),u.join("")};function Ur(u){return new Ni(u)}function iu(u,p,x){u.j=x?nl(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ou(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function Mx(u,p,x){p instanceof sl?(u.i=p,cA(u.i,u.h)):(x||(p=rl(p,aA)),u.i=new sl(p,u.h))}function Ge(u,p,x){u.i.set(p,x)}function au(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function nl(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function rl(u,p,x){return typeof u=="string"?(u=encodeURI(u).replace(p,sA),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Lx=/[#\/\?@]/g,iA=/[#\?:]/g,oA=/[#\?]/g,aA=/[#\?@]/g,lA=/#/g;function sl(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Es(u){u.g||(u.g=new Map,u.h=0,u.i&&rA(u.i,function(p,x){u.add(decodeURIComponent(p.replace(/\+/g," ")),x)}))}t=sl.prototype,t.add=function(u,p){Es(this),this.i=null,u=go(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(p),this.h+=1,this};function Vx(u,p){Es(u),p=go(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Fx(u,p){return Es(u),p=go(u,p),u.g.has(p)}t.forEach=function(u,p){Es(this),this.g.forEach(function(x,N){x.forEach(function(L){u.call(p,L,N,this)},this)},this)},t.na=function(){Es(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),x=[];for(let N=0;N<p.length;N++){const L=u[N];for(let V=0;V<L.length;V++)x.push(p[N])}return x},t.V=function(u){Es(this);let p=[];if(typeof u=="string")Fx(this,u)&&(p=p.concat(this.g.get(go(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)p=p.concat(u[x])}return p},t.set=function(u,p){return Es(this),this.i=null,u=go(this,u),Fx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function Ux(u,p,x){Vx(u,p),0<x.length&&(u.i=null,u.g.set(go(u,p),w(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var x=0;x<p.length;x++){var N=p[x];const V=encodeURIComponent(String(N)),Y=this.V(N);for(N=0;N<Y.length;N++){var L=V;Y[N]!==""&&(L+="="+encodeURIComponent(String(Y[N]))),u.push(L)}}return this.i=u.join("&")};function go(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function cA(u,p){p&&!u.j&&(Es(u),u.i=null,u.g.forEach(function(x,N){var L=N.toLowerCase();N!=L&&(Vx(this,N),Ux(this,L,x))},u)),u.j=p}function uA(u,p){const x=new el;if(a.Image){const N=new Image;N.onload=g(bs,x,"TestLoadImage: loaded",!0,p,N),N.onerror=g(bs,x,"TestLoadImage: error",!1,p,N),N.onabort=g(bs,x,"TestLoadImage: abort",!1,p,N),N.ontimeout=g(bs,x,"TestLoadImage: timeout",!1,p,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else p(!1)}function dA(u,p){const x=new el,N=new AbortController,L=setTimeout(()=>{N.abort(),bs(x,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:N.signal}).then(V=>{clearTimeout(L),V.ok?bs(x,"TestPingServer: ok",!0,p):bs(x,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),bs(x,"TestPingServer: error",!1,p)})}function bs(u,p,x,N,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),N(x)}catch{}}function hA(){this.g=new Vf}function fA(u,p,x){const N=x||"";try{Dx(u,function(L,V){let Y=L;d(L)&&(Y=Ii(L)),p.push(N+V+"="+encodeURIComponent(Y))})}catch(L){throw p.push(N+"type="+encodeURIComponent("_badmap")),L}}function lu(u){this.l=u.Ub||null,this.j=u.eb||!1}b(lu,me),lu.prototype.g=function(){return new cu(this.l,this.j)},lu.prototype.i=function(u){return function(){return u}}({});function cu(u,p){pt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(cu,pt),t=cu.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,ol(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,il(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ol(this)),this.g&&(this.readyState=3,ol(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$x(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $x(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?il(this):ol(this),this.readyState==3&&$x(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,il(this))},t.Qa=function(u){this.g&&(this.response=u,il(this))},t.ga=function(){this.g&&il(this)};function il(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ol(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var x=p.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=p.next();return u.join(`\r
`)};function ol(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zx(u){let p="";return O(u,function(x,N){p+=N,p+=":",p+=x,p+=`\r
`}),p}function qf(u,p,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=zx(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):Ge(u,p,x))}function lt(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(lt,pt);var mA=/^https?$/i,pA=["POST","PUT"];t=lt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ff.g(),this.v=this.o?Fe(this.o):Fe(Ff),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(V){Bx(this,V);return}if(u=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var L in N)x.set(L,N[L]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const V of N.keys())x.set(V,N.get(V));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(V=>V.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(pA,p,void 0))||N||L||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,Y]of x)this.g.setRequestHeader(V,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qx(this),this.u=!0,this.g.send(u),this.u=!1}catch(V){Bx(this,V)}};function Bx(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Wx(u),uu(u)}function Wx(u){u.A||(u.A=!0,at(u,"complete"),at(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,at(this,"complete"),at(this,"abort"),uu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uu(this,!0)),lt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hx(this):this.bb())},t.bb=function(){Hx(this)};function Hx(u){if(u.h&&typeof o<"u"&&(!u.v[1]||$r(u)!=4||u.Z()!=2)){if(u.u&&$r(u)==4)Vr(u.Ea,0,u);else if(at(u,"readystatechange"),$r(u)==4){u.h=!1;try{const Y=u.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var x;if(!(x=p)){var N;if(N=Y===0){var L=String(u.D).match(Ox)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),N=!mA.test(L?L.toLowerCase():"")}x=N}if(x)at(u,"complete"),at(u,"success");else{u.m=6;try{var V=2<$r(u)?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.Z()+"]",Wx(u)}}finally{uu(u)}}}}function uu(u,p){if(u.g){qx(u);const x=u.g,N=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||at(u,"ready");try{x.onreadystatechange=N}catch{}}}function qx(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function $r(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),mr(p)}};function Gx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function gA(u){const p={};u=(u.g&&2<=$r(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(v(u[N]))continue;var x=k(u[N]);const L=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const V=p[L]||[];p[L]=V,V.push(x)}I(p,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function al(u,p,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||p}function Kx(u){this.Aa=0,this.i=[],this.j=new el,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=al("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=al("baseRetryDelayMs",5e3,u),this.cb=al("retryDelaySeedMs",1e4,u),this.Wa=al("forwardChannelMaxRetries",2,u),this.wa=al("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Nx(u&&u.concurrentRequestLimit),this.Da=new hA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kx.prototype,t.la=8,t.G=1,t.connect=function(u,p,x,N){en(0),this.W=u,this.H=p||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.I=rw(this,null,this.W),hu(this)};function Gf(u){if(Qx(u),u.G==3){var p=u.U++,x=Ur(u.I);if(Ge(x,"SID",u.K),Ge(x,"RID",p),Ge(x,"TYPE","terminate"),ll(u,x),p=new _s(u,u.j,p),p.L=2,p.v=au(Ur(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=p.v,x=!0),x||(p.g=sw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),su(p)}nw(u)}function du(u){u.g&&(Qf(u),u.g.cancel(),u.g=null)}function Qx(u){du(u),u.u&&(a.clearTimeout(u.u),u.u=null),fu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function hu(u){if(!Ax(u.h)&&!u.s){u.s=!0;var p=u.Ga;le||ne(),M||(le(),M=!0),W.add(p,u),u.B=0}}function yA(u,p){return Rx(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Za(f(u.Ga,u,p),tw(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new _s(this,this.j,u);let V=this.o;if(this.S&&(V?(V=C(V),P(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var p=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(p+=N,4096<p){p=x;break e}if(p===4096||x===this.i.length-1){p=x+1;break e}}p=1e3}else p=1e3;p=Xx(this,L,p),x=Ur(this.I),Ge(x,"RID",u),Ge(x,"CVER",22),this.D&&Ge(x,"X-HTTP-Session-Id",this.D),ll(this,x),V&&(this.O?p="headers="+encodeURIComponent(String(zx(V)))+"&"+p:this.m&&qf(x,this.m,V)),Hf(this.h,L),this.Ua&&Ge(x,"TYPE","init"),this.P?(Ge(x,"$req",p),Ge(x,"SID","null"),L.T=!0,$f(L,x,null)):$f(L,x,p),this.G=2}}else this.G==3&&(u?Yx(this,u):this.i.length==0||Ax(this.h)||Yx(this))};function Yx(u,p){var x;p?x=p.l:x=u.U++;const N=Ur(u.I);Ge(N,"SID",u.K),Ge(N,"RID",x),Ge(N,"AID",u.T),ll(u,N),u.m&&u.o&&qf(N,u.m,u.o),x=new _s(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),p&&(u.i=p.D.concat(u.i)),p=Xx(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Hf(u.h,x),$f(x,N,p)}function ll(u,p){u.H&&O(u.H,function(x,N){Ge(p,N,x)}),u.l&&Dx({},function(x,N){Ge(p,N,x)})}function Xx(u,p,x){x=Math.min(u.i.length,x);var N=u.l?f(u.l.Na,u.l,u):null;e:{var L=u.i;let V=-1;for(;;){const Y=["count="+x];V==-1?0<x?(V=L[0].g,Y.push("ofs="+V)):V=0:Y.push("ofs="+V);let $e=!0;for(let Rt=0;Rt<x;Rt++){let ke=L[Rt].g;const Ut=L[Rt].map;if(ke-=V,0>ke)V=Math.max(0,L[Rt].g-100),$e=!1;else try{fA(Ut,Y,"req"+ke+"_")}catch{N&&N(Ut)}}if($e){N=Y.join("&");break e}}}return u=u.i.splice(0,x),p.D=u,N}function Jx(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;le||ne(),M||(le(),M=!0),W.add(p,u),u.v=0}}function Kf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Za(f(u.Fa,u),tw(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Zx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Za(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,en(10),du(this),Zx(this))};function Qf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Zx(u){u.g=new _s(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Ur(u.qa);Ge(p,"RID","rpc"),Ge(p,"SID",u.K),Ge(p,"AID",u.T),Ge(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(p,"TO",u.ja),Ge(p,"TYPE","xmlhttp"),ll(u,p),u.m&&u.o&&qf(p,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=au(Ur(p)),x.m=null,x.P=!0,Cx(x,u)}t.Za=function(){this.C!=null&&(this.C=null,du(this),Kf(this),en(19))};function fu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function ew(u,p){var x=null;if(u.g==p){fu(u),Qf(u),u.g=null;var N=2}else if(Wf(u.h,p))x=p.D,kx(u.h,p),N=1;else return;if(u.G!=0){if(p.o)if(N==1){x=p.m?p.m.length:0,p=Date.now()-p.F;var L=u.B;N=tu(),at(N,new Ex(N,x)),hu(u)}else Jx(u);else if(L=p.s,L==3||L==0&&0<p.X||!(N==1&&yA(u,p)||N==2&&Kf(u)))switch(x&&0<x.length&&(p=u.h,p.i=p.i.concat(x)),L){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function tw(u,p){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*p}function Ai(u,p){if(u.j.info("Error code "+p),p==2){var x=f(u.fb,u),N=u.Xa;const L=!N;N=new Ni(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||iu(N,"https"),au(N),L?uA(N.toString(),x):dA(N.toString(),x)}else en(2);u.G=0,u.l&&u.l.sa(p),nw(u),Qx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),en(2)):(this.j.info("Failed to ping google.com"),en(1))};function nw(u){if(u.G=0,u.ka=[],u.l){const p=jx(u.h);(p.length!=0||u.i.length!=0)&&(E(u.ka,p),E(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function rw(u,p,x){var N=x instanceof Ni?Ur(x):new Ni(x);if(N.g!="")p&&(N.g=p+"."+N.g),ou(N,N.s);else{var L=a.location;N=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var V=new Ni(null);N&&iu(V,N),p&&(V.g=p),L&&ou(V,L),x&&(V.l=x),N=V}return x=u.D,p=u.ya,x&&p&&Ge(N,x,p),Ge(N,"VER",u.la),ll(u,N),N}function sw(u,p,x){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new lt(new lu({eb:x})):new lt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function iw(){}t=iw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mu(){}mu.prototype.g=function(u,p){return new _n(u,p)};function _n(u,p){pt.call(this),this.g=new Kx(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!v(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new yo(this)}b(_n,pt),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){Gf(this.g)},_n.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=Ii(u),u=x);p.i.push(new eA(p.Ya++,u)),p.G==3&&hu(p)},_n.prototype.N=function(){this.g.l=null,delete this.j,Gf(this.g),delete this.g,_n.aa.N.call(this)};function ow(u){ln.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const x in p){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}b(ow,ln);function aw(){ws.call(this),this.status=1}b(aw,ws);function yo(u){this.g=u}b(yo,iw),yo.prototype.ua=function(){at(this.g,"a")},yo.prototype.ta=function(u){at(this.g,new ow(u))},yo.prototype.sa=function(u){at(this.g,new aw)},yo.prototype.ra=function(){at(this.g,"b")},mu.prototype.createWebChannel=mu.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,QC=function(){return new mu},KC=function(){return tu()},GC=Fr,gg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nu.NO_ERROR=0,nu.TIMEOUT=8,nu.HTTP_ERROR=6,pd=nu,bx.COMPLETE="complete",qC=bx,Me.EventType=Ft,Ft.OPEN="a",Ft.CLOSE="b",Ft.ERROR="c",Ft.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Cl=Me,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,HC=lt}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",k_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let za="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=new Zy("@firebase/firestore");function bo(){return so.logLevel}function Z(t,...e){if(so.logLevel<=Ee.DEBUG){const n=e.map(fv);so.debug(`Firestore (${za}): ${t}`,...n)}}function cs(t,...e){if(so.logLevel<=Ee.ERROR){const n=e.map(fv);so.error(`Firestore (${za}): ${t}`,...n)}}function wa(t,...e){if(so.logLevel<=Ee.WARN){const n=e.map(fv);so.warn(`Firestore (${za}): ${t}`,...n)}}function fv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YC(t,r,n)}function YC(t,e,n){let r=`FIRESTORE (${za}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw cs(r),new Error(r)}function Oe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||YC(e,s,r)}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends hs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kt.UNAUTHENTICATED))}shutdown(){}}class fF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mF{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new es;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new es,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new es)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Oe(typeof r.accessToken=="string",31837,{l:r}),new XC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class pF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class j_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Oe(this.o===void 0,3512);const r=i=>{i.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new j_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=vF(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function yg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Fm(s)===Fm(i)?be(s,i):Fm(s)?1:-1}return be(t.length,e.length)}const xF=55296,wF=57343;function Fm(t){const e=t.charCodeAt(0);return e>=xF&&e<=wF}function _a(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="__name__";class vr{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&he(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=vr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return be(e.length,n.length)}static compareSegments(e,n){const r=vr.isNumericId(e),s=vr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?vr.extractNumericId(e).compare(vr.extractNumericId(n)):yg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return si.fromString(e.substring(4,e.length-2))}}class We extends vr{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new We(n)}static emptyPath(){return new We([])}}const _F=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends vr{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return _F.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D_}static keyField(){return new Dt([D_])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(We.fromString(e))}static fromName(e){return new ue(We.fromString(e).popFirst(5))}static empty(){return new ue(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e,n){if(!n)throw new X(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EF(t,e,n,r){if(e===!0&&r===!0)throw new X(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function O_(t){if(!ue.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function M_(t){if(ue.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he(12329,{type:typeof t})}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(t);throw new X(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gc(t,e){if(!ZC(t))throw new X(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=-62135596800,V_=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*V_);return new Ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<L_)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V_}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gc(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-L_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:xt("string",Ye._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new Ye(0,0))}static max(){return new pe(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=-1;function bF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new mi(s,ue.empty(),e)}function TF(t){return new mi(t.readTime,t.key,xc)}class mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mi(pe.min(),ue.empty(),xc)}static max(){return new mi(pe.max(),ue.empty(),xc)}}function SF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==CF)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function PF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=-1;function mf(t){return t==null}function uh(t){return t===0&&1/t==-1/0}function NF(t){return typeof t=="number"&&Number.isInteger(t)&&!uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="";function AF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=F_(e)),e=RF(t.get(n),e);return F_(e)}function RF(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case eI:n+="";break;default:n+=i}}return n}function F_(t){return t+eI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??jt.RED,this.left=s??jt.EMPTY,this.right=i??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new jt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return jt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $_(this.data.getIterator())}getIteratorFrom(e){return new $_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class $_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Ct(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nI("Invalid base64 string: "+i):i}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const kF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(t){if(Oe(!!t,39018),typeof t=="string"){let e=0;const n=kF.exec(t);if(Oe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gi(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="server_timestamp",sI="__type__",iI="__previous_value__",oI="__local_write_time__";function gv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sI])==null?void 0:r.stringValue)===rI}function pf(t){const e=t.mapValue.fields[iI];return gv(e)?pf(e):e}function wc(t){const e=pi(t.mapValue.fields[oI].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e,n,r,s,i,o,a,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const dh="(default)";class _c{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="__type__",lI="__max__",zu={mapValue:{fields:{__type__:{stringValue:lI}}}},cI="__vector__",hh="value";function yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gv(t)?4:OF(t)?9007199254740991:DF(t)?10:11:he(28295,{value:t})}function Dr(t,e){if(t===e)return!0;const n=yi(t);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wc(t).isEqual(wc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=pi(s.timestampValue),a=pi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return gi(s.bytesValue).isEqual(gi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),a=ht(i.doubleValue);return o===a?uh(o)===uh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(U_(o)!==U_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Dr(o[c],a[c])))return!1;return!0}(t,e);default:return he(52216,{left:t})}}function Ec(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function Ea(t,e){if(t===e)return 0;const n=yi(t),r=yi(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ht(i.integerValue||i.doubleValue),c=ht(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return z_(t.timestampValue,e.timestampValue);case 4:return z_(wc(t),wc(e));case 5:return yg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=gi(i),c=gi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=be(a[d],c[d]);if(h!==0)return h}return be(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=be(ht(i.latitude),ht(o.latitude));return a!==0?a:be(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return B_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var f,g,b,w;const a=i.fields||{},c=o.fields||{},d=(f=a[hh])==null?void 0:f.arrayValue,h=(g=c[hh])==null?void 0:g.arrayValue,m=be(((b=d==null?void 0:d.values)==null?void 0:b.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return m!==0?m:B_(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===zu.mapValue&&o===zu.mapValue)return 0;if(i===zu.mapValue)return 1;if(o===zu.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const f=yg(c[m],h[m]);if(f!==0)return f;const g=Ea(a[c[m]],d[h[m]]);if(g!==0)return g}return be(c.length,h.length)}(t.mapValue,e.mapValue);default:throw he(23264,{he:n})}}function z_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=pi(t),r=pi(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function B_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ea(n[s],r[s]);if(i)return i}return be(n.length,r.length)}function ba(t){return vg(t)}function vg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=vg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${vg(n.fields[o])}`;return s+"}"}(t.mapValue):he(61005,{value:t})}function gd(t){switch(yi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pf(t);return e?16+gd(e):16;case 5:return 2*t.stringValue.length;case 6:return gi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+gd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return bi(r.fields,(i,o)=>{s+=i.length+gd(o)}),s}(t.mapValue);default:throw he(13486,{value:t})}}function W_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xg(t){return!!t&&"integerValue"in t}function yv(t){return!!t&&"arrayValue"in t}function H_(t){return!!t&&"nullValue"in t}function q_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yd(t){return!!t&&"mapValue"in t}function DF(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aI])==null?void 0:r.stringValue)===cI}function Bl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(t.arrayValue.values[n]);return e}return{...t}}function OF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Dt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Bl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());yd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];yd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){bi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new mn(Bl(this.value))}}function uI(t){const e=[];return bi(t.fields,(n,r)=>{const s=new Dt([n]);if(yd(r)){const i=uI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Yt(e,0,pe.min(),pe.min(),pe.min(),mn.empty(),0)}static newFoundDocument(e,n,r,s){return new Yt(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new Yt(e,2,n,pe.min(),pe.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,pe.min(),pe.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function G_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Ea(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function K_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n="asc"){this.field=e,this.dir=n}}function MF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{}class vt extends dI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VF(e,n,r):n==="array-contains"?new $F(e,r):n==="in"?new zF(e,r):n==="not-in"?new BF(e,r):n==="array-contains-any"?new WF(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new FF(e,r):new UF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ea(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.matchesComparison(Ea(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends dI{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return hI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hI(t){return t.op==="and"}function fI(t){return LF(t)&&hI(t)}function LF(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function wg(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+ba(t.value);if(fI(t))return t.filters.map(e=>wg(e)).join(",");{const e=t.filters.map(n=>wg(n)).join(",");return`${t.op}(${e})`}}function mI(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Dr(r.value,s.value)}(t,e):t instanceof cr?function(r,s){return s instanceof cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mI(o,s.filters[a]),!0):!1}(t,e):void he(19439)}function pI(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${ba(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(pI).join(" ,")+"}"}(t):"Filter"}class VF extends vt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class FF extends vt{constructor(e,n){super(e,"in",n),this.keys=gI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class UF extends vt{constructor(e,n){super(e,"not-in",n),this.keys=gI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gI(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class $F extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yv(n)&&Ec(n.arrayValue,this.value)}}class zF extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}}class BF extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ec(this.value.arrayValue,n)}}class WF extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ec(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Q_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new HF(t,e,n,r,s,i,o)}function vv(t){const e=ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>wg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ba(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ba(r)).join(",")),e.Te=n}return e.Te}function xv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!MF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!K_(t.startAt,e.startAt)&&K_(t.endAt,e.endAt)}function _g(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qF(t,e,n,r,s,i,o,a){return new Ha(t,e,n,r,s,i,o,a)}function wv(t){return new Ha(t)}function Y_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yI(t){return t.collectionGroup!==null}function Wl(t){const e=ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ct(Dt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new bc(i,r))}),n.has(Dt.keyField().canonicalString())||e.Ie.push(new bc(Dt.keyField(),r))}return e.Ie}function Pr(t){const e=ge(t);return e.Ee||(e.Ee=GF(e,Wl(t))),e.Ee}function GF(t,e){if(t.limitType==="F")return Q_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new bc(s.field,i)});const n=t.endAt?new fh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fh(t.startAt.position,t.startAt.inclusive):null;return Q_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Eg(t,e){const n=t.filters.concat([e]);return new Ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mh(t,e,n){return new Ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return xv(Pr(t),Pr(e))&&t.limitType===e.limitType}function vI(t){return`${vv(Pr(t))}|lt:${t.limitType}`}function To(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>pI(s)).join(", ")}]`),mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ba(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ba(s)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function yf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ue.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Wl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=G_(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,Wl(r),s)||r.endAt&&!function(o,a,c){const d=G_(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,Wl(r),s))}(t,e)}function KF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xI(t){return(e,n)=>{let r=!1;for(const s of Wl(t)){const i=QF(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function QF(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?Ea(c,d):he(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){bi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return tI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=new ot(ue.comparator);function us(){return YF}const wI=new ot(ue.comparator);function Il(...t){let e=wI;for(const n of t)e=e.insert(n.key,n);return e}function _I(t){let e=wI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vi(){return Hl()}function EI(){return Hl()}function Hl(){return new ho(t=>t.toString(),(t,e)=>t.isEqual(e))}const XF=new ot(ue.comparator),JF=new Ct(ue.comparator);function Te(...t){let e=JF;for(const n of t)e=e.add(n);return e}const ZF=new Ct(be);function e6(){return ZF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function bI(t){return{integerValue:""+t}}function t6(t,e){return NF(e)?bI(e):_v(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this._=void 0}}function n6(t,e,n){return t instanceof Tc?function(s,i){const o={fields:{[sI]:{stringValue:rI},[oI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&gv(i)&&(i=pf(i)),i&&(o.fields[iI]=i),{mapValue:o}}(n,e):t instanceof Sc?SI(t,e):t instanceof Cc?CI(t,e):function(s,i){const o=TI(s,i),a=X_(o)+X_(s.Ae);return xg(o)&&xg(s.Ae)?bI(a):_v(s.serializer,a)}(t,e)}function r6(t,e,n){return t instanceof Sc?SI(t,e):t instanceof Cc?CI(t,e):n}function TI(t,e){return t instanceof ph?function(r){return xg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Tc extends vf{}class Sc extends vf{constructor(e){super(),this.elements=e}}function SI(t,e){const n=II(e);for(const r of t.elements)n.some(s=>Dr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cc extends vf{constructor(e){super(),this.elements=e}}function CI(t,e){let n=II(e);for(const r of t.elements)n=n.filter(s=>!Dr(s,r));return{arrayValue:{values:n}}}class ph extends vf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function X_(t){return ht(t.integerValue||t.doubleValue)}function II(t){return yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n){this.field=e,this.transform=n}}function i6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Sc&&s instanceof Sc||r instanceof Cc&&s instanceof Cc?_a(r.elements,s.elements,Dr):r instanceof ph&&s instanceof ph?Dr(r.Ae,s.Ae):r instanceof Tc&&s instanceof Tc}(t.transform,e.transform)}class o6{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xf{}function PI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ev(t.key,Bn.none()):new Kc(t.key,t.data,Bn.none());{const n=t.data,r=mn.empty();let s=new Ct(Dt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ti(t.key,r,new Nn(s.toArray()),Bn.none())}}function a6(t,e,n){t instanceof Kc?function(s,i,o){const a=s.value.clone(),c=Z_(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ti?function(s,i,o){if(!vd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Z_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(NI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ql(t,e,n,r){return t instanceof Kc?function(i,o,a,c){if(!vd(i.precondition,o))return a;const d=i.value.clone(),h=eE(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ti?function(i,o,a,c){if(!vd(i.precondition,o))return a;const d=eE(i.fieldTransforms,c,o),h=o.data;return h.setAll(NI(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,a){return vd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function l6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=TI(r.transform,s||null);i!=null&&(n===null&&(n=mn.empty()),n.set(r.field,i))}return n||null}function J_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&_a(r,s,(i,o)=>i6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Kc extends xf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ti extends xf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function NI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Z_(t,e,n){const r=new Map;Oe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,r6(o,a,n[s]))}return r}function eE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,n6(i,o,e))}return r}class Ev extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c6 extends xf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&a6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=PI(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,r)=>J_(n,r))&&_a(this.baseMutations,e.baseMutations,(n,r)=>J_(n,r))}}class bv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Oe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return XF}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new bv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Pe;function f6(t){switch(t){case F.OK:return he(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return he(15467,{code:t})}}function AI(t){if(t===void 0)return cs("GRPC error has no .code"),F.UNKNOWN;switch(t){case gt.OK:return F.OK;case gt.CANCELLED:return F.CANCELLED;case gt.UNKNOWN:return F.UNKNOWN;case gt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case gt.INTERNAL:return F.INTERNAL;case gt.UNAVAILABLE:return F.UNAVAILABLE;case gt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case gt.NOT_FOUND:return F.NOT_FOUND;case gt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case gt.ABORTED:return F.ABORTED;case gt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case gt.DATA_LOSS:return F.DATA_LOSS;default:return he(39323,{code:t})}}(Pe=gt||(gt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=new si([4294967295,4294967295],0);function tE(t){const e=m6().encode(t),n=new WC;return n.update(e),new Uint8Array(n.digest())}function nE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new si([n,r],0),new si([s,i],0)]}class Tv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=si.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(si.fromNumber(r)));return s.compare(p6)===1&&(s=new si([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=tE(e),[r,s]=nE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Tv(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=tE(e),[r,s]=nE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Qc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wf(pe.min(),s,new ot(be),us(),Te())}}class Qc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qc(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class RI{constructor(e,n){this.targetId=e,this.Ce=n}}class kI{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class rE{constructor(){this.ve=0,this.Fe=sE(),this.Me=Lt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Te(),n=Te(),r=Te();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he(38017,{changeType:i})}}),new Qc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=sE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Oe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class g6{constructor(e){this.Ge=e,this.ze=new Map,this.je=us(),this.Je=Bu(),this.He=Bu(),this.Ye=new ot(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:he(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(_g(i))if(r===0){const o=new ue(i.path);this.et(n,o,Yt.newNoDocument(o,pe.min()))}else Oe(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=gi(r).toUint8Array()}catch(c){if(c instanceof nI)return wa("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Tv(o,s,i)}catch(c){return wa(c instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&_g(a.target)){const c=new ue(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Yt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Te();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new wf(e,n,this.Ye,this.je,r);return this.je=us(),this.Je=Bu(),this.He=Bu(),this.Ye=new ot(be),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ct(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ct(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Bu(){return new ot(ue.comparator)}function sE(){return new ot(ue.comparator)}const y6={asc:"ASCENDING",desc:"DESCENDING"},v6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},x6={and:"AND",or:"OR"};class w6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bg(t,e){return t.useProto3Json||mf(e)?e:{value:e}}function gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _6(t,e){return gh(t,e.toTimestamp())}function Nr(t){return Oe(!!t,49232),pe.fromTimestamp(function(n){const r=pi(n);return new Ye(r.seconds,r.nanos)}(t))}function Sv(t,e){return Tg(t,e).canonicalString()}function Tg(t,e){const n=function(s){return new We(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DI(t){const e=We.fromString(t);return Oe(FI(e),10190,{key:e.toString()}),e}function Sg(t,e){return Sv(t.databaseId,e.path)}function Um(t,e){const n=DI(e);if(n.get(1)!==t.databaseId.projectId)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(MI(n))}function OI(t,e){return Sv(t.databaseId,e)}function E6(t){const e=DI(t);return e.length===4?We.emptyPath():MI(e)}function Cg(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function MI(t){return Oe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function iE(t,e,n){return{name:Sg(t,e),fields:n.value.mapValue.fields}}function b6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:he(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Oe(h===void 0||typeof h=="string",58123),Lt.fromBase64String(h||"")):(Oe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Lt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?F.UNKNOWN:AI(d.code);return new X(h,d.message||"")}(o);n=new kI(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Um(t,r.document.name),i=Nr(r.document.updateTime),o=r.document.createTime?Nr(r.document.createTime):pe.min(),a=new mn({mapValue:{fields:r.document.fields}}),c=Yt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new xd(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Um(t,r.document),i=r.readTime?Nr(r.readTime):pe.min(),o=Yt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new xd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Um(t,r.document),i=r.removedTargetIds||[];n=new xd([],i,s,null)}else{if(!("filter"in e))return he(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new h6(s,i),a=r.targetId;n=new RI(a,o)}}return n}function T6(t,e){let n;if(e instanceof Kc)n={update:iE(t,e.key,e.value)};else if(e instanceof Ev)n={delete:Sg(t,e.key)};else if(e instanceof Ti)n={update:iE(t,e.key,e.data),updateMask:j6(e.fieldMask)};else{if(!(e instanceof c6))return he(16599,{Vt:e.type});n={verify:Sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Tc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ph)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw he(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:_6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he(27497)}(t,e.precondition)),n}function S6(t,e){return t&&t.length>0?(Oe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Nr(s.updateTime):Nr(i);return o.isEqual(pe.min())&&(o=Nr(i)),new o6(o,s.transformResults||[])}(n,e))):[]}function C6(t,e){return{documents:[OI(t,e.path)]}}function I6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OI(t,s);const i=function(d){if(d.length!==0)return VI(cr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(f){return{field:So(f.field),direction:A6(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=bg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function P6(t){let e=E6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Oe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(m){const f=LI(m);return f instanceof cr&&fI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(f=>function(b){return new bc(Co(b.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(m){let f;return f=typeof m=="object"?m.value:m,mf(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(m){const f=!!m.before,g=m.values||[];return new fh(g,f)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const f=!m.before,g=m.values||[];return new fh(g,f)}(n.endAt)),qF(e,s,o,i,a,"F",c,d)}function N6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Co(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Co(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Co(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Co(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(Co(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>LI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(n.compositeFilter.op))}(t):he(30097,{filter:t})}function A6(t){return y6[t]}function R6(t){return v6[t]}function k6(t){return x6[t]}function So(t){return{fieldPath:t.canonicalString()}}function Co(t){return Dt.fromServerFormat(t.fieldPath)}function VI(t){return t instanceof vt?function(n){if(n.op==="=="){if(q_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(H_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(H_(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:R6(n.op),value:n.value}}}(t):t instanceof cr?function(n){const r=n.getFilters().map(s=>VI(s));return r.length===1?r[0]:{compositeFilter:{op:k6(n.op),filters:r}}}(t):he(54877,{filter:t})}function j6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r,s,i=pe.min(),o=pe.min(),a=Lt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.yt=e}}function O6(t){const e=P6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.Cn=new L6}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(mi.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class L6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ct(We.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ct(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UI=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(UI,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ta(0)}static cr(){return new Ta(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="LruGarbageCollector",V6=1048576;function lE([t,e],[n,r]){const s=be(t,n);return s===0?be(e,r):s}class F6{constructor(e){this.Ir=e,this.buffer=new Ct(lE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class U6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(aE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?Z(aE,"Ignoring IndexedDB error during garbage collection: ",n):await Ba(n)}await this.Vr(3e5)})}}class $6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return U.resolve(ff.ce);const r=new F6(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(oE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),bo()<=Ee.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function z6(t,e){return new $6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.changes=new ho(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ql(r.mutation,s,Nn.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const s=Vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Il();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=us();const o=Hl(),a=function(){return Hl()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Ti)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),ql(h.mutation,d,h.mutation.getFieldMask(),Ye.now())):o.set(d.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new W6(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Hl();let s=new ot((o,a)=>o-a),i=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||Nn.empty();h=a.applyToLocalView(d,h),r.set(c,h);const m=(s.get(a.batchId)||Te()).add(c);s=s.insert(a.batchId,m)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,m=EI();h.forEach(f=>{if(!i.has(f)){const g=PI(n.get(f),r.get(f));g!==null&&m.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(Vi());let a=xc,c=i;return o.next(d=>U.forEach(d,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),i.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{c=c.insert(h,f)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Te())).next(h=>({batchId:a,changes:_I(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let s=Il();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Il();return this.indexManager.getCollectionParents(e,i).next(a=>U.forEach(a,c=>{const d=function(m,f){return new Ha(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((m,f)=>{o=o.insert(m,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Yt.newInvalidDocument(h)))});let a=Il();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&ql(h.mutation,d,Nn.empty(),Ye.now()),yf(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Nr(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:O6(s.bundledQuery),readTime:Nr(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.overlays=new ot(ue.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vi();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=Vi(),i=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ot((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Vi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Vi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return U.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new d6(n,r));let i=this.qr.get(n);i===void 0&&(i=Te(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.Qr=new Ct(Pt.$r),this.Ur=new Ct(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ue(new We([])),r=new Pt(n,e),s=new Pt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ue(new We([])),r=new Pt(n,e),s=new Pt(n,e+1);let i=Te();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Pt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ue.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Pt.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new u6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?pv:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),s=new Pt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(be);return n.forEach(s=>{const i=new Pt(s,0),o=new Pt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),U.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ue.isDocumentKey(i)||(i=i.child(""));const o=new Pt(new ue(i),0);let a=new Ct(be);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},o),U.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Oe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return U.forEach(n.mutations,s=>{const i=new Pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Pt(n,0),s=this.Zr.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.ri=e,this.docs=function(){return new ot(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=us();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Yt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=us();const o=n.path,a=new ue(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||SF(TF(h),r)<=0||(s.has(h.key)||yf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he(9500)}ii(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new X6(this)}getSize(e){return U.resolve(this.size)}}class X6 extends B6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.persistence=e,this.si=new ho(n=>vv(n),xv),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Cv,this.targetCount=0,this.ai=Ta.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new K6,this.referenceDelegate=e(this),this.Pi=new J6(this),this.indexManager=new M6,this.remoteDocumentCache=function(s){return new Y6(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new D6(n),this.Ii=new q6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new G6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Q6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const s=new Z6(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Z6 extends IF{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.Ri=new Cv,this.Vi=null}static mi(e){return new Iv(e)}get fi(){if(this.Vi)return this.Vi;throw he(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,r=>{const s=ue.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.pi=new ho(r=>AF(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=z6(this,n)}static mi(e,n){return new yh(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?U.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gd(e.data.value)),n}br(e,n,r){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return U.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Te(),s=Te();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Pv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return T4()?8:PF(Zt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new e5;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(bo()<=Ee.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",To(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(bo()<=Ee.DEBUG&&Z("QueryEngine","Query:",To(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(bo()<=Ee.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",To(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):U.resolve())}ys(e,n){if(Y_(n))return U.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=mh(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Te(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,o,c.readTime)?this.ys(e,mh(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return Y_(n)||s.isEqual(pe.min())?U.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?U.resolve(null):(bo()<=Ee.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),To(n)),this.vs(e,o,n,bF(s,xc)).next(a=>a))})}Ds(e,n){let r=new Ct(xI(e));return n.forEach((s,i)=>{yf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return bo()<=Ee.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",To(n)),this.ps.getDocumentsMatchingQuery(e,n,mi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="LocalStore",n5=3e8;class r5{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ot(be),this.xs=new ho(i=>vv(i),xv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function s5(t,e,n,r){return new r5(t,e,n,r)}async function zI(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Te();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function i5(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const m=d.batch,f=m.keys();let g=U.resolve();return f.forEach(b=>{g=g.next(()=>h.getEntry(c,b)).next(w=>{const E=d.docVersions.get(b);Oe(E!==null,48541),w.version.compareTo(E)<0&&(m.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Te();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function BI(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function o5(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,m)=>{const f=s.get(m);if(!f)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,m)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?g=g.withResumeToken(Lt.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(m,g),function(w,E,_){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=n5?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,g,h)&&a.push(n.Pi.updateTargetData(i,g))});let c=us(),d=Te();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(a5(i,o,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!r.isEqual(pe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.Ms=s,i))}function a5(t,e,n){let r=Te(),s=Te();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=us();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Z(Nv,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{ks:o,qs:s}})}function l5(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=pv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c5(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Hs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ig(t,e,n){const r=ge(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Wa(o))throw o;Z(Nv,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function cE(t,e,n){const r=ge(t);let s=pe.min(),i=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const m=ge(c),f=m.xs.get(h);return f!==void 0?U.resolve(m.Ms.get(f)):m.Pi.getTargetData(d,h)}(r,o,Pr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:pe.min(),n?i:Te())).next(a=>(u5(r,KF(e),a),{documents:a,Qs:i})))}function u5(t,e,n){let r=t.Os.get(e)||pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class uE{constructor(){this.activeTargetIds=e6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d5{constructor(){this.Mo=new uE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new uE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="ConnectivityMonitor";class hE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(dE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(dE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function Pg(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="RestConnection",f5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===dh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Pg(),a=this.zo(e,n.toUriEncodedString());Z($m,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),h=Va(d);return this.Jo(e,a,c,r,h).then(m=>(Z($m,`Received RPC '${e}' ${o}: `,m),m),m=>{throw wa($m,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+za}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=f5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class g5 extends m5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Pg();return new Promise((a,c)=>{const d=new HC;d.setWithCredentials(!0),d.listenOnce(qC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case pd.NO_ERROR:const m=d.getResponseJson();Z(Ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case pd.TIMEOUT:Z(Ht,`RPC '${e}' ${o} timed out`),c(new X(F.DEADLINE_EXCEEDED,"Request time out"));break;case pd.HTTP_ERROR:const f=d.getStatus();if(Z(Ht,`RPC '${e}' ${o} failed with status:`,f,"response text:",d.getResponseText()),f>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g==null?void 0:g.error;if(b&&b.status&&b.message){const w=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(v)>=0?v:F.UNKNOWN}(b.status);c(new X(w,b.message))}else c(new X(F.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new X(F.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Z(Ht,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Z(Ht,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Pg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QC(),a=KC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=i.join("");Z(Ht,`Creating RPC '${e}' stream ${s}: ${h}`,c);const m=o.createWebChannel(h,c);this.I_(m);let f=!1,g=!1;const b=new p5({Yo:E=>{g?Z(Ht,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(Z(Ht,`Opening RPC '${e}' stream ${s} transport.`),m.open(),f=!0),Z(Ht,`RPC '${e}' stream ${s} sending:`,E),m.send(E))},Zo:()=>m.close()}),w=(E,_,v)=>{E.listen(_,T=>{try{v(T)}catch(A){setTimeout(()=>{throw A},0)}})};return w(m,Cl.EventType.OPEN,()=>{g||(Z(Ht,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),w(m,Cl.EventType.CLOSE,()=>{g||(g=!0,Z(Ht,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(m))}),w(m,Cl.EventType.ERROR,E=>{g||(g=!0,wa(Ht,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),b.a_(new X(F.UNAVAILABLE,"The operation could not be completed")))}),w(m,Cl.EventType.MESSAGE,E=>{var _;if(!g){const v=E.data[0];Oe(!!v,16349);const T=v,A=(T==null?void 0:T.error)||((_=T[0])==null?void 0:_.error);if(A){Z(Ht,`RPC '${e}' stream ${s} received error:`,A);const j=A.status;let O=function(S){const P=gt[S];if(P!==void 0)return AI(P)}(j),I=A.message;O===void 0&&(O=F.INTERNAL,I="Unknown error status: "+j+" with message "+A.message),g=!0,b.a_(new X(O,I)),m.close()}else Z(Ht,`RPC '${e}' stream ${s} received:`,v),b.u_(v)}}),w(a,GC.STAT_EVENT,E=>{E.stat===gg.PROXY?Z(Ht,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===gg.NOPROXY&&Z(Ht,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(t){return new w6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="PersistentStream";class HI{constructor(e,n,r,s,i,o,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(cs(n.toString()),cs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(fE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(fE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y5 extends HI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=b6(this.serializer,e),r=function(i){if(!("targetChange"in i))return pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Nr(o.readTime):pe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Cg(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=_g(c)?{documents:C6(i,c)}:{query:I6(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=jI(i,o.resumeToken);const d=bg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(pe.min())>0){a.readTime=gh(i,o.snapshotVersion.toTimestamp());const d=bg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=N6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Cg(this.serializer),n.removeTarget=e,this.q_(n)}}class v5 extends HI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Oe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Oe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=S6(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Cg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>T6(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{}class w5 extends x5{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Tg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(F.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Tg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class _5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cs(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="RemoteStore";class E5{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{fo(this)&&(Z(io,"Restarting streams for network reachability change."),await async function(c){const d=ge(c);d.Ea.add(4),await Yc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Ef(d)}(this))})}),this.Ra=new _5(r,s)}}async function Ef(t){if(fo(t))for(const e of t.da)await e(!0)}async function Yc(t){for(const e of t.da)await e(!1)}function qI(t,e){const n=ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),jv(n)?kv(n):qa(n).O_()&&Rv(n,e))}function Av(t,e){const n=ge(t),r=qa(n);n.Ia.delete(e),r.O_()&&GI(n,e),n.Ia.size===0&&(r.O_()?r.L_():fo(n)&&n.Ra.set("Unknown"))}function Rv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qa(t).Y_(e)}function GI(t,e){t.Va.Ue(e),qa(t).Z_(e)}function kv(t){t.Va=new g6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),qa(t).start(),t.Ra.ua()}function jv(t){return fo(t)&&!qa(t).x_()&&t.Ia.size>0}function fo(t){return ge(t).Ea.size===0}function KI(t){t.Va=void 0}async function b5(t){t.Ra.set("Online")}async function T5(t){t.Ia.forEach((e,n)=>{Rv(t,e)})}async function S5(t,e){KI(t),jv(t)?(t.Ra.ha(e),kv(t)):t.Ra.set("Unknown")}async function C5(t,e,n){if(t.Ra.set("Online"),e instanceof kI&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){Z(io,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(t,r)}else if(e instanceof xd?t.Va.Ze(e):e instanceof RI?t.Va.st(e):t.Va.tt(e),!n.isEqual(pe.min()))try{const r=await BI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),GI(i,c);const m=new Hs(h.target,c,d,h.sequenceNumber);Rv(i,m)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Z(io,"Failed to raise snapshot:",r),await vh(t,r)}}async function vh(t,e,n){if(!Wa(e))throw e;t.Ea.add(1),await Yc(t),t.Ra.set("Offline"),n||(n=()=>BI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(io,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ef(t)})}function QI(t,e){return e().catch(n=>vh(t,n,e))}async function bf(t){const e=ge(t),n=vi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pv;for(;I5(e);)try{const s=await l5(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,P5(e,s)}catch(s){await vh(e,s)}YI(e)&&XI(e)}function I5(t){return fo(t)&&t.Ta.length<10}function P5(t,e){t.Ta.push(e);const n=vi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function YI(t){return fo(t)&&!vi(t).x_()&&t.Ta.length>0}function XI(t){vi(t).start()}async function N5(t){vi(t).ra()}async function A5(t){const e=vi(t);for(const n of t.Ta)e.ea(n.mutations)}async function R5(t,e,n){const r=t.Ta.shift(),s=bv.from(r,e,n);await QI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await bf(t)}async function k5(t,e){e&&vi(t).X_&&await async function(r,s){if(function(o){return f6(o)&&o!==F.ABORTED}(s.code)){const i=r.Ta.shift();vi(r).B_(),await QI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await bf(r)}}(t,e),YI(t)&&XI(t)}async function mE(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),Z(io,"RemoteStore received new credentials");const r=fo(n);n.Ea.add(3),await Yc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ef(n)}async function j5(t,e){const n=ge(t);e?(n.Ea.delete(2),await Ef(n)):e||(n.Ea.add(2),await Yc(n),n.Ra.set("Unknown"))}function qa(t){return t.ma||(t.ma=function(n,r,s){const i=ge(n);return i.sa(),new y5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:b5.bind(null,t),t_:T5.bind(null,t),r_:S5.bind(null,t),H_:C5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),jv(t)?kv(t):t.Ra.set("Unknown")):(await t.ma.stop(),KI(t))})),t.ma}function vi(t){return t.fa||(t.fa=function(n,r,s){const i=ge(n);return i.sa(),new v5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:N5.bind(null,t),r_:k5.bind(null,t),ta:A5.bind(null,t),na:R5.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await bf(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(io,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Dv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ov(t,e){if(cs("AsyncQueue",`${e}: ${t}`),Wa(t))return new X(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.ga=new ot(ue.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):he(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Sa{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Sa(e,n,Xo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class O5{constructor(){this.queries=gE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ge(n),i=s.queries;s.queries=gE(),i.forEach((o,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new X(F.ABORTED,"Firestore shutting down"))}}function gE(){return new ho(t=>vI(t),gf)}async function JI(t,e){const n=ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new D5,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ov(o,`Initialization of query '${To(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Mv(n)}async function ZI(t,e){const n=ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function M5(t,e){const n=ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Mv(n)}function L5(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Mv(t){t.Ca.forEach(e=>{e.next()})}var Ng,yE;(yE=Ng||(Ng={})).Ma="default",yE.Cache="cache";class eP{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ng.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.key=e}}class nP{constructor(e){this.key=e}}class V5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Te(),this.mutatedKeys=Te(),this.eu=xI(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new pE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,m)=>{const f=s.get(h),g=yf(this.query,m)?m:null,b=!!f&&this.mutatedKeys.has(f.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let E=!1;f&&g?f.data.isEqual(g.data)?b!==w&&(r.track({type:3,doc:g}),E=!0):this.su(f,g)||(r.track({type:2,doc:g}),E=!0,(c&&this.eu(g,c)>0||d&&this.eu(g,d)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),E=!0):f&&!g&&(r.track({type:1,doc:f}),E=!0,(c||d)&&(a=!0)),E&&(g?(o=o.add(g),i=w?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,m)=>function(g,b){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Rt:E})}};return w(g)-w(b)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,d=c!==this.Za;return this.Za=c,o.length!==0||d?{snapshot:new Sa(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Te(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new nP(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new tP(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Te();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Sa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lv="SyncEngine";class F5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class U5{constructor(e){this.key=e,this.hu=!1}}class $5{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ho(a=>vI(a),gf),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ue.comparator),this.Au=new Map,this.Ru=new Cv,this.Vu={},this.mu=new Map,this.fu=Ta.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z5(t,e,n=!0){const r=lP(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await rP(r,e,n,!0),s}async function B5(t,e){const n=lP(t);await rP(n,e,!0,!1)}async function rP(t,e,n,r){const s=await c5(t.localStore,Pr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await W5(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&qI(t.remoteStore,s),a}async function W5(t,e,n,r,s){t.pu=(m,f,g)=>async function(w,E,_,v){let T=E.view.ru(_);T.Cs&&(T=await cE(w.localStore,E.query,!1).then(({documents:I})=>E.view.ru(I,T)));const A=v&&v.targetChanges.get(E.targetId),j=v&&v.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(T,w.isPrimaryClient,A,j);return xE(w,E.targetId,O.au),O.snapshot}(t,m,f,g);const i=await cE(t.localStore,e,!0),o=new V5(e,i.Qs),a=o.ru(i.documents),c=Qc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);xE(t,n,d.au);const h=new F5(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function H5(t,e,n){const r=ge(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!gf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ig(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Av(r.remoteStore,s.targetId),Ag(r,s.targetId)}).catch(Ba)):(Ag(r,s.targetId),await Ig(r.localStore,s.targetId,!0))}async function q5(t,e){const n=ge(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Av(n.remoteStore,r.targetId))}async function G5(t,e,n){const r=eU(t);try{const s=await function(o,a){const c=ge(o),d=Ye.now(),h=a.reduce((g,b)=>g.add(b.key),Te());let m,f;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let b=us(),w=Te();return c.Ns.getEntries(g,h).next(E=>{b=E,b.forEach((_,v)=>{v.isValidDocument()||(w=w.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,b)).next(E=>{m=E;const _=[];for(const v of a){const T=l6(v,m.get(v.key).overlayedDocument);T!=null&&_.push(new Ti(v.key,T,uI(T.value.mapValue),Bn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,d,_,a)}).next(E=>{f=E;const _=E.applyToLocalDocumentSet(m,w);return c.documentOverlayCache.saveOverlays(g,E.batchId,_)})}).then(()=>({batchId:f.batchId,changes:_I(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Vu[o.currentUser.toKey()];d||(d=new ot(be)),d=d.insert(a,c),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Xc(r,s.changes),await bf(r.remoteStore)}catch(s){const i=Ov(s,"Failed to persist write");n.reject(i)}}async function sP(t,e){const n=ge(t);try{const r=await o5(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Oe(o.hu,14607):s.removedDocuments.size>0&&(Oe(o.hu,42227),o.hu=!1))}),await Xc(n,r,e)}catch(r){await Ba(r)}}function vE(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ge(o);c.onlineState=a;let d=!1;c.queries.forEach((h,m)=>{for(const f of m.Sa)f.va(a)&&(d=!0)}),d&&Mv(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K5(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ot(ue.comparator);o=o.insert(i,Yt.newNoDocument(i,pe.min()));const a=Te().add(i),c=new wf(pe.min(),new Map,new ot(be),o,a);await sP(r,c),r.du=r.du.remove(i),r.Au.delete(e),Vv(r)}else await Ig(r.localStore,e,!1).then(()=>Ag(r,e,n)).catch(Ba)}async function Q5(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await i5(n.localStore,e);oP(n,r,null),iP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xc(n,s)}catch(s){await Ba(s)}}async function Y5(t,e,n){const r=ge(t);try{const s=await function(o,a){const c=ge(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(m=>(Oe(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);oP(r,e,n),iP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xc(r,s)}catch(s){await Ba(s)}}function iP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function oP(t,e,n){const r=ge(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Ag(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||aP(t,r)})}function aP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Av(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Vv(t))}function xE(t,e,n){for(const r of n)r instanceof tP?(t.Ru.addReference(r.key,e),X5(t,r)):r instanceof nP?(Z(Lv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||aP(t,r.key)):he(19791,{wu:r})}function X5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Z(Lv,"New document in limbo: "+n),t.Eu.add(r),Vv(t))}function Vv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ue(We.fromString(e)),r=t.fu.next();t.Au.set(r,new U5(n)),t.du=t.du.insert(n,r),qI(t.remoteStore,new Hs(Pr(wv(n.path)),r,"TargetPurposeLimboResolution",ff.ce))}}async function Xc(t,e,n){const r=ge(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){s.push(d);const m=Pv.As(c.targetId,d);i.push(m)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(c,d){const h=ge(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>U.forEach(d,f=>U.forEach(f.Es,g=>h.persistence.referenceDelegate.addReference(m,f.targetId,g)).next(()=>U.forEach(f.ds,g=>h.persistence.referenceDelegate.removeReference(m,f.targetId,g)))))}catch(m){if(!Wa(m))throw m;Z(Nv,"Failed to update sequence numbers: "+m)}for(const m of d){const f=m.targetId;if(!m.fromCache){const g=h.Ms.get(f),b=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(b);h.Ms=h.Ms.insert(f,w)}}}(r.localStore,i))}async function J5(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){Z(Lv,"User change. New user:",e.toKey());const r=await zI(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new X(F.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xc(n,r.Ls)}}function Z5(t,e){const n=ge(t),r=n.Au.get(e);if(r&&r.hu)return Te().add(r.key);{let s=Te();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function lP(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K5.bind(null,e),e.Pu.H_=M5.bind(null,e.eventManager),e.Pu.yu=L5.bind(null,e.eventManager),e}function eU(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y5.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_f(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return s5(this.persistence,new t5,e.initialUser,this.serializer)}Cu(e){return new $I(Iv.mi,this.serializer)}Du(e){return new d5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class tU extends xh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Oe(this.persistence.referenceDelegate instanceof yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new U6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new $I(r=>yh.mi(r,n),this.serializer)}}class Rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J5.bind(null,this.syncEngine),await j5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new O5}()}createDatastore(e){const n=_f(e.databaseInfo.databaseId),r=function(i){return new g5(i)}(e.databaseInfo);return function(i,o,a,c){return new w5(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new E5(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vE(this.syncEngine,n,0),function(){return hE.v()?new hE:new h5}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const m=new $5(s,i,o,a,c,d);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ge(s);Z(io,"RemoteStore shutting down."),i.Ea.add(5),await Yc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="FirestoreClient";class nU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Kt.UNAUTHENTICATED,this.clientId=mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Z(xi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Z(xi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ov(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bm(t,e){t.asyncQueue.verifyOperationInProgress(),Z(xi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rU(t);Z(xi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>mE(e.remoteStore,s)),t._onlineComponents=e}async function rU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(xi,"Using user provided OfflineComponentProvider");try{await Bm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;wa("Error using user provided cache. Falling back to memory cache: "+n),await Bm(t,new xh)}}else Z(xi,"Using default OfflineComponentProvider"),await Bm(t,new tU(void 0));return t._offlineComponents}async function uP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(xi,"Using user provided OnlineComponentProvider"),await wE(t,t._uninitializedComponentsProvider._online)):(Z(xi,"Using default OnlineComponentProvider"),await wE(t,new Rg))),t._onlineComponents}function sU(t){return uP(t).then(e=>e.syncEngine)}async function dP(t){const e=await uP(t),n=e.eventManager;return n.onListen=z5.bind(null,e.syncEngine),n.onUnlisten=H5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=B5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=q5.bind(null,e.syncEngine),n}function iU(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new cP({next:f=>{h.Nu(),o.enqueueAndForget(()=>ZI(i,m));const g=f.docs.has(a);!g&&f.fromCache?d.reject(new X(F.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&c&&c.source==="server"?d.reject(new X(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(f)},error:f=>d.reject(f)}),m=new eP(wv(a.path),h,{includeMetadataChanges:!0,qa:!0});return JI(i,m)}(await dP(t),t.asyncQueue,e,n,r)),r.promise}function oU(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new cP({next:f=>{h.Nu(),o.enqueueAndForget(()=>ZI(i,m)),f.fromCache&&c.source==="server"?d.reject(new X(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(f)},error:f=>d.reject(f)}),m=new eP(a,h,{includeMetadataChanges:!0,qa:!0});return JI(i,m)}(await dP(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="firestore.googleapis.com",EE=!0;class bE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fP,this.ssl=EE}else this.host=e.host,this.ssl=e.ssl??EE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=UI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<V6)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hP(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hF;switch(r.type){case"firstParty":return new gF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_E.get(n);r&&(Z("ComponentProvider","Removing Datastore"),_E.delete(n),r.terminate())}(this),Promise.resolve()}}function aU(t,e,n,r={}){var d;t=lr(t,Tf);const s=Va(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(JS(`https://${a}`),ZS("Firestore",!0)),i.host!==fP&&i.host!==a&&wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!eo(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Kt.MOCK_USER;else{h=p4(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new X(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Kt(f)}t._authCredentials=new fF(new XC(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gc(n,mt._jsonSchema))return new mt(e,r||null,new ue(We.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:xt("string",mt._jsonSchemaVersion),referencePath:xt("string")};class ii extends Si{constructor(e,n,r){super(e,n,wv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ue(e))}withConverter(e){return new ii(this.firestore,e,this._path)}}function Xt(t,e,...n){if(t=_t(t),JC("collection","path",e),t instanceof Tf){const r=We.fromString(e,...n);return M_(r),new ii(t,null,r)}{if(!(t instanceof mt||t instanceof ii))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return M_(r),new ii(t.firestore,null,r)}}function Ie(t,e,...n){if(t=_t(t),arguments.length===1&&(e=mv.newId()),JC("doc","path",e),t instanceof Tf){const r=We.fromString(e,...n);return O_(r),new mt(t,null,new ue(r))}{if(!(t instanceof mt||t instanceof ii))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return O_(r),new mt(t.firestore,t instanceof ii?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="AsyncQueue";class SE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WI(this,"async_queue_retry"),this._c=()=>{const r=zm();r&&Z(TE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new es;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wa(e))throw e;Z(TE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,cs("INTERNAL UNHANDLED ERROR: ",CE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Dv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&he(47125,{Pc:CE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function CE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class mo extends Tf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new SE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SE(e),this._firestoreClient=void 0,await e}}}function lU(t,e){const n=typeof t=="object"?t:rC(),r=typeof t=="string"?t:dh,s=tv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=f4("firestore");i&&aU(s,...i)}return s}function Fv(t){if(t._terminated)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cU(t),t._firestoreClient}function cU(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,h){return new jF(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new nU(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Lt.fromBase64String(e))}catch(n){throw new X(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gc(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:xt("string",Un._jsonSchemaVersion),bytes:xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(Gc(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:xt("string",Ar._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Rr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gc(e,Rr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Rr(e.vectorValues);throw new X(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Rr._jsonSchemaVersion="firestore/vectorValue/1.0",Rr._jsonSchema={type:xt("string",Rr._jsonSchemaVersion),vectorValues:xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=/^__.*__$/;class dU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms):new Kc(e,this.data,n,this.fieldTransforms)}}class mP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ti(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{Ac:t})}}class Uv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Uv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(pP(this.Ac)&&uU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_f(e)}Cc(e,n,r,s=!1){return new Uv({Ac:e,methodName:n,Dc:r,path:Dt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function If(t){const e=t._freezeSettings(),n=_f(t._databaseId);return new hU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gP(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);zv("Data must be an object, but it was:",o,r);const a=yP(r,o);let c,d;if(i.merge)c=new Nn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const m of i.mergeFields){const f=kg(e,m,n);if(!o.contains(f))throw new X(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xP(h,f)||h.push(f)}c=new Nn(h),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new dU(new mn(a),c,d)}class Pf extends Cf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}class $v extends Cf{_toFieldTransform(e){return new s6(e.path,new Tc)}isEqual(e){return e instanceof $v}}function fU(t,e,n,r){const s=t.Cc(1,e,n);zv("Data must be an object, but it was:",s,r);const i=[],o=mn.empty();bi(r,(c,d)=>{const h=Bv(e,c,n);d=_t(d);const m=s.yc(h);if(d instanceof Pf)i.push(h);else{const f=Jc(d,m);f!=null&&(i.push(h),o.set(h,f))}});const a=new Nn(i);return new mP(o,a,s.fieldTransforms)}function mU(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[kg(e,r,n)],c=[s];if(i.length%2!=0)throw new X(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(kg(e,i[f])),c.push(i[f+1]);const d=[],h=mn.empty();for(let f=a.length-1;f>=0;--f)if(!xP(d,a[f])){const g=a[f];let b=c[f];b=_t(b);const w=o.yc(g);if(b instanceof Pf)d.push(g);else{const E=Jc(b,w);E!=null&&(d.push(g),h.set(g,E))}}const m=new Nn(d);return new mP(h,m,o.fieldTransforms)}function pU(t,e,n,r=!1){return Jc(n,t.Cc(r?4:3,e))}function Jc(t,e){if(vP(t=_t(t)))return zv("Unsupported field value:",e,t),yP(t,e);if(t instanceof Cf)return function(r,s){if(!pP(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Jc(a,s.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return t6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ye.fromDate(r);return{timestampValue:gh(s.serializer,i)}}if(r instanceof Ye){const i=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(s.serializer,i)}}if(r instanceof Ar)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:jI(s.serializer,r._byteString)};if(r instanceof mt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Rr)return function(o,a){return{mapValue:{fields:{[aI]:{stringValue:cI},[hh]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return _v(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${hf(r)}`)}(t,e)}function yP(t,e){const n={};return tI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bi(t,(r,s)=>{const i=Jc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function vP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Ar||t instanceof Un||t instanceof mt||t instanceof Cf||t instanceof Rr)}function zv(t,e,n){if(!vP(n)||!ZC(n)){const r=hf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function kg(t,e,n){if((e=_t(e))instanceof Sf)return e._internalPath;if(typeof e=="string")return Bv(t,e);throw wh("Field path arguments must be of type string or ",t,!1,void 0,n)}const gU=new RegExp("[~\\*/\\[\\]]");function Bv(t,e,n){if(e.search(gU)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sf(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new X(F.INVALID_ARGUMENT,a+t+c)}function xP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yU extends wP{data(){return super.data()}}function Wv(t,e){return typeof e=="string"?Bv(t,e):e instanceof Sf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hv{}class qv extends Hv{}function Nf(t,e,...n){let r=[];e instanceof Hv&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Kv).length,a=i.filter(c=>c instanceof Gv).length;if(o>1||o>0&&a>0)throw new X(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Gv extends qv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gv(e,n,r)}_apply(e){const n=this._parse(e);return _P(e._query,n),new Si(e.firestore,e.converter,Eg(e._query,n))}_parse(e){const n=If(e.firestore);return function(i,o,a,c,d,h,m){let f;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){PE(m,h);const b=[];for(const w of m)b.push(IE(c,i,w));f={arrayValue:{values:b}}}else f=IE(c,i,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||PE(m,h),f=pU(a,o,m,h==="in"||h==="not-in");return vt.create(d,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Kv extends Hv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Kv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)_P(o,c),o=Eg(o,c)}(e._query,n),new Si(e.firestore,e.converter,Eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qv extends qv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qv(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new X(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bc(i,o)}(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ha(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Yv(t,e="asc"){const n=e,r=Wv("orderBy",t);return Qv._create(r,n)}class Xv extends qv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Xv(e,n,r)}_apply(e){return new Si(e.firestore,e.converter,mh(e._query,this._limit,this._limitType))}}function xU(t){return Xv._create("limit",t,"F")}function IE(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new X(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yI(e)&&n.indexOf("/")!==-1)throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!ue.isDocumentKey(r))throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return W_(t,new ue(r))}if(n instanceof mt)return W_(t,n._key);throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function PE(t,e){if(!Array.isArray(t)||t.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _P(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wU{convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return bi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[hh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ht(o.doubleValue));return new Rr(n)}convertGeoPoint(e){return new Ar(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wc(e));default:return null}}convertTimestamp(e){const n=pi(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Oe(FI(r),9688,{name:e});const s=new _c(r.get(1),r.get(3)),i=new ue(r.popFirst(5));return s.isEqual(n)||cs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Nl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gi extends wP{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gi._jsonSchema={type:xt("string",Gi._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class wd extends Gi{data(e={}){return super.data(e)}}class Jo{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wd(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new wd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Nl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new wd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Nl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:_U(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _U(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){t=lr(t,mt);const e=lr(t.firestore,mo);return iU(Fv(e),t._key).then(n=>EU(e,t,n))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:xt("string",Jo._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class bP extends wU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function gs(t){t=lr(t,Si);const e=lr(t.firestore,mo),n=Fv(e),r=new bP(e);return vU(t._query),oU(n,t._query).then(s=>new Jo(e,r,t,s))}function Ca(t,e,n){t=lr(t,mt);const r=lr(t.firestore,mo),s=EP(t.converter,e,n);return Af(r,[gP(If(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Bn.none())])}function ur(t,e,n,...r){t=lr(t,mt);const s=lr(t.firestore,mo),i=If(s);let o;return o=typeof(e=_t(e))=="string"||e instanceof Sf?mU(i,"updateDoc",t._key,e,n,r):fU(i,"updateDoc",t._key,e),Af(s,[o.toMutation(t._key,Bn.exists(!0))])}function jg(t){return Af(lr(t.firestore,mo),[new Ev(t._key,Bn.none())])}function oi(t,e){const n=lr(t.firestore,mo),r=Ie(t),s=EP(t.converter,e);return Af(n,[gP(If(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function Af(t,e){return function(r,s){const i=new es;return r.asyncQueue.enqueueAndForget(async()=>G5(await sU(r),s,i)),i.promise}(Fv(t),e)}function EU(t,e,n){const r=n.docs.get(e._key),s=new bP(t);return new Gi(t,s,e._key,r,new Nl(n.hasPendingWrites,n.fromCache),e.converter)}function ai(){return new $v("serverTimestamp")}(function(e,n=!0){(function(s){za=s})(Fa),xa(new to("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new mo(new mF(r.getProvider("auth-internal")),new yF(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ri(R_,k_,e),ri(R_,k_,"esm2020")})();const bU={apiKey:"AIzaSyBNfZsiwZrECTIrjcvwImOz7x4Obnattrc",authDomain:"betterparent-fc6b0.firebaseapp.com",projectId:"betterparent-fc6b0",storageBucket:"betterparent-fc6b0.firebasestorage.app",messagingSenderId:"81699883249",appId:"1:81699883249:web:13dbe7b243432ed8074150",measurementId:"G-S500XLEE6N"},Jv=nC(bU);typeof window<"u"&&location.protocol==="https:"&&BC(async()=>{const{getAnalytics:t}=await import("./index.esm-Cg3DoN-E.js");return{getAnalytics:t}},[]).then(({getAnalytics:t})=>{t(Jv)});const qe=oF(Jv),fe=lU(Jv),TU=new Gr;KV(qe,jC).then(()=>{console.log("Firebase Auth persistence set to LOCAL")}).catch(t=>{console.error("Error setting Firebase Auth persistence:",t)});const SU=$T("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground shadow-soft hover:shadow-warm hover:scale-[1.02]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-gentle hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",warm:"bg-gradient-to-r from-primary to-primary/90 text-primary-foreground shadow-soft hover:shadow-warm hover:scale-[1.02]",gentle:"bg-secondary text-secondary-foreground shadow-gentle hover:bg-secondary/80",accent:"bg-gradient-to-r from-accent to-accent/90 text-accent-foreground shadow-warm hover:scale-[1.02]"},size:{default:"h-12 px-6 py-3",sm:"h-9 rounded-lg px-3",lg:"h-14 rounded-xl px-8 text-base",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),oe=y.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ga:"button";return l.jsx(o,{className:ze(SU({variant:e,size:n,className:t})),ref:i,...s})});oe.displayName="Button";const Ue=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ze("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ue.displayName="Card";const Dg=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ze("flex flex-col space-y-1.5 p-6",t),...e}));Dg.displayName="CardHeader";const Og=y.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:ze("text-2xl font-semibold leading-none tracking-tight",t),...e}));Og.displayName="CardTitle";const CU=y.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:ze("text-sm text-muted-foreground",t),...e}));CU.displayName="CardDescription";const Fi=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ze("p-6 pt-0",t),...e}));Fi.displayName="CardContent";const IU=y.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:ze("flex items-center p-6 pt-0",t),...e}));IU.displayName="CardFooter";const TP=({className:t="w-8 h-8"})=>l.jsx("div",{className:`relative ${t}`,children:l.jsxs("svg",{viewBox:"0 0 40 40",className:"w-full h-full",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("circle",{cx:"20",cy:"20",r:"18",className:"fill-primary"}),l.jsx("circle",{cx:"20",cy:"20",r:"10",className:"fill-white"})]})}),xn=({onStartChat:t})=>{const e=hr(),[n,r]=y.useState(null),[s,i]=y.useState(!1),o=()=>{e("/chat")},a=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Pricing",path:"/pricing"},{name:"Contact",path:"/contact"}];y.useEffect(()=>{const h=$a(qe,m=>{r(m)});return()=>h()},[]);const c=()=>{e("/login")},d=async()=>{if(window.confirm("Are you sure you want to log out?"))try{await uv(qe),e("/")}catch(m){console.error("Logout error:",m)}};return l.jsx("header",{className:"bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50 w-full border-b border-border",children:l.jsxs("div",{className:"container mx-auto flex h-16 items-center justify-between relative",children:[l.jsxs(yr,{to:"/",className:"flex items-center space-x-2",children:[l.jsx(TP,{className:"w-8 h-8"}),l.jsx("span",{className:"font-bold text-lg text-primary",children:"BetterParenting"})]}),l.jsx("nav",{className:"hidden md:flex items-center space-x-6 absolute left-1/2 transform -translate-x-1/2",children:a.map(h=>l.jsx(yr,{to:h.path,className:`text-sm font-medium transition-colors hover:text-primary ${location.pathname===h.path?"text-primary":"text-muted-foreground"}`,children:h.name},h.name))}),l.jsxs("div",{className:"hidden md:flex items-center space-x-4 ml-auto",children:[n&&l.jsx(oe,{onClick:()=>e("/my-children"),className:"btn-warm",children:"My Children"}),!n&&l.jsx(oe,{variant:"warm",size:"sm",onClick:o,children:"Try for Free"}),l.jsx(oe,{onClick:n?d:c,className:"btn-warm",children:n?"Logout":l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xs",children:"Already have an account?"})," Login"]})})]}),l.jsx("button",{className:"md:hidden",onClick:()=>i(!s),"aria-label":"Toggle menu",children:s?l.jsx(Fy,{className:"w-6 h-6"}):l.jsx(H2,{className:"w-6 h-6"})}),s&&l.jsx("div",{className:"absolute top-16 left-0 right-0 bg-background border-b border-border md:hidden",children:l.jsxs("div",{className:"container py-4 space-y-4",children:[a.map(h=>l.jsx(yr,{to:h.path,className:"block text-sm font-medium text-muted-foreground hover:text-primary",onClick:()=>i(!1),children:h.name},h.name)),n&&l.jsx(oe,{onClick:()=>{e("/my-children"),i(!1)},className:"btn-warm w-full mt-4",children:"My Children"}),!n&&l.jsx(oe,{variant:"warm",size:"sm",className:"w-full",onClick:o,children:"Try for Free"}),l.jsx(oe,{onClick:()=>{n?d():c(),i(!1)},className:"btn-warm w-full",children:n?"Logout":"Login"})]})})]})})},wn=()=>l.jsx("footer",{className:"bg-muted border-t border-border",children:l.jsxs("div",{className:"container py-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(TP,{className:"w-8 h-8"}),l.jsx("span",{className:"font-bold text-lg text-primary",children:"BetterParenting"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"AI-powered parenting guidance for modern families. Get personalized advice 24/7."}),l.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-muted-foreground",children:[l.jsx("span",{className:"flex items-center",children:" COPPA Compliant"}),l.jsx("span",{className:"flex items-center",children:" SSL Secured"}),l.jsx("span",{className:"flex items-center",children:" Expert-Backed"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-primary",children:"Quick Links"}),l.jsxs("ul",{className:"space-y-2 text-sm",children:[l.jsx("li",{children:l.jsx(yr,{to:"/",className:"text-muted-foreground hover:text-primary transition-colors",children:"Home"})}),l.jsx("li",{children:l.jsx(yr,{to:"/about",className:"text-muted-foreground hover:text-primary transition-colors",children:"About"})}),l.jsx("li",{children:l.jsx(yr,{to:"/pricing",className:"text-muted-foreground hover:text-primary transition-colors",children:"Pricing"})}),l.jsx("li",{children:l.jsx(yr,{to:"/contact",className:"text-muted-foreground hover:text-primary transition-colors",children:"Contact"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-primary",children:"Support"}),l.jsxs("ul",{className:"space-y-2 text-sm",children:[l.jsx("li",{children:l.jsx(yr,{to:"/privacy",className:"text-muted-foreground hover:text-primary transition-colors",children:"Privacy Policy"})}),l.jsx("li",{children:l.jsx(yr,{to:"/terms",className:"text-muted-foreground hover:text-primary transition-colors",children:"Terms of Service"})}),l.jsx("li",{children:l.jsx(yr,{to:"/faq",className:"text-muted-foreground hover:text-primary transition-colors",children:"FAQ"})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h4",{className:"font-semibold text-primary",children:"Contact"}),l.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ly,{className:"w-4 h-4"}),l.jsx("span",{children:"support@betterparenting.com"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(G2,{className:"w-4 h-4"}),l.jsx("span",{children:"Available 24/7 via chat"})]})]})]})]}),l.jsx("div",{className:"border-t border-border mt-8 pt-6 text-center text-sm text-muted-foreground",children:l.jsx("p",{children:" 2024 BetterParenting. All rights reserved. Designed with love for families everywhere."})})]})}),PU=()=>l.jsx("div",{className:"py-8 border-t border-border/50",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsx("p",{className:"text-center text-sm text-muted-foreground mb-6",children:"Trusted by thousands of parents worldwide"}),l.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-6 md:gap-8",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx(Vy,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-medium",children:"COPPA Compliant"})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx(W2,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-medium",children:"256-bit SSL Encryption"})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx(Yp,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-medium",children:"Expert-Backed"})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-muted-foreground",children:[l.jsx(Gd,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm font-medium",children:"10,000+ Active Families"})]})]})]})}),NU=[{name:"Sarah M.",role:"Mom of two",content:"Finally, parenting advice that actually works in the moment. This app has been a game-changer for our family.",rating:5},{name:"David L.",role:"Single father",content:"Having 24/7 access to parenting guidance on WhatsApp has reduced my stress so much. It's like having a wise friend always available.",rating:5},{name:"Maria R.",role:"Mother of teenager",content:"The personalized advice really understands our family dynamics. It's helped us navigate some tough teenage years.",rating:5},{name:"James K.",role:"New parent",content:"As a first-time dad, I was constantly worried. This AI coach gives me confidence and practical steps I can actually follow.",rating:5}],AU=()=>l.jsx("div",{className:"py-16 bg-muted/30",children:l.jsxs("div",{className:"container mx-auto px-4",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-semibold text-foreground mb-4",children:"Trusted by Parents Everywhere"}),l.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Join thousands of families who have found confidence and peace of mind with personalized parenting guidance."})]}),l.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:NU.map((t,e)=>l.jsxs(Ue,{className:"p-6 border-0 bg-card/80 backdrop-blur-sm shadow-gentle",children:[l.jsx("div",{className:"flex items-center mb-3",children:[...Array(t.rating)].map((n,r)=>l.jsx(WT,{className:"w-4 h-4 text-yellow-500 fill-current"},r))}),l.jsxs("p",{className:"text-sm text-muted-foreground mb-4 italic",children:['"',t.content,'"']}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground text-sm",children:t.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:t.role})]})]},e))})]})}),Be=y.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Be.displayName="Input";const RU=({title:t="Get Parenting Tips & Updates",description:e="Join our community of parents and get weekly tips, articles, and early access to new features.",placeholder:n="Enter your email address",buttonText:r="Subscribe",variant:s="default"})=>{const[i,o]=y.useState(""),[a,c]=y.useState(!1),{toast:d}=Wh(),h=async m=>{if(m.preventDefault(),!i||!i.includes("@")){d({title:"Invalid email",description:"Please enter a valid email address.",variant:"destructive"});return}c(!0),await new Promise(f=>setTimeout(f,1e3)),d({title:"Successfully subscribed!",description:"You'll receive our welcome email shortly."}),o(""),c(!1)};return s==="inline"?l.jsxs("form",{onSubmit:h,className:"flex gap-2 max-w-md mx-auto",children:[l.jsx(Be,{type:"email",placeholder:n,value:i,onChange:m=>o(m.target.value),className:"flex-1",disabled:a}),l.jsx(oe,{type:"submit",disabled:a,size:"sm",children:a?"...":r})]}):l.jsxs("div",{className:"bg-card/50 backdrop-blur-sm border rounded-lg p-6 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ly,{className:"w-6 h-6 text-primary"})}),l.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:t}),l.jsx("p",{className:"text-muted-foreground mb-6 text-sm",children:e}),l.jsxs("form",{onSubmit:h,className:"space-y-3",children:[l.jsx(Be,{type:"email",placeholder:n,value:i,onChange:m=>o(m.target.value),disabled:a}),l.jsx(oe,{type:"submit",disabled:a,className:"w-full",children:a?"Subscribing...":r})]}),l.jsx("p",{className:"text-xs text-muted-foreground mt-3",children:"No spam. Unsubscribe anytime."})]})},kU="/assets/hero-parenting-CvldMLZW.jpg",jU=({onStartChat:t,onGoToPricing:e})=>{const n=hr(),r=()=>{n("/chat")};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[l.jsx(xn,{onStartChat:t}),l.jsxs("div",{className:"container mx-auto px-4 pt-8 pb-16",children:[l.jsxs("div",{className:"text-center mb-12 fade-in-gentle",children:[l.jsxs("h1",{className:"heading-warm text-4xl md:text-5xl font-semibold mb-6 text-foreground",children:["Your Personal Parenting Coach",l.jsx("span",{className:"block text-primary",children:"Available on WhatsApp"})]}),l.jsxs("p",{className:"text-gentle text-lg md:text-xl max-w-2xl mx-auto mb-8 leading-relaxed",children:["24/7 AI chatbot trained for your child's personality and your parenting values. Like having a wise coach in your pocket  one who knows your child.",l.jsx("span",{className:"block mt-2 font-medium text-primary",children:"Available anytime on WhatsApp."})]}),l.jsxs("div",{className:"mb-12",children:[l.jsx("h2",{className:"text-2xl font-semibold text-foreground text-center mb-8",children:"How It Works"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-3xl mx-auto",children:[l.jsxs("div",{className:"text-center p-4",children:[l.jsx("div",{className:"w-12 h-12 bg-accent/20 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-lg font-semibold text-accent",children:"1"})}),l.jsx("h3",{className:"font-medium text-foreground mb-2",children:"Sign up & tell us about your child"}),l.jsx("p",{className:"text-gentle text-sm",children:"Quick intake quiz to personalize your AI coach"})]}),l.jsxs("div",{className:"text-center p-4",children:[l.jsx("div",{className:"w-12 h-12 bg-accent/20 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-lg font-semibold text-accent",children:"2"})}),l.jsx("h3",{className:"font-medium text-foreground mb-2",children:"Get your private WhatsApp number"}),l.jsx("p",{className:"text-gentle text-sm",children:"Your own dedicated parenting coach line"})]}),l.jsxs("div",{className:"text-center p-4",children:[l.jsx("div",{className:"w-12 h-12 bg-accent/20 rounded-full flex items-center justify-center mx-auto mb-3",children:l.jsx("span",{className:"text-lg font-semibold text-accent",children:"3"})}),l.jsx("h3",{className:"font-medium text-foreground mb-2",children:"Chat anytime you need help"}),l.jsx("p",{className:"text-gentle text-sm",children:"Real-time advice that fits your family"})]})]})]}),l.jsxs("div",{className:"relative max-w-2xl mx-auto mb-12 scale-in-warm",children:[l.jsx("img",{src:kU,alt:"Parent and child together",className:"rounded-2xl shadow-warm w-full h-64 md:h-80 object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/20 to-transparent rounded-2xl"})]}),l.jsxs("div",{className:"space-y-4 md:space-y-0 md:space-x-4 md:flex md:justify-center",children:[l.jsxs(oe,{variant:"warm",size:"lg",onClick:r,className:"w-full md:w-auto",children:[l.jsx(Xh,{className:"w-5 h-5"}),"Try for Free"]}),l.jsx(oe,{variant:"gentle",size:"lg",className:"w-full md:w-auto",onClick:e,children:"Get Personalized Advice"})]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Free trial: 5 conversations or 1 per day (whichever comes first)"})]}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[l.jsxs(Ue,{className:"p-6 shadow-gentle border-0 bg-card/50 backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"p-3 rounded-xl bg-primary-soft mr-4",children:l.jsx(Yh,{className:"w-6 h-6 text-primary"})}),l.jsx("h3",{className:"font-semibold text-foreground",children:"Personalized for You"})]}),l.jsx("p",{className:"text-gentle",children:"Personalized WhatsApp coach trained on your child's specific needs and your parenting style."})]}),l.jsxs(Ue,{className:"p-6 shadow-gentle border-0 bg-card/50 backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"p-3 rounded-xl bg-accent-soft mr-4",children:l.jsx(Vy,{className:"w-6 h-6 text-accent"})}),l.jsx("h3",{className:"font-semibold text-foreground",children:"Safe & Private"})]}),l.jsx("p",{className:"text-gentle",children:"Your private WhatsApp number ensures secure, confidential conversations with your coach."})]}),l.jsxs(Ue,{className:"p-6 shadow-gentle border-0 bg-card/50 backdrop-blur-sm",children:[l.jsxs("div",{className:"flex items-center mb-4",children:[l.jsx("div",{className:"p-3 rounded-xl bg-primary-soft mr-4",children:l.jsx(Gd,{className:"w-6 h-6 text-primary"})}),l.jsx("h3",{className:"font-semibold text-foreground",children:"Expert-Backed"})]}),l.jsx("p",{className:"text-gentle",children:"Guidance rooted in child psychology and positive parenting approaches."})]})]}),l.jsx("div",{className:"mt-16 max-w-md mx-auto",children:l.jsx(RU,{title:"Stay Updated",description:"Get weekly parenting tips and early access to new features.",variant:"default"})})]}),l.jsx(AU,{}),l.jsx(PU,{}),l.jsx(wn,{})]})},SP=()=>{const t=hr(),[e,n]=y.useState([]),[r,s]=y.useState(!0),[i,o]=y.useState(null),[a,c]=y.useState(null),[d,h]=y.useState(null);y.useEffect(()=>{const f=$a(qe,g=>{c(g)});return()=>f()},[]),y.useEffect(()=>{(async()=>{if(!a)return;const g=await et(Ie(fe,"users",a.uid));g.exists()&&h(g.data().planId||"free")})()},[a]),y.useEffect(()=>{(async()=>{try{const b=(await gs(Xt(fe,"plans"))).docs.map(w=>({id:w.id,...w.data()}));n(b.filter(w=>w.id!=="free"))}catch(g){console.error(" Failed to load pricing plans:",g),o("Failed to load pricing plans.")}finally{s(!1)}})()},[]);const m=f=>{if(!a){t(`/register?next=checkout&plan=${f}`);return}if(!a.emailVerified){t("/verify-email");return}if(d&&d!==f){const g=e.findIndex(w=>w.id===d);if(e.findIndex(w=>w.id===f)<g&&!window.confirm("You're downgrading your plan. Some child profiles or features may be frozen. Do you want to continue?"))return}d===f&&!window.confirm("Do you want to re-subscribe to this plan?")||t(`/checkout?plan=${f}`)};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[l.jsx(xn,{}),l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"text-center mb-12 fade-in-gentle",children:[l.jsxs("h1",{className:"heading-warm text-3xl md:text-4xl font-semibold mb-6 text-foreground",children:["Get Your Personal Parenting Coach",l.jsx("span",{className:"block text-primary mt-2",children:"24/7 AI Support on WhatsApp"})]}),l.jsx("p",{className:"text-gentle text-lg max-w-2xl mx-auto mb-8 leading-relaxed",children:"Your AI coach is trained specifically for your child's personality and your parenting values. Available anytime you need guidance, right in WhatsApp."}),l.jsx("div",{className:"bg-accent-soft/30 rounded-lg p-4 max-w-lg mx-auto mb-8",children:l.jsxs("p",{className:"text-sm text-foreground font-medium",children:[l.jsx("span",{className:"text-accent",children:"One-time setup fee:"})," $24 to train your AI coach on your children and values"]})}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-3xl mx-auto mb-12",children:[l.jsx(Wm,{icon:l.jsx(ja,{}),title:"24/7 Available",description:"Chat anytime, day or night"}),l.jsx(Wm,{icon:l.jsx(z2,{}),title:"AI Trained for You",description:"Personalized for your child & values"}),l.jsx(Wm,{icon:l.jsx(Xh,{}),title:"Private WhatsApp",description:"Your own dedicated coach number"})]})]}),r?l.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"Loading pricing plans..."}):i?l.jsx("div",{className:"text-center text-sm text-destructive",children:i}):l.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:e.map(f=>l.jsxs(Ue,{className:`p-6 shadow-gentle border-2 ${f.id==="family"?"border-primary/20 bg-card/50 backdrop-blur-sm relative":f.id==="ultimate"?"border-accent/20 bg-card/50 backdrop-blur-sm relative":"border-muted bg-card/50 backdrop-blur-sm"} flex flex-col h-full`,children:[f.id==="family"&&l.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:l.jsx("span",{className:"bg-primary text-primary-foreground px-4 py-1 rounded-full text-sm font-medium",children:"Most Popular"})}),f.id==="ultimate"&&l.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:l.jsx("span",{className:"bg-accent text-accent-foreground px-4 py-1 rounded-full text-sm font-medium",children:"Premium"})}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:f.name}),l.jsxs("div",{className:"flex items-center justify-center mb-2",children:[l.jsxs("span",{className:"text-3xl font-bold text-primary",children:["$",f.price]}),l.jsx("span",{className:"text-gentle ml-2",children:"/month"})]}),l.jsxs("div",{className:"text-xs text-accent mb-2",children:["+ $",f.setupFee," setup fee"]}),l.jsx("p",{className:"text-gentle text-sm",children:f.description})]}),l.jsxs("ul",{className:"space-y-2 mb-6 flex-grow",children:[f.id==="basic"&&l.jsxs(l.Fragment,{children:[l.jsx(It,{label:`${f.maxConversations} conversations per month`}),l.jsx(It,{label:`${f.maxChildren} child profile`}),l.jsx(It,{label:"AI trained on your values"}),l.jsx(It,{label:"Private chat in an app"}),l.jsx(It,{label:"24/7 availability"})]}),f.id==="family"&&l.jsxs(l.Fragment,{children:[l.jsx(It,{label:"150 conversations per month"}),l.jsx(It,{label:"Up to 3 children profiles"}),l.jsx(It,{label:"Shared family chat in an app"}),l.jsx(It,{label:"Advanced AI personalization"}),l.jsx(It,{label:"Priority AI responses"}),l.jsx(It,{label:"24/7 availability"})]}),f.id==="ultimate"&&l.jsxs(l.Fragment,{children:[l.jsx(It,{label:"Unlimited conversations"}),l.jsx(It,{label:"Up to 5 children profiles"}),l.jsx(It,{label:"Shared family chat in an app"}),l.jsx(It,{label:"Premium AI personalization"}),l.jsx(It,{label:"Instant AI responses"}),l.jsx(It,{label:"Monthly family insights report",checkClassName:"text-accent font-medium"}),l.jsx(It,{label:"Personalized monthly workbook",checkClassName:"text-accent font-medium"})]})]}),l.jsx(oe,{variant:f.id==="family"?"warm":f.id==="ultimate"?"accent":"gentle",size:"lg",className:"w-full mt-auto",onClick:()=>m(f.id),children:d===f.id?`Renew ${f.name}`:`Start ${f.name}`})]},f.id))}),l.jsxs("div",{className:"text-center mt-16 max-w-2xl mx-auto",children:[l.jsx("p",{className:"text-gentle text-sm italic mb-4",children:'"Having a parenting coach available 24/7 has been life-changing. The AI really understands my daughter and gives advice that actually works."'}),l.jsx("p",{className:"text-muted-foreground text-xs",children:" Emily R., Mom of 6-year-old"}),l.jsx("div",{className:"mt-8 p-4 bg-primary-soft/30 rounded-lg",children:l.jsxs("p",{className:"text-sm text-gentle",children:[l.jsx("strong",{children:"How it works: "}),"After subscribing, you'll complete a quick intake about your child and parenting style. Then you'll start chatting with your personalized AI coach in the app."]})})]})]}),l.jsx(wn,{})]})},Wm=({icon:t,title:e,description:n})=>l.jsxs("div",{className:"flex flex-col items-center p-4",children:[l.jsx("div",{className:"p-3 rounded-xl bg-primary-soft mb-3",children:t}),l.jsx("h3",{className:"font-medium text-foreground mb-2",children:e}),l.jsx("p",{className:"text-gentle text-sm text-center",children:n})]}),It=({label:t,checkClassName:e})=>l.jsxs("li",{className:"flex items-center",children:[l.jsx(En,{className:`w-4 h-4 mr-2 flex-shrink-0 ${e??"text-primary"}`}),l.jsx("span",{className:"text-gentle text-sm",children:t})]});function DU(t,e=[]){let n=[];function r(i,o){const a=y.createContext(o),c=n.length;n=[...n,o];function d(m){const{scope:f,children:g,...b}=m,w=(f==null?void 0:f[t][c])||a,E=y.useMemo(()=>b,Object.values(b));return l.jsx(w.Provider,{value:E,children:g})}function h(m,f){const g=(f==null?void 0:f[t][c])||a,b=y.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,h]}const s=()=>{const i=n.map(o=>y.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return y.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,OU(s,...e)]}function OU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...a,...m}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Zv="Progress",ex=100,[MU,v8]=DU(Zv),[LU,VU]=MU(Zv),CP=y.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=FU,...o}=t;(s||s===0)&&!NE(s)&&console.error(UU(`${s}`,"Progress"));const a=NE(s)?s:ex;r!==null&&!AE(r,a)&&console.error($U(`${r}`,"Progress"));const c=AE(r,a)?r:null,d=_h(c)?i(c,a):void 0;return l.jsx(LU,{scope:n,value:c,max:a,children:l.jsx(je.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":_h(c)?c:void 0,"aria-valuetext":d,role:"progressbar","data-state":NP(c,a),"data-value":c??void 0,"data-max":a,...o,ref:e})})});CP.displayName=Zv;var IP="ProgressIndicator",PP=y.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=VU(IP,n);return l.jsx(je.div,{"data-state":NP(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});PP.displayName=IP;function FU(t,e){return`${Math.round(t/e*100)}%`}function NP(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function _h(t){return typeof t=="number"}function NE(t){return _h(t)&&!isNaN(t)&&t>0}function AE(t,e){return _h(t)&&!isNaN(t)&&t<=e&&t>=0}function UU(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ex}\`.`}function $U(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ex} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var AP=CP,zU=PP;const Eh=y.forwardRef(({className:t,value:e,...n},r)=>l.jsx(AP,{ref:r,className:ze("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:l.jsx(zU,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Eh.displayName=AP.displayName;const Ga=y.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ga.displayName="Textarea";const BU=({onBack:t,onUpgrade:e,remainingMessages:n,totalFreeMessages:r,onSendMessage:s,childName:i="your child",childAge:o=0,personalityProfile:a="No personality profile available yet."})=>{const[c,d]=y.useState([{id:"1",content:"Hi! I'm a general parenting assistant. I can provide basic advice, but for personalized guidance specifically tailored to your child's needs and your family values, consider upgrading to get your dedicated WhatsApp coach!",type:"assistant",timestamp:new Date}]),[h,m]=y.useState(""),[f,g]=y.useState(!1),b="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";y.useState(!1),y.useEffect(()=>{const v=localStorage.getItem("freeTrialChat");if(v)try{const T=JSON.parse(v);d(T.map(A=>({...A,timestamp:new Date(A.timestamp)})))}catch(T){console.error("Error loading saved chat:",T)}},[]),y.useEffect(()=>{c.length>1&&localStorage.setItem("freeTrialChat",JSON.stringify(c))},[c]);const E=(r-n)/r*100,_=async()=>{if(!h.trim()||n<=0)return;const v={id:Date.now().toString(),content:h,type:"user",timestamp:new Date};d(A=>[...A,v]);const T=h;m(""),g(!0);try{let A,j="";const O=[...c,v];if(O.length>10){const P=O.slice(1,-4),k=[];let D="";for(const Q of P){const le=`${Q.type==="user"?"Parent":"Coach"}: ${Q.content}`;(D+le).length>1500?(D&&k.push(D),D=le+`
`):D+=le+`
`}D&&k.push(D);const z=(await Promise.all(k.map(async Q=>{try{const le=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"user",content:`Summarize this conversation between a parent and parenting coach about their child. Extract the key behavioral patterns, what's been tried, family context, and main concerns. Keep it conversational and natural: ${Q}`}],temperature:.3})});return le.ok?(await le.json()).choices[0].message.content.trim():"Previous conversation about parenting topics."}catch{return"Previous conversation about parenting topics."}}))).join(" "),H=O.slice(-4).filter(Q=>Q.type==="user"||!Q.content.includes(" This is general advice")).map(Q=>`${Q.type==="user"?"Parent":"Coach"}: ${Q.content.replace(/ This is general advice.*$/,"").trim()}`).join(`
`);j=`Previous conversation summary: ${z}

Recent conversation:
${H}`}else j=O.slice(1).filter(P=>P.type==="user"||!P.content.includes(" This is general advice")).map(P=>`${P.type==="user"?"Parent":"Coach"}: ${P.content.replace(/ This is general advice.*$/,"").trim()}`).join(`
`);const I=`You're a warm, experienced parent chatting with another parent about their child ${i} (${o} years old). 

Here's what you know about ${i}: ${a}

Previous conversation:
${j}

You're a supportive parent friend who gives practical, actionable advice. When someone shares a specific situation or concern, give them helpful suggestions right away based on what you know about their child and situation.

Only ask follow-up questions if their message is vague or generic (like just saying "help" or "he's being difficult" without any details). If they give you enough context about a specific situation, jump right into helpful advice.

For specific concerns, offer 2-3 practical suggestions that fit their child's personality and age. When giving suggestions, write them naturally in paragraph form without formatting.

Write like you're texting a close friend - warm, conversational, and helpful. NEVER use asterisks, bullet points, numbered lists, bold text, italics, or any special formatting. Write everything in plain conversational sentences. Instead of using formatting to emphasize ideas, use natural language like "One thing you could try is..." or "Another approach might be..." or "I'd also suggest..."

Be supportive but get to the point. Parents need solutions, not just questions.

IMPORTANT: This is a new message from the parent. Respond to their latest concern directly. Do not continue any previous response.`,C=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:I},{role:"user",content:T}],max_tokens:4e3,temperature:.7})});if(C.ok)A=(await C.json()).choices[0].message.content+`

 This is general advice. For personalized guidance tailored to your specific situation, consider upgrading to our premium WhatsApp coach!`;else throw new Error("OpenAI API call failed");const S={id:(Date.now()+1).toString(),content:A,type:"assistant",timestamp:new Date};d(P=>[...P,S]),s()}catch(A){console.error("Error getting response:",A);const j={id:(Date.now()+1).toString(),content:"API KEY ERROR: OpenAI API key not found in environment variables or API call failed. Please check that OPENAI_API_KEY is properly set in Secrets.",type:"assistant",timestamp:new Date};d(O=>[...O,j]),s()}g(!1)};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle flex flex-col",children:[l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border/50 p-4",children:l.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:t,children:l.jsx(Qh,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"font-semibold text-foreground",children:"Free Trial Preview"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Generic coach (limited responses)"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-medium text-foreground",children:[n," messages left"]}),l.jsx("div",{className:"w-24 mt-1",children:l.jsx(Eh,{value:E,className:"h-2"})})]}),n<=2&&l.jsxs(oe,{variant:"accent",size:"sm",onClick:e,children:[l.jsx(cd,{className:"w-4 h-4"}),"Upgrade"]})]})]})}),l.jsxs("div",{className:"flex-1 container mx-auto p-4 space-y-6 overflow-y-auto",children:[c.map(v=>l.jsx("div",{className:`flex ${v.type==="user"?"justify-end":"justify-start"} fade-in-gentle`,children:l.jsxs("div",{className:v.type==="user"?"message-user":"message-assistant",children:[l.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-wrap",children:v.content}),l.jsxs("div",{className:"flex items-center mt-2 text-xs text-muted-foreground",children:[l.jsx(ja,{className:"w-3 h-3 mr-1"}),v.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})},v.id)),f&&l.jsx("div",{className:"flex justify-start fade-in-gentle",children:l.jsx("div",{className:"message-assistant",children:l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-t border-border/50 p-4",children:l.jsx("div",{className:"container mx-auto",children:n>0?l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ga,{value:h,onChange:v=>m(v.target.value),placeholder:"Describe your parenting situation or question...",className:"flex-1 border-border/50 focus:border-primary transition-gentle resize-none",onKeyPress:v=>v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),_()),disabled:f,rows:2}),l.jsx(oe,{variant:"warm",onClick:_,disabled:!h.trim()||f,className:"self-end",children:l.jsx(Jh,{className:"w-4 h-4"})})]}),n<=2&&l.jsx("div",{className:"text-center",children:l.jsxs(oe,{variant:"accent",size:"sm",onClick:e,children:[l.jsx(cd,{className:"w-4 h-4 mr-2"}),"Upgrade for Unlimited Access"]})})]}):l.jsxs(Ue,{className:"p-6 text-center bg-accent-soft/50 border-accent/20",children:[l.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Free trial complete"}),l.jsx("p",{className:"text-gentle mb-4",children:"Ready for personalized advice? Get your private WhatsApp number and a coach who knows your child."}),l.jsxs(oe,{variant:"accent",onClick:e,children:[l.jsx(cd,{className:"w-4 h-4 mr-2"}),"Get Your WhatsApp Coach"]})]})})})]})};var Hm="focusScope.autoFocusOnMount",qm="focusScope.autoFocusOnUnmount",RE={bubbles:!1,cancelable:!0},WU="FocusScope",RP=y.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=y.useState(null),d=Tt(s),h=Tt(i),m=y.useRef(null),f=it(e,w=>c(w)),g=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let w=function(T){if(g.paused||!a)return;const A=T.target;a.contains(A)?m.current=A:Ns(m.current,{select:!0})},E=function(T){if(g.paused||!a)return;const A=T.relatedTarget;A!==null&&(a.contains(A)||Ns(m.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const j of T)j.removedNodes.length>0&&Ns(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",E);const v=new MutationObserver(_);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",E),v.disconnect()}}},[r,a,g.paused]),y.useEffect(()=>{if(a){jE.add(g);const w=document.activeElement;if(!a.contains(w)){const _=new CustomEvent(Hm,RE);a.addEventListener(Hm,d),a.dispatchEvent(_),_.defaultPrevented||(HU(YU(kP(a)),{select:!0}),document.activeElement===w&&Ns(a))}return()=>{a.removeEventListener(Hm,d),setTimeout(()=>{const _=new CustomEvent(qm,RE);a.addEventListener(qm,h),a.dispatchEvent(_),_.defaultPrevented||Ns(w??document.body,{select:!0}),a.removeEventListener(qm,h),jE.remove(g)},0)}}},[a,d,h,g]);const b=y.useCallback(w=>{if(!n&&!r||g.paused)return;const E=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(E&&_){const v=w.currentTarget,[T,A]=qU(v);T&&A?!w.shiftKey&&_===A?(w.preventDefault(),n&&Ns(T,{select:!0})):w.shiftKey&&_===T&&(w.preventDefault(),n&&Ns(A,{select:!0})):_===v&&w.preventDefault()}},[n,r,g.paused]);return l.jsx(je.div,{tabIndex:-1,...o,ref:f,onKeyDown:b})});RP.displayName=WU;function HU(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ns(r,{select:e}),document.activeElement!==n)return}function qU(t){const e=kP(t),n=kE(e,t),r=kE(e.reverse(),t);return[n,r]}function kP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kE(t,e){for(const n of t)if(!GU(n,{upTo:e}))return n}function GU(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function KU(t){return t instanceof HTMLInputElement&&"select"in t}function Ns(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&KU(t)&&e&&t.select()}}var jE=QU();function QU(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=DE(t,e),t.unshift(e)},remove(e){var n;t=DE(t,e),(n=t[0])==null||n.resume()}}}function DE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function YU(t){return t.filter(e=>e.tagName!=="A")}var Gm=0;function XU(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??OE()),document.body.insertAdjacentElement("beforeend",t[1]??OE()),Gm++,()=>{Gm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gm--}},[])}function OE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var br=function(){return br=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},br.apply(this,arguments)};function jP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function JU(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var _d="right-scroll-bar-position",Ed="width-before-scroll-bar",ZU="with-scroll-bars-hidden",e9="--removed-body-scroll-bar-size";function Km(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function t9(t,e){var n=y.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var n9=typeof window<"u"?y.useLayoutEffect:y.useEffect,ME=new WeakMap;function r9(t,e){var n=t9(null,function(r){return t.forEach(function(s){return Km(s,r)})});return n9(function(){var r=ME.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Km(a,null)}),i.forEach(function(a){s.has(a)||Km(a,o)})}ME.set(n,t)},[t]),n}function s9(t){return t}function i9(t,e){e===void 0&&(e=s9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function o9(t){t===void 0&&(t={});var e=i9(null);return e.options=br({async:!0,ssr:!1},t),e}var DP=function(t){var e=t.sideCar,n=jP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,br({},n))};DP.isSideCarExport=!0;function a9(t,e){return t.useMedium(e),DP}var OP=o9(),Qm=function(){},Rf=y.forwardRef(function(t,e){var n=y.useRef(null),r=y.useState({onScrollCapture:Qm,onWheelCapture:Qm,onTouchMoveCapture:Qm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,m=t.shards,f=t.sideCar,g=t.noIsolation,b=t.inert,w=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,v=t.gapMode,T=jP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=f,j=r9([n,e]),O=br(br({},T),s);return y.createElement(y.Fragment,null,h&&y.createElement(A,{sideCar:OP,removeScrollBar:d,shards:m,noIsolation:g,inert:b,setCallbacks:i,allowPinchZoom:!!w,lockRef:n,gapMode:v}),o?y.cloneElement(y.Children.only(a),br(br({},O),{ref:j})):y.createElement(_,br({},O,{className:c,ref:j}),a))});Rf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rf.classNames={fullWidth:Ed,zeroRight:_d};var l9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=l9();return e&&t.setAttribute("nonce",e),t}function u9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function d9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var h9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=c9())&&(u9(e,n),d9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},f9=function(){var t=h9();return function(e,n){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},MP=function(){var t=f9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},m9={left:0,top:0,right:0,gap:0},Ym=function(t){return parseInt(t||"",10)||0},p9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Ym(n),Ym(r),Ym(s)]},g9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return m9;var e=p9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},y9=MP(),Zo="data-scroll-locked",v9=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ZU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Zo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_d,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ed,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(_d," .").concat(_d,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zo,`] {
    `).concat(e9,": ").concat(a,`px;
  }
`)},LE=function(){var t=parseInt(document.body.getAttribute(Zo)||"0",10);return isFinite(t)?t:0},x9=function(){y.useEffect(function(){return document.body.setAttribute(Zo,(LE()+1).toString()),function(){var t=LE()-1;t<=0?document.body.removeAttribute(Zo):document.body.setAttribute(Zo,t.toString())}},[])},w9=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;x9();var i=y.useMemo(function(){return g9(s)},[s]);return y.createElement(y9,{styles:v9(i,!e,s,n?"":"!important")})},Mg=!1;if(typeof window<"u")try{var Hu=Object.defineProperty({},"passive",{get:function(){return Mg=!0,!0}});window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{Mg=!1}var wo=Mg?{passive:!1}:!1,_9=function(t){return t.tagName==="TEXTAREA"},LP=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_9(t)&&n[e]==="visible")},E9=function(t){return LP(t,"overflowY")},b9=function(t){return LP(t,"overflowX")},VE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=VP(t,r);if(s){var i=FP(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},T9=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},S9=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},VP=function(t,e){return t==="v"?E9(e):b9(e)},FP=function(t,e){return t==="v"?T9(e):S9(e)},C9=function(t,e){return t==="h"&&e==="rtl"?-1:1},I9=function(t,e,n,r,s){var i=C9(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,m=0,f=0;do{var g=FP(t,a),b=g[0],w=g[1],E=g[2],_=w-E-i*b;(b||_)&&VP(t,a)&&(m+=_,f+=b),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(m)<1||!s)||!h&&(Math.abs(f)<1||!s))&&(d=!0),d},qu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},FE=function(t){return[t.deltaX,t.deltaY]},UE=function(t){return t&&"current"in t?t.current:t},P9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},N9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},A9=0,_o=[];function R9(t){var e=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),s=y.useState(A9++)[0],i=y.useState(MP)[0],o=y.useRef(t);y.useEffect(function(){o.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=JU([t.lockRef.current],(t.shards||[]).map(UE),!0).filter(Boolean);return w.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=y.useCallback(function(w,E){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var _=qu(w),v=n.current,T="deltaX"in w?w.deltaX:v[0]-_[0],A="deltaY"in w?w.deltaY:v[1]-_[1],j,O=w.target,I=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in w&&I==="h"&&O.type==="range")return!1;var C=VE(I,O);if(!C)return!0;if(C?j=I:(j=I==="v"?"h":"v",C=VE(I,O)),!C)return!1;if(!r.current&&"changedTouches"in w&&(T||A)&&(r.current=j),!j)return!0;var S=r.current||j;return I9(S,E,w,S==="h"?T:A,!0)},[]),c=y.useCallback(function(w){var E=w;if(!(!_o.length||_o[_o.length-1]!==i)){var _="deltaY"in E?FE(E):qu(E),v=e.current.filter(function(j){return j.name===E.type&&(j.target===E.target||E.target===j.shadowParent)&&P9(j.delta,_)})[0];if(v&&v.should){E.cancelable&&E.preventDefault();return}if(!v){var T=(o.current.shards||[]).map(UE).filter(Boolean).filter(function(j){return j.contains(E.target)}),A=T.length>0?a(E,T[0]):!o.current.noIsolation;A&&E.cancelable&&E.preventDefault()}}},[]),d=y.useCallback(function(w,E,_,v){var T={name:w,delta:E,target:_,should:v,shadowParent:k9(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),h=y.useCallback(function(w){n.current=qu(w),r.current=void 0},[]),m=y.useCallback(function(w){d(w.type,FE(w),w.target,a(w,t.lockRef.current))},[]),f=y.useCallback(function(w){d(w.type,qu(w),w.target,a(w,t.lockRef.current))},[]);y.useEffect(function(){return _o.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,wo),document.addEventListener("touchmove",c,wo),document.addEventListener("touchstart",h,wo),function(){_o=_o.filter(function(w){return w!==i}),document.removeEventListener("wheel",c,wo),document.removeEventListener("touchmove",c,wo),document.removeEventListener("touchstart",h,wo)}},[]);var g=t.removeScrollBar,b=t.inert;return y.createElement(y.Fragment,null,b?y.createElement(i,{styles:N9(s)}):null,g?y.createElement(w9,{gapMode:t.gapMode}):null)}function k9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const j9=a9(OP,R9);var UP=y.forwardRef(function(t,e){return y.createElement(Rf,br({},t,{ref:e,sideCar:j9}))});UP.classNames=Rf.classNames;var D9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Eo=new WeakMap,Gu=new WeakMap,Ku={},Xm=0,$P=function(t){return t&&(t.host||$P(t.parentNode))},O9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$P(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},M9=function(t,e,n,r){var s=O9(e,Array.isArray(t)?t:[t]);Ku[n]||(Ku[n]=new WeakMap);var i=Ku[n],o=[],a=new Set,c=new Set(s),d=function(m){!m||a.has(m)||(a.add(m),d(m.parentNode))};s.forEach(d);var h=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(a.has(f))h(f);else try{var g=f.getAttribute(r),b=g!==null&&g!=="false",w=(Eo.get(f)||0)+1,E=(i.get(f)||0)+1;Eo.set(f,w),i.set(f,E),o.push(f),w===1&&b&&Gu.set(f,!0),E===1&&f.setAttribute(n,"true"),b||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return h(e),a.clear(),Xm++,function(){o.forEach(function(m){var f=Eo.get(m)-1,g=i.get(m)-1;Eo.set(m,f),i.set(m,g),f||(Gu.has(m)||m.removeAttribute(r),Gu.delete(m)),g||m.removeAttribute(n)}),Xm--,Xm||(Eo=new WeakMap,Eo=new WeakMap,Gu=new WeakMap,Ku={})}},L9=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=D9(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),M9(r,s,n,"aria-hidden")):function(){return null}},tx="Dialog",[zP,x8]=ka(tx),[V9,fr]=zP(tx),BP=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=y.useRef(null),c=y.useRef(null),[d=!1,h]=Vc({prop:r,defaultProp:s,onChange:i});return l.jsx(V9,{scope:e,triggerRef:a,contentRef:c,contentId:Ul(),titleId:Ul(),descriptionId:Ul(),open:d,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),modal:o,children:n})};BP.displayName=tx;var WP="DialogTrigger",HP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(WP,n),i=it(e,s.triggerRef);return l.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":sx(s.open),...r,ref:i,onClick:Ae(t.onClick,s.onOpenToggle)})});HP.displayName=WP;var nx="DialogPortal",[F9,qP]=zP(nx,{forceMount:void 0}),GP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=fr(nx,e);return l.jsx(F9,{scope:e,forceMount:n,children:y.Children.map(r,o=>l.jsx(dr,{present:n||i.open,children:l.jsx(jy,{asChild:!0,container:s,children:o})}))})};GP.displayName=nx;var bh="DialogOverlay",KP=y.forwardRef((t,e)=>{const n=qP(bh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=fr(bh,t.__scopeDialog);return i.modal?l.jsx(dr,{present:r||i.open,children:l.jsx(U9,{...s,ref:e})}):null});KP.displayName=bh;var U9=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(bh,n);return l.jsx(UP,{as:ga,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(je.div,{"data-state":sx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),oo="DialogContent",QP=y.forwardRef((t,e)=>{const n=qP(oo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=fr(oo,t.__scopeDialog);return l.jsx(dr,{present:r||i.open,children:i.modal?l.jsx($9,{...s,ref:e}):l.jsx(z9,{...s,ref:e})})});QP.displayName=oo;var $9=y.forwardRef((t,e)=>{const n=fr(oo,t.__scopeDialog),r=y.useRef(null),s=it(e,n.contentRef,r);return y.useEffect(()=>{const i=r.current;if(i)return L9(i)},[]),l.jsx(YP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ae(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ae(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:Ae(t.onFocusOutside,i=>i.preventDefault())})}),z9=y.forwardRef((t,e)=>{const n=fr(oo,t.__scopeDialog),r=y.useRef(!1),s=y.useRef(!1);return l.jsx(YP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),YP=y.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=fr(oo,n),c=y.useRef(null),d=it(e,c);return XU(),l.jsxs(l.Fragment,{children:[l.jsx(RP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Hh,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":sx(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(B9,{titleId:a.titleId}),l.jsx(H9,{contentRef:c,descriptionId:a.descriptionId})]})]})}),rx="DialogTitle",XP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(rx,n);return l.jsx(je.h2,{id:s.titleId,...r,ref:e})});XP.displayName=rx;var JP="DialogDescription",ZP=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(JP,n);return l.jsx(je.p,{id:s.descriptionId,...r,ref:e})});ZP.displayName=JP;var eN="DialogClose",tN=y.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=fr(eN,n);return l.jsx(je.button,{type:"button",...r,ref:e,onClick:Ae(t.onClick,()=>s.onOpenChange(!1))})});tN.displayName=eN;function sx(t){return t?"open":"closed"}var nN="DialogTitleWarning",[w8,rN]=t2(nN,{contentName:oo,titleName:rx,docsSlug:"dialog"}),B9=({titleId:t})=>{const e=rN(nN),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},W9="DialogDescriptionWarning",H9=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rN(W9).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},q9=BP,G9=HP,K9=GP,sN=KP,iN=QP,oN=XP,aN=ZP,Q9=tN;const Th=q9,Y9=G9,X9=K9,lN=y.forwardRef(({className:t,...e},n)=>l.jsx(sN,{ref:n,className:ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));lN.displayName=sN.displayName;const Ic=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(X9,{children:[l.jsx(lN,{}),l.jsxs(iN,{ref:r,className:ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(Q9,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Fy,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ic.displayName=iN.displayName;const Pc=({className:t,...e})=>l.jsx("div",{className:ze("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Pc.displayName="DialogHeader";const Nc=y.forwardRef(({className:t,...e},n)=>l.jsx(oN,{ref:n,className:ze("text-lg font-semibold leading-none tracking-tight",t),...e}));Nc.displayName=oN.displayName;const J9=y.forwardRef(({className:t,...e},n)=>l.jsx(aN,{ref:n,className:ze("text-sm text-muted-foreground",t),...e}));J9.displayName=aN.displayName;const Z9=({open:t,onClose:e,onSubscribe:n})=>l.jsx(Th,{open:t,onOpenChange:e,children:l.jsxs(Ic,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Pc,{className:"text-center pb-6",children:[l.jsx(Nc,{className:"heading-warm text-2xl md:text-3xl text-foreground",children:"Get Your Personal WhatsApp Coach"}),l.jsx("p",{className:"text-gentle mt-2",children:"Upgrade to get personalized advice through your private WhatsApp number, trained on your child's profile"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Ue,{className:"p-6 bg-primary-soft/30 border-primary/20",children:[l.jsxs("h3",{className:"font-semibold text-foreground mb-4 flex items-center",children:[l.jsx(cd,{className:"w-5 h-5 mr-2 text-primary"}),"What you unlock with a subscription:"]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(En,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground",children:"Private WhatsApp Number"}),l.jsx("p",{className:"text-sm text-gentle",children:"Your dedicated coach line, just for you"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(En,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground",children:"Personalized Child Profile"}),l.jsx("p",{className:"text-sm text-gentle",children:"Tailored advice based on your child's unique needs"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(En,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground",children:"24/7 WhatsApp Access"}),l.jsx("p",{className:"text-sm text-gentle",children:"Get help whenever you need it most"})]})]}),l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(En,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-foreground",children:"Adaptive Learning"}),l.jsx("p",{className:"text-sm text-gentle",children:"Your coach learns your family's preferences"})]})]})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs(Ue,{className:"p-6 border-border hover:border-primary/30 transition-all duration-300 relative",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Basic Plan"}),l.jsxs("div",{className:"flex items-baseline justify-center",children:[l.jsx("span",{className:"text-3xl font-bold text-foreground",children:"$5"}),l.jsx("span",{className:"text-muted-foreground ml-1",children:"/month"})]}),l.jsx("p",{className:"text-sm text-gentle mt-2",children:"Perfect for getting started"})]}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(En,{className:"w-4 h-4 text-primary mr-3"}),l.jsx("span",{children:"Private WhatsApp number"})]}),l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(En,{className:"w-4 h-4 text-primary mr-3"}),l.jsx("span",{children:"50 conversations per month"})]}),l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(En,{className:"w-4 h-4 text-primary mr-3"}),l.jsx("span",{children:"1 personalized child profile"})]}),l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(En,{className:"w-4 h-4 text-primary mr-3"}),l.jsx("span",{children:"Tailored parenting advice"})]})]}),l.jsx(oe,{variant:"gentle",className:"w-full",onClick:()=>n("basic"),children:"Get WhatsApp Coach"})]}),l.jsxs(Ue,{className:"p-6 border-accent relative transform hover:scale-[1.02] transition-all duration-300",children:[l.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:l.jsx("div",{className:"bg-accent text-accent-foreground px-3 py-1 rounded-full text-xs font-medium",children:"Most Popular"})}),l.jsxs("div",{className:"text-center mb-6",children:[l.jsxs("h3",{className:"font-semibold text-foreground mb-2 flex items-center justify-center",children:[l.jsx(Yh,{className:"w-4 h-4 mr-2 text-accent"}),"Family Plan"]}),l.jsxs("div",{className:"flex items-baseline justify-center",children:[l.jsx("span",{className:"text-3xl font-bold text-foreground",children:"$12"}),l.jsx("span",{className:"text-muted-foreground ml-1",children:"/month"})]}),l.jsx("p",{className:"text-sm text-gentle mt-2",children:"For busy families"})]}),l.jsxs("div",{className:"space-y-3 mb-6",children:[l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(En,{className:"w-4 h-4 text-accent mr-3"}),l.jsx("span",{children:"Private WhatsApp number"})]}),l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(En,{className:"w-4 h-4 text-accent mr-3"}),l.jsx("span",{children:"Unlimited conversations"})]}),l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(En,{className:"w-4 h-4 text-accent mr-3"}),l.jsx("span",{children:"Up to 3 child profiles"})]}),l.jsxs("div",{className:"flex items-center text-sm",children:[l.jsx(En,{className:"w-4 h-4 text-accent mr-3"}),l.jsx("span",{children:"Priority WhatsApp support"})]})]}),l.jsx(oe,{variant:"accent",className:"w-full",onClick:()=>n("family"),children:"Get Premium WhatsApp Coach"})]})]}),l.jsxs("div",{className:"text-center py-4",children:[l.jsx("p",{className:"text-sm text-gentle mb-2",children:" Secure payment  Cancel anytime  7-day free trial"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Trusted by thousands of parents worldwide"})]})]})]})}),e$=()=>{const[t,e]=y.useState("welcome"),[n,r]=y.useState(5),[s,i]=y.useState(!1),[o,a]=y.useState(null),{toast:c}=Wh(),d=Mr();y.useEffect(()=>{const E=$a(qe,_=>{a(!!_)});return()=>E()},[]),y.useEffect(()=>{const E=d.state;(E==null?void 0:E.action)==="start-chat"?e("chat"):(E==null?void 0:E.action)==="subscribe"&&E.tier&&b(E.tier)},[d.state]);const h=()=>{e("chat")},m=()=>{e("pricing")},f=()=>{e("welcome")},g=()=>{i(!0)},b=E=>{c({title:"Subscription started!",description:`Welcome to the ${E} plan. You now have unlimited access.`}),i(!1),r(999)},w=()=>{n>0&&r(E=>E-1)};return o===null?l.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),l.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):t==="welcome"?l.jsx(jU,{onStartChat:h,onGoToPricing:m}):t==="pricing"?l.jsx(SP,{onBack:f,onSubscribe:b}):t==="chat"?l.jsxs(l.Fragment,{children:[l.jsx(BU,{onBack:f,onUpgrade:g,remainingMessages:n,totalFreeMessages:5,onSendMessage:w}),l.jsx(Z9,{open:s,onClose:()=>i(!1),onSubscribe:b})]}):null},t$=()=>l.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[l.jsx(xn,{}),l.jsxs("main",{className:"container mx-auto px-4 py-12 space-y-16",children:[l.jsxs("section",{className:"text-center space-y-6",children:[l.jsx("h1",{className:"heading-warm text-4xl md:text-5xl font-bold",children:"Meet Our Expert Team"}),l.jsx("p",{className:"text-gentle text-lg max-w-3xl mx-auto",children:"Our AI parenting coach is trained by leading child development experts who bring decades of real-world experience to help guide your family journey."})]}),l.jsxs("section",{className:"space-y-12",children:[l.jsx("h2",{className:"heading-warm text-3xl font-bold text-center",children:"The Experts Behind Our AI"}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[l.jsx(Ue,{className:"bg-white/80 backdrop-blur shadow-warm border-0",children:l.jsxs(Fi,{className:"p-8 text-center space-y-6",children:[l.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-warm rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-3xl font-bold",children:"CM"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-2xl font-bold text-primary",children:"Dr. Carol Moreck-Oberg, Ed.D."}),l.jsx("p",{className:"text-accent font-medium",children:"Educational Psychologist & Parenting Advisor"})]}),l.jsxs("div",{className:"flex justify-center space-x-4 text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(T0,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"Ed.D. Education"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Yp,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"40+ Years Experience"})]})]}),l.jsx("p",{className:"text-gentle text-sm leading-relaxed text-left",children:"Dr. Carol Moreck-Oberg is a highly respected educator and parenting advisor with over 40 years of experience helping families navigate childhood development, learning challenges, and emotional growth. As the daughter of Holocaust survivors, Dr. Moreck-Oberg brings an extraordinary depth of empathy, wisdom, and resilience to her work."}),l.jsx("p",{className:"text-gentle text-sm leading-relaxed text-left",children:"Holding a Doctorate in Education, she has guided countless parents, teachers, and children through real-world challenges with clarity and compassion. Her approach blends evidence-based developmental theory with practical, emotionally intelligent strategies for the modern family."}),l.jsx("p",{className:"text-gentle text-sm leading-relaxed text-left font-medium text-primary",children:"As a senior advisor to BetterParent AI, Dr. Moreck-Oberg helps ensure that every response is grounded in real human understanding, not just clinical theory  supporting parents in the moments that matter most."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-primary",children:"Expertise Areas:"}),l.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[l.jsx("span",{className:"px-3 py-1 bg-accent/10 text-accent text-xs rounded-full",children:"Educational Psychology"}),l.jsx("span",{className:"px-3 py-1 bg-accent/10 text-accent text-xs rounded-full",children:"Learning Challenges"}),l.jsx("span",{className:"px-3 py-1 bg-accent/10 text-accent text-xs rounded-full",children:"Emotional Growth"}),l.jsx("span",{className:"px-3 py-1 bg-accent/10 text-accent text-xs rounded-full",children:"Family Systems"})]})]})]})}),l.jsx(Ue,{className:"bg-white/80 backdrop-blur shadow-warm border-0",children:l.jsxs(Fi,{className:"p-8 text-center space-y-6",children:[l.jsx("div",{className:"w-32 h-32 mx-auto bg-gradient-accent rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-white text-3xl font-bold",children:"SD"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"text-2xl font-bold text-primary",children:"Dr. Sofia Doyle, Ed.D."}),l.jsx("p",{className:"text-accent font-medium",children:"Child Development Specialist & Educational Consultant"})]}),l.jsxs("div",{className:"flex justify-center space-x-4 text-muted-foreground",children:[l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(T0,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"Ed.D. Education"})]}),l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx(Gd,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm",children:"15+ Years Experience"})]})]}),l.jsx("p",{className:"text-gentle text-sm leading-relaxed text-left",children:"Dr. Sofia Doyle is a dedicated child development expert with a Doctorate in Education and a background in early childhood learning and behavior. With over 15 years of experience in schools, research, and family systems, she specializes in helping parents respond effectively to their children's developmental and emotional needs."}),l.jsx("p",{className:"text-gentle text-sm leading-relaxed text-left",children:"Her work focuses on bridging the gap between academic theory and real-world parenting  offering grounded, empathetic tools that work in daily life. Whether guiding teachers through classroom challenges or supporting parents through bedtime battles, Dr. Doyle brings a calm, research-informed voice to every situation."}),l.jsx("p",{className:"text-gentle text-sm leading-relaxed text-left font-medium text-primary",children:"At BetterParent AI, Dr. Doyle plays a key role in shaping our child development framework, ensuring each recommendation reflects both the latest educational science and the lived reality of family life."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-semibold text-primary",children:"Expertise Areas:"}),l.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[l.jsx("span",{className:"px-3 py-1 bg-accent/10 text-accent text-xs rounded-full",children:"Child Development"}),l.jsx("span",{className:"px-3 py-1 bg-accent/10 text-accent text-xs rounded-full",children:"Early Childhood Learning"}),l.jsx("span",{className:"px-3 py-1 bg-accent/10 text-accent text-xs rounded-full",children:"Educational Consulting"}),l.jsx("span",{className:"px-3 py-1 bg-accent/10 text-accent text-xs rounded-full",children:"Family Systems"})]})]})]})})]})]}),l.jsx("section",{className:"bg-white/60 backdrop-blur rounded-2xl p-8 md:p-12 shadow-soft",children:l.jsxs("div",{className:"text-center space-y-8",children:[l.jsx("h2",{className:"heading-warm text-3xl font-bold",children:"Our Training Methodology"}),l.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-warm rounded-full flex items-center justify-center",children:l.jsx($2,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-primary",children:"Evidence-Based"}),l.jsx("p",{className:"text-gentle text-sm",children:"Our AI is trained on the latest research in child development, positive psychology, and family therapy techniques."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-accent rounded-full flex items-center justify-center",children:l.jsx(Gd,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-primary",children:"Real-World Tested"}),l.jsx("p",{className:"text-gentle text-sm",children:"Every response is based on real scenarios from our experts' combined 40+ years of working with families."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-warm rounded-full flex items-center justify-center",children:l.jsx(Yp,{className:"w-8 h-8 text-white"})}),l.jsx("h3",{className:"text-xl font-semibold text-primary",children:"Continuously Updated"}),l.jsx("p",{className:"text-gentle text-sm",children:"Our team regularly reviews and updates the AI training to incorporate the latest developments in parenting research."})]})]})]})}),l.jsxs("section",{className:"text-center space-y-6",children:[l.jsx("h2",{className:"heading-warm text-3xl font-bold",children:"Our Mission"}),l.jsx("p",{className:"text-gentle text-lg max-w-3xl mx-auto leading-relaxed",children:"We believe every parent deserves access to expert guidance when they need it most. By combining cutting-edge AI technology with decades of child development expertise, we're making professional parenting support accessible, affordable, and available 24/7."}),l.jsx("p",{className:"text-accent font-medium",children:'"Supporting families, one conversation at a time."'})]})]}),l.jsx(wn,{})]}),n$=()=>{const[t,e]=y.useState({name:"",email:"",subject:"",message:""}),{toast:n}=Wh(),r=i=>{i.preventDefault(),n({title:"Message sent!",description:"We'll get back to you within 24 hours."}),e({name:"",email:"",subject:"",message:""})},s=i=>{e(o=>({...o,[i.target.name]:i.target.value}))};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[l.jsx(xn,{}),l.jsxs("main",{className:"container mx-auto px-4 py-12 space-y-16",children:[l.jsxs("section",{className:"text-center space-y-6",children:[l.jsx("h1",{className:"heading-warm text-4xl md:text-5xl font-bold",children:"Get in Touch"}),l.jsx("p",{className:"text-gentle text-lg max-w-3xl mx-auto",children:"Have questions about our parenting coach? Need help with your account? We're here to support your family journey."})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[l.jsxs(Ue,{className:"bg-white/80 backdrop-blur shadow-warm border-0",children:[l.jsx(Dg,{children:l.jsx(Og,{className:"text-2xl text-primary",children:"Send us a message"})}),l.jsx(Fi,{children:l.jsxs("form",{onSubmit:r,className:"space-y-6",children:[l.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-primary",children:"Name *"}),l.jsx(Be,{id:"name",name:"name",value:t.name,onChange:s,required:!0,className:"bg-white/50"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-primary",children:"Email *"}),l.jsx(Be,{id:"email",name:"email",type:"email",value:t.email,onChange:s,required:!0,className:"bg-white/50"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"subject",className:"text-sm font-medium text-primary",children:"Subject *"}),l.jsx(Be,{id:"subject",name:"subject",value:t.subject,onChange:s,required:!0,className:"bg-white/50"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"message",className:"text-sm font-medium text-primary",children:"Message *"}),l.jsx(Ga,{id:"message",name:"message",value:t.message,onChange:s,required:!0,rows:6,className:"bg-white/50"})]}),l.jsx(oe,{type:"submit",className:"btn-warm w-full",children:"Send Message"})]})})]}),l.jsxs("div",{className:"space-y-8",children:[l.jsx(Ue,{className:"bg-white/80 backdrop-blur shadow-warm border-0",children:l.jsxs(Fi,{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-warm rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Ly,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"font-semibold text-primary",children:"Email Support"}),l.jsx("p",{className:"text-gentle text-sm",children:"support@betterparenting.com"}),l.jsx("p",{className:"text-muted-foreground text-xs",children:"We respond within 24 hours"})]})]}),l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-accent rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Xh,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"font-semibold text-primary",children:"Live Chat"}),l.jsx("p",{className:"text-gentle text-sm",children:"Available 24/7 for subscribers"}),l.jsx("p",{className:"text-muted-foreground text-xs",children:"Instant support when you need it"})]})]}),l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-warm rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(ja,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"font-semibold text-primary",children:"Response Times"}),l.jsx("p",{className:"text-gentle text-sm",children:"Email: Within 24 hours"}),l.jsx("p",{className:"text-muted-foreground text-xs",children:"Priority support for Ultimate subscribers"})]})]})]})}),l.jsx(Ue,{className:"bg-white/80 backdrop-blur shadow-warm border-0",children:l.jsx(Fi,{className:"p-6",children:l.jsxs("div",{className:"flex items-start space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-accent rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(Vy,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-semibold text-primary",children:"Privacy & Security"}),l.jsx("p",{className:"text-gentle text-sm leading-relaxed",children:"Your family's privacy is our top priority. All communications are encrypted and we never share personal information. Our platform is COPPA compliant for families with children under 13."})]})]})})}),l.jsxs(Ue,{className:"bg-white/80 backdrop-blur shadow-warm border-0",children:[l.jsx(Dg,{children:l.jsx(Og,{className:"text-lg text-primary",children:"Quick Answers"})}),l.jsxs(Fi,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-primary text-sm",children:"How does the AI work?"}),l.jsx("p",{className:"text-gentle text-xs",children:"Our AI is trained by child development experts and provides personalized guidance based on your family's unique situation."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-primary text-sm",children:"Is my data safe?"}),l.jsx("p",{className:"text-gentle text-xs",children:"Yes, all conversations are encrypted and we follow strict privacy protocols. We're COPPA compliant."})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"font-medium text-primary text-sm",children:"Can I cancel anytime?"}),l.jsx("p",{className:"text-gentle text-xs",children:"Absolutely. You can cancel your subscription at any time with no penalties."})]})]})]})]})]})]}),l.jsx(wn,{})]})},r$=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(xn,{}),l.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[l.jsx("h1",{className:"text-4xl font-bold text-foreground mb-8",children:"Terms of Service"}),l.jsxs("div",{className:"prose prose-lg max-w-none text-foreground",children:[l.jsxs("p",{className:"text-muted-foreground mb-6",children:[l.jsx("strong",{children:"Effective Date:"})," January 1, 2024"]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Service Description"}),l.jsx("p",{className:"mb-4",children:"BetterParenting provides AI-powered parenting advice and support through our web application. Our service offers personalized guidance on child development, behavior management, educational support, and general parenting questions."}),l.jsxs("p",{className:"mb-4",children:[l.jsx("strong",{children:"Important:"})," Our AI service is designed to provide general parenting guidance and support. It is not a substitute for professional medical, psychological, or therapeutic advice. Always consult with qualified healthcare providers for medical concerns."]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. User Responsibilities"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"Provide accurate information when using our service"}),l.jsx("li",{children:"Use the service only for lawful purposes"}),l.jsx("li",{children:"Respect the privacy and safety of children"}),l.jsx("li",{children:"Not share personal account access with others"}),l.jsx("li",{children:"Report any technical issues or concerns promptly"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Prohibited Uses"}),l.jsx("p",{className:"mb-4",children:"You may not use our service to:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"Seek emergency medical or psychological intervention"}),l.jsx("li",{children:"Share harmful, abusive, or inappropriate content about children"}),l.jsx("li",{children:"Attempt to reverse engineer or misuse our AI technology"}),l.jsx("li",{children:"Violate any local, state, or federal laws"}),l.jsx("li",{children:"Impersonate others or provide false information"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Children's Privacy (COPPA Compliance)"}),l.jsx("p",{className:"mb-4",children:"BetterParenting is committed to protecting children's privacy in accordance with the Children's Online Privacy Protection Act (COPPA):"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"We do not knowingly collect personal information from children under 13"}),l.jsx("li",{children:"Our service is intended for use by parents and guardians, not children directly"}),l.jsx("li",{children:"If we discover we have collected information from a child under 13, we will delete it immediately"}),l.jsx("li",{children:"Parents have the right to review, delete, or refuse further collection of their child's information"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Payment Terms"}),l.jsx("p",{className:"mb-4",children:"BetterParenting offers both free and premium subscription services:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"Free accounts include limited monthly conversations"}),l.jsx("li",{children:"Premium subscriptions provide unlimited access and advanced features"}),l.jsx("li",{children:"Subscription fees are billed monthly or annually as selected"}),l.jsx("li",{children:"All payments are processed securely through our payment partners"}),l.jsx("li",{children:"Refunds are available within 30 days of initial subscription purchase"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Cancellation Policy"}),l.jsx("p",{className:"mb-4",children:"You may cancel your subscription at any time:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"Cancellations take effect at the end of the current billing period"}),l.jsx("li",{children:"You retain access to premium features until the subscription expires"}),l.jsx("li",{children:"No partial refunds for mid-cycle cancellations"}),l.jsx("li",{children:"Account data is retained for 30 days after cancellation"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Limitation of Liability"}),l.jsx("p",{className:"mb-4",children:"BetterParenting provides information and guidance but cannot guarantee specific outcomes. We are not liable for decisions made based on our AI advice. Users assume full responsibility for parenting decisions and child welfare."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Modifications to Terms"}),l.jsx("p",{className:"mb-4",children:"We may update these terms periodically. Users will be notified of significant changes via email or through the application. Continued use constitutes acceptance of updated terms."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. Contact Information"}),l.jsx("p",{className:"mb-4",children:"For questions about these Terms of Service, contact us at:"}),l.jsxs("p",{className:"mb-4",children:["Email: legal@betterparenting.com",l.jsx("br",{}),"Phone: Available Monday-Friday, 9 AM - 5 PM PST"]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Governing Law"}),l.jsx("p",{className:"mb-4",children:"These terms are governed by the laws of the State of California, United States. Any disputes will be resolved through binding arbitration in accordance with the rules of the American Arbitration Association."})]})]})]}),l.jsx(wn,{})]}),s$=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(xn,{}),l.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[l.jsx("h1",{className:"text-4xl font-bold text-foreground mb-8",children:"Privacy Policy"}),l.jsxs("div",{className:"prose prose-lg max-w-none text-foreground",children:[l.jsxs("p",{className:"text-muted-foreground mb-6",children:[l.jsx("strong",{children:"Effective Date:"})," January 1, 2024"]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"1. Information We Collect"}),l.jsx("p",{className:"mb-4",children:"BetterParenting collects information to provide personalized parenting advice and improve our service:"}),l.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Information You Provide:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"Account information (email, name, payment details)"}),l.jsx("li",{children:"Parenting questions and conversations with our AI"}),l.jsx("li",{children:"Child age ranges and general family information"}),l.jsx("li",{children:"Feedback and support communications"})]}),l.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Automatically Collected Information:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"Usage patterns and feature interactions"}),l.jsx("li",{children:"Device and browser information"}),l.jsx("li",{children:"IP address and general location data"}),l.jsx("li",{children:"Session duration and frequency of use"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"2. How We Use Your Information"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"Provide personalized AI parenting advice and support"}),l.jsx("li",{children:"Improve our AI models and service quality"}),l.jsx("li",{children:"Process payments and manage subscriptions"}),l.jsx("li",{children:"Send important service updates and communications"}),l.jsx("li",{children:"Ensure platform security and prevent abuse"}),l.jsx("li",{children:"Analyze usage patterns to enhance user experience"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"3. Children's Privacy (COPPA Compliance)"}),l.jsx("p",{className:"mb-4",children:l.jsx("strong",{children:"Protecting Children Under 13:"})}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"We do not knowingly collect personal information from children under 13"}),l.jsx("li",{children:"Our service is designed for parent and guardian use only"}),l.jsx("li",{children:"We do not request specific identifying information about children"}),l.jsx("li",{children:"Parents may request deletion of any information about their children"}),l.jsx("li",{children:"We do not share children's information with third parties"})]}),l.jsxs("p",{className:"mb-4",children:[l.jsx("strong",{children:"Parental Rights:"})," Parents have the right to review, delete, or refuse further collection of information relating to their children. Contact us at privacy@betterparenting.com to exercise these rights."]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"4. Information Sharing"}),l.jsx("p",{className:"mb-4",children:"We do not sell or rent your personal information. We may share information only in these limited circumstances:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Service Providers:"})," Trusted partners who help operate our service (payment processing, cloud hosting)"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Legal Requirements:"})," When required by law or to protect safety"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Business Transfers:"})," In the event of a merger or acquisition"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Consent:"})," When you explicitly authorize sharing"]})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"5. Data Security"}),l.jsx("p",{className:"mb-4",children:"We implement robust security measures to protect your information:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"End-to-end encryption for sensitive communications"}),l.jsx("li",{children:"Regular security audits and vulnerability assessments"}),l.jsx("li",{children:"Secure cloud infrastructure with access controls"}),l.jsx("li",{children:"Employee training on data protection best practices"}),l.jsx("li",{children:"Incident response procedures for security breaches"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"6. Cookies and Tracking"}),l.jsx("p",{className:"mb-4",children:"We use cookies and similar technologies to:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"Remember your preferences and login status"}),l.jsx("li",{children:"Analyze website usage and performance"}),l.jsx("li",{children:"Provide personalized content and recommendations"}),l.jsx("li",{children:"Ensure platform security and prevent fraud"})]}),l.jsx("p",{className:"mb-4",children:"You can control cookie settings through your browser preferences."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"7. Your Rights and Choices"}),l.jsx("p",{className:"mb-4",children:"You have the following rights regarding your personal information:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsxs("li",{children:[l.jsx("strong",{children:"Access:"})," Request a copy of your personal data"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Correction:"})," Update or correct inaccurate information"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Deletion:"})," Request deletion of your account and data"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Portability:"})," Export your data in a machine-readable format"]}),l.jsxs("li",{children:[l.jsx("strong",{children:"Opt-out:"})," Unsubscribe from marketing communications"]})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"8. Data Retention"}),l.jsx("p",{className:"mb-4",children:"We retain your information only as long as necessary:"}),l.jsxs("ul",{className:"list-disc pl-6 mb-4",children:[l.jsx("li",{children:"Account data: Until account deletion or 3 years of inactivity"}),l.jsx("li",{children:"Conversation history: 2 years for service improvement"}),l.jsx("li",{children:"Payment information: As required by financial regulations"}),l.jsx("li",{children:"Usage analytics: Aggregated and anonymized for research"})]})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"9. International Users"}),l.jsx("p",{className:"mb-4",children:"BetterParenting operates from the United States. If you're accessing our service from outside the US, your information may be transferred to and processed in the United States, which may have different privacy laws than your country."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"10. Changes to This Policy"}),l.jsx("p",{className:"mb-4",children:"We may update this Privacy Policy periodically. Significant changes will be communicated via email or through our application. Your continued use of BetterParenting constitutes acceptance of the updated policy."})]}),l.jsxs("section",{className:"mb-8",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"11. Contact Us"}),l.jsx("p",{className:"mb-4",children:"For privacy-related questions or to exercise your rights, contact us at:"}),l.jsxs("p",{className:"mb-4",children:[l.jsx("strong",{children:"Privacy Team"}),l.jsx("br",{}),"Email: privacy@betterparenting.com",l.jsx("br",{}),"Phone: Available Monday-Friday, 9 AM - 5 PM PST"]}),l.jsxs("p",{className:"mb-4",children:[l.jsx("strong",{children:"Mailing Address:"}),l.jsx("br",{}),"BetterParenting Privacy Team",l.jsx("br",{}),"[Company Address]",l.jsx("br",{}),"[City, State, ZIP Code]"]})]})]})]}),l.jsx(wn,{})]});var ix="Collapsible",[i$,cN]=ka(ix),[o$,ox]=i$(ix),uN=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[c=!1,d]=Vc({prop:r,defaultProp:s,onChange:o});return l.jsx(o$,{scope:n,disabled:i,contentId:Ul(),open:c,onOpenToggle:y.useCallback(()=>d(h=>!h),[d]),children:l.jsx(je.div,{"data-state":lx(c),"data-disabled":i?"":void 0,...a,ref:e})})});uN.displayName=ix;var dN="CollapsibleTrigger",hN=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=ox(dN,n);return l.jsx(je.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":lx(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:Ae(t.onClick,s.onOpenToggle)})});hN.displayName=dN;var ax="CollapsibleContent",fN=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=ox(ax,t.__scopeCollapsible);return l.jsx(dr,{present:n||s.open,children:({present:i})=>l.jsx(a$,{...r,ref:e,present:i})})});fN.displayName=ax;var a$=y.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=ox(ax,n),[a,c]=y.useState(r),d=y.useRef(null),h=it(e,d),m=y.useRef(0),f=m.current,g=y.useRef(0),b=g.current,w=o.open||a,E=y.useRef(w),_=y.useRef();return y.useEffect(()=>{const v=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(v)},[]),kr(()=>{const v=d.current;if(v){_.current=_.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const T=v.getBoundingClientRect();m.current=T.height,g.current=T.width,E.current||(v.style.transitionDuration=_.current.transitionDuration,v.style.animationName=_.current.animationName),c(r)}},[o.open,r]),l.jsx(je.div,{"data-state":lx(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!w,...i,ref:h,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...t.style},children:w&&s})});function lx(t){return t?"open":"closed"}var l$=uN,c$=hN,u$=fN,d$=y.createContext(void 0);function mN(t){const e=y.useContext(d$);return t||e||"ltr"}var ys="Accordion",h$=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[cx,f$,m$]=pT(ys),[kf,_8]=ka(ys,[m$,cN]),ux=cN(),pN=q.forwardRef((t,e)=>{const{type:n,...r}=t,s=r,i=r;return l.jsx(cx.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?l.jsx(v$,{...i,ref:e}):l.jsx(y$,{...s,ref:e})})});pN.displayName=ys;var[gN,p$]=kf(ys),[yN,g$]=kf(ys,{collapsible:!1}),y$=q.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},collapsible:i=!1,...o}=t,[a,c]=Vc({prop:n,defaultProp:r,onChange:s});return l.jsx(gN,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:c,onItemClose:q.useCallback(()=>i&&c(""),[i,c]),children:l.jsx(yN,{scope:t.__scopeAccordion,collapsible:i,children:l.jsx(vN,{...o,ref:e})})})}),v$=q.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:s=()=>{},...i}=t,[o=[],a]=Vc({prop:n,defaultProp:r,onChange:s}),c=q.useCallback(h=>a((m=[])=>[...m,h]),[a]),d=q.useCallback(h=>a((m=[])=>m.filter(f=>f!==h)),[a]);return l.jsx(gN,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:d,children:l.jsx(yN,{scope:t.__scopeAccordion,collapsible:!0,children:l.jsx(vN,{...i,ref:e})})})}),[x$,jf]=kf(ys),vN=q.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:s,orientation:i="vertical",...o}=t,a=q.useRef(null),c=it(a,e),d=f$(n),m=mN(s)==="ltr",f=Ae(t.onKeyDown,g=>{var C;if(!h$.includes(g.key))return;const b=g.target,w=d().filter(S=>{var P;return!((P=S.ref.current)!=null&&P.disabled)}),E=w.findIndex(S=>S.ref.current===b),_=w.length;if(E===-1)return;g.preventDefault();let v=E;const T=0,A=_-1,j=()=>{v=E+1,v>A&&(v=T)},O=()=>{v=E-1,v<T&&(v=A)};switch(g.key){case"Home":v=T;break;case"End":v=A;break;case"ArrowRight":i==="horizontal"&&(m?j():O());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(m?O():j());break;case"ArrowUp":i==="vertical"&&O();break}const I=v%_;(C=w[I].ref.current)==null||C.focus()});return l.jsx(x$,{scope:n,disabled:r,direction:s,orientation:i,children:l.jsx(cx.Slot,{scope:n,children:l.jsx(je.div,{...o,"data-orientation":i,ref:c,onKeyDown:r?void 0:f})})})}),Sh="AccordionItem",[w$,dx]=kf(Sh),xN=q.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...s}=t,i=jf(Sh,n),o=p$(Sh,n),a=ux(n),c=Ul(),d=r&&o.value.includes(r)||!1,h=i.disabled||t.disabled;return l.jsx(w$,{scope:n,open:d,disabled:h,triggerId:c,children:l.jsx(l$,{"data-orientation":i.orientation,"data-state":SN(d),...a,...s,ref:e,disabled:h,open:d,onOpenChange:m=>{m?o.onItemOpen(r):o.onItemClose(r)}})})});xN.displayName=Sh;var wN="AccordionHeader",_N=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=jf(ys,n),i=dx(wN,n);return l.jsx(je.h3,{"data-orientation":s.orientation,"data-state":SN(i.open),"data-disabled":i.disabled?"":void 0,...r,ref:e})});_N.displayName=wN;var Lg="AccordionTrigger",EN=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=jf(ys,n),i=dx(Lg,n),o=g$(Lg,n),a=ux(n);return l.jsx(cx.ItemSlot,{scope:n,children:l.jsx(c$,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...a,...r,ref:e})})});EN.displayName=Lg;var bN="AccordionContent",TN=q.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,s=jf(ys,n),i=dx(bN,n),o=ux(n);return l.jsx(u$,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});TN.displayName=bN;function SN(t){return t?"open":"closed"}var _$=pN,E$=xN,b$=_N,CN=EN,IN=TN;const T$=_$,cn=y.forwardRef(({className:t,...e},n)=>l.jsx(E$,{ref:n,className:ze("border-b",t),...e}));cn.displayName="AccordionItem";const un=y.forwardRef(({className:t,children:e,...n},r)=>l.jsx(b$,{className:"flex",children:l.jsxs(CN,{ref:r,className:ze("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,l.jsx(B2,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));un.displayName=CN.displayName;const dn=y.forwardRef(({className:t,children:e,...n},r)=>l.jsx(IN,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:l.jsx("div",{className:ze("pb-4 pt-0",t),children:e})}));dn.displayName=IN.displayName;const S$=()=>l.jsxs("div",{className:"min-h-screen bg-background",children:[l.jsx(xn,{}),l.jsxs("main",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[l.jsx("h1",{className:"text-4xl font-bold text-foreground mb-8",children:"Frequently Asked Questions"}),l.jsx("div",{className:"text-muted-foreground mb-8",children:l.jsx("p",{children:"Find answers to common questions about BetterParenting's AI-powered parenting advice and support."})}),l.jsxs(T$,{type:"single",collapsible:!0,className:"w-full",children:[l.jsxs(cn,{value:"how-it-works",children:[l.jsx(un,{className:"text-left",children:"How does the AI parenting advice work?"}),l.jsx(dn,{children:"Our AI has been trained on extensive parenting research, child development principles, and expert guidance. When you ask a question, the AI analyzes your situation and provides personalized advice based on evidence-based parenting practices. The AI considers factors like your child's age, the specific challenge you're facing, and established child psychology principles to offer relevant, actionable guidance."})]}),l.jsxs(cn,{value:"safety-reliability",children:[l.jsx(un,{className:"text-left",children:"Is the AI advice safe and reliable?"}),l.jsx(dn,{children:"Our AI provides general parenting guidance based on established research and best practices. However, it's important to remember that every child and family situation is unique. The AI is designed to complement, not replace, professional advice from pediatricians, child psychologists, or other qualified experts. For serious behavioral, health, or developmental concerns, always consult with appropriate professionals."})]}),l.jsxs(cn,{value:"age-ranges",children:[l.jsx(un,{className:"text-left",children:"What age ranges does BetterParenting support?"}),l.jsx(dn,{children:"BetterParenting provides guidance for children from infancy through the teenage years (0-18 years). Our AI is trained on developmental milestones, age-appropriate strategies, and stage-specific challenges for each age group. Whether you're dealing with toddler tantrums, school-age behavioral issues, or teenage communication challenges, our AI can provide relevant advice."})]}),l.jsxs(cn,{value:"pricing",children:[l.jsx(un,{className:"text-left",children:"What are the pricing options?"}),l.jsxs(dn,{children:["We offer both free and premium options:",l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Free Account:"})," Includes 5 conversations per month with basic AI advice.",l.jsx("br",{}),l.jsx("br",{}),l.jsx("strong",{children:"Premium Subscription ($19.99/month):"})," Unlimited conversations, priority support, advanced features, and access to specialized content like developmental milestone tracking and parenting resource libraries.",l.jsx("br",{}),l.jsx("br",{}),"All subscriptions come with a 30-day money-back guarantee."]})]}),l.jsxs(cn,{value:"billing",children:[l.jsx(un,{className:"text-left",children:"How does billing work?"}),l.jsx(dn,{children:"Premium subscriptions are billed monthly or annually, depending on your choice. All payments are processed securely through our payment partners. You can update your payment method, view billing history, and manage your subscription from your account settings. Billing occurs on the same date each month that you initially subscribed."})]}),l.jsxs(cn,{value:"cancellation",children:[l.jsx(un,{className:"text-left",children:"Can I cancel my subscription anytime?"}),l.jsx(dn,{children:"Yes, you can cancel your subscription at any time through your account settings. Cancellations take effect at the end of your current billing period, so you'll retain access to premium features until then. There are no cancellation fees, and you can resubscribe at any time if you change your mind."})]}),l.jsxs(cn,{value:"privacy",children:[l.jsx(un,{className:"text-left",children:"How is my family's privacy protected?"}),l.jsx(dn,{children:"We take privacy very seriously, especially when it comes to families and children. All conversations are encrypted and stored securely. We don't share personal information with third parties, and we're fully COPPA compliant for children's privacy protection. You can request deletion of your data at any time. We recommend avoiding sharing specific identifying details about your children in conversations."})]}),l.jsxs(cn,{value:"emergency",children:[l.jsx(un,{className:"text-left",children:"What if I have an emergency or urgent situation?"}),l.jsxs(dn,{children:["BetterParenting is not designed for emergency situations. If you have an immediate safety concern, medical emergency, or urgent mental health crisis involving your child, please contact:",l.jsx("br",{}),l.jsx("br",{})," Emergency services (911)",l.jsx("br",{})," Your child's pediatrician",l.jsx("br",{})," Local crisis hotlines",l.jsx("br",{})," Poison control (if applicable)",l.jsx("br",{}),l.jsx("br",{}),"Our AI is best suited for general parenting guidance, behavioral strategies, and developmental questions."]})]}),l.jsxs(cn,{value:"technical-support",children:[l.jsx(un,{className:"text-left",children:"What if I experience technical issues?"}),l.jsxs(dn,{children:["If you encounter technical problems, try these steps first:",l.jsx("br",{}),l.jsx("br",{}),"1. Refresh your browser or restart the app",l.jsx("br",{}),"2. Check your internet connection",l.jsx("br",{}),"3. Clear your browser cache",l.jsx("br",{}),l.jsx("br",{}),"If the issue persists, contact our support team at support@betterparenting.com. Include details about the problem, your device/browser information, and any error messages you're seeing. We typically respond within 24 hours."]})]}),l.jsxs(cn,{value:"conversation-history",children:[l.jsx(un,{className:"text-left",children:"Can I access my previous conversations?"}),l.jsx(dn,{children:"Yes, all your conversations with the AI are saved in your account and can be accessed anytime. This allows you to reference previous advice, track your progress with different strategies, and maintain continuity in your parenting approach. Premium users have unlimited conversation history, while free users can access their last 10 conversations."})]}),l.jsxs(cn,{value:"multiple-children",children:[l.jsx(un,{className:"text-left",children:"Can I get advice for multiple children?"}),l.jsx(dn,{children:`Absolutely! You can ask questions about different children in the same account. We recommend mentioning which child you're asking about (e.g., "my 5-year-old" or "my teenager") to help the AI provide age-appropriate advice. The AI can help you navigate the unique challenges and dynamics of families with multiple children, including sibling relationships and different developmental stages.`})]}),l.jsxs(cn,{value:"languages",children:[l.jsx(un,{className:"text-left",children:"Is BetterParenting available in languages other than English?"}),l.jsx(dn,{children:"Currently, BetterParenting is available in English only. We're working on expanding to additional languages in the future. Our AI can understand and respond to basic questions in several languages, but for the most accurate and comprehensive advice, we recommend using English."})]}),l.jsxs(cn,{value:"refunds",children:[l.jsx(un,{className:"text-left",children:"What is your refund policy?"}),l.jsx(dn,{children:"We offer a 30-day money-back guarantee for new premium subscriptions. If you're not satisfied with the service within your first 30 days, contact support@betterparenting.com for a full refund. Refunds are processed to your original payment method within 5-7 business days. After the initial 30-day period, we don't offer refunds for partial billing periods, but you can cancel to avoid future charges."})]})]}),l.jsxs("div",{className:"mt-12 p-6 bg-muted rounded-lg",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Still have questions?"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:"If you can't find the answer you're looking for, we're here to help."}),l.jsxs("p",{className:"text-sm",children:["Email us at ",l.jsx("a",{href:"mailto:support@betterparenting.com",className:"text-primary hover:underline",children:"support@betterparenting.com"})," or call us Monday-Friday, 9 AM - 5 PM PST."]})]})]}),l.jsx(wn,{})]}),C$=()=>{const t=Mr();return y.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),l.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},PN=y.createContext(void 0),NN=()=>{const t=y.useContext(PN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},I$=({children:t})=>{const[e,n]=y.useState(null),[r,s]=y.useState(!0);y.useEffect(()=>{const c=$a(qe,d=>{n(d),s(!1)});return()=>c()},[]);const a={user:e,loading:r,logout:async()=>{await qe.signOut()},signInWithGoogle:async()=>{try{const d=(await p3(qe,TU)).user,h=Ie(fe,"users",d.uid);(await et(h)).exists()?await ur(h,{lastLoginAt:new Date,emailVerified:d.emailVerified}):await Ca(h,{email:d.email,name:d.displayName||"",photoURL:d.photoURL||"",emailVerified:d.emailVerified,planId:"free",maxChildren:1,maxConversations:10,createdAt:new Date,lastLoginAt:new Date})}catch(c){throw console.error("Google sign-in error:",c),c}}};return l.jsx(PN.Provider,{value:a,children:t})},AN=({className:t,size:e=20})=>l.jsxs("svg",{className:t,width:e,height:e,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),l.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),l.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),l.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),P$=()=>{const t=hr(),{signInWithGoogle:e}=NN(),[n,r]=y.useState(""),[s,i]=y.useState(""),[o,a]=y.useState(!1),[c,d]=y.useState(!1),[h,m]=y.useState(!1),[f,g]=y.useState(null),b=async _=>{var v,T;_.preventDefault(),d(!0),g(null);try{const j=(await GV(qe,n,s)).user;if(await j.reload(),!j.emailVerified){await uv(qe),t("/verify-email");return}const O=Ie(fe,"users",j.uid),I=await et(O);if(I.exists()){const C=I.data();await ur(O,{emailVerified:!0});const S=(T=(v=C.subscribedAt)==null?void 0:v.toDate)==null?void 0:T.call(v);S&&new Date().getTime()>S.getTime()+30*24*60*60*1e3&&C.planId!=="free"&&(await ur(O,{planId:"free",maxChildren:1,maxConversations:10}),console.log("User subscription expired. Downgraded to Free plan."))}t("/")}catch(A){let j="Login failed";switch(A.code){case"auth/invalid-email":j="Invalid email address.";break;case"auth/user-disabled":j="This account has been disabled.";break;case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":j="Invalid email or password.";break;case"auth/too-many-requests":j="Too many failed attempts. Please try again later.";break;case"auth/network-request-failed":j="Network error. Please check your internet connection.";break;case"auth/internal-error":j="Something went wrong. Please try again.";break;case"auth/operation-not-allowed":j="Login is currently disabled. Please contact support.";break;case"auth/missing-password":j="Password cannot be empty.";break;default:console.error("Unhandled login error:",A),j=A.message||"Something went wrong. Please try again."}g(j)}finally{d(!1)}},w=async()=>{m(!0),g(null);try{await e(),t("/")}catch(_){let v="Google sign-in failed";switch(_.code){case"auth/popup-closed-by-user":v="Sign-in popup was closed. Please try again.";break;case"auth/popup-blocked":v="Popup was blocked by browser. Please allow popups and try again.";break;case"auth/cancelled-popup-request":v="Sign-in was cancelled. Please try again.";break;case"auth/network-request-failed":v="Network error. Please check your internet connection.";break;case"auth/internal-error":v="Something went wrong. Please try again.";break;default:console.error("Unhandled Google sign-in error:",_),v=_.message||"Something went wrong. Please try again."}g(v)}finally{m(!1)}},E=async()=>{if(!n){g("Please enter your email address to reset your password.");return}try{await HV(qe,n),alert("Password reset email sent. Check your inbox.")}catch(_){let v="Something went wrong. Please try again.";switch(_.code){case"auth/invalid-email":v="Invalid email address.";break;case"auth/user-not-found":v="No account found with this email.";break;case"auth/network-request-failed":v="Network error. Please check your internet connection.";break;default:console.error("Forgot password error:",_),v=_.message||v}g(v)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle flex flex-col",children:[l.jsx(xn,{}),l.jsx("main",{className:"flex-1 flex items-center justify-center px-4",children:l.jsxs(Ue,{className:"w-full max-w-md p-8 shadow-gentle border-0 bg-card/50 backdrop-blur-sm",children:[l.jsx("h1",{className:"text-2xl font-semibold text-center text-foreground mb-6",children:"Log In"}),l.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-foreground mb-1",children:"Email"}),l.jsx(Be,{type:"email",placeholder:"you@example.com",value:n,onChange:_=>r(_.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-foreground mb-1",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(Be,{type:o?"text":"password",placeholder:"",value:s,onChange:_=>i(_.target.value),required:!0,className:"pr-16"}),l.jsx("button",{type:"button",onClick:()=>a(_=>!_),className:"absolute inset-y-0 right-2 px-3 text-sm text-muted-foreground hover:text-foreground",children:o?"Hide":"Show"})]})]}),l.jsx("div",{className:"text-center",children:l.jsx("button",{type:"button",onClick:E,className:"text-sm text-blue-600 hover:underline",children:"Forgot Password?"})}),f&&l.jsx("p",{className:"text-sm text-red-500",children:f}),l.jsx(oe,{type:"submit",variant:"warm",className:"w-full",disabled:c||h,children:c?"Logging in...":"Log In"})]}),l.jsxs("div",{className:"flex items-center my-6",children:[l.jsx("div",{className:"flex-1 border-t border-border"}),l.jsx("span",{className:"px-3 text-sm text-muted-foreground",children:"or"}),l.jsx("div",{className:"flex-1 border-t border-border"})]}),l.jsxs(oe,{type:"button",variant:"outline",className:"w-full",onClick:w,disabled:c||h,children:[l.jsx(AN,{className:"w-5 h-5 mr-2"}),h?"Signing in...":"Continue with Google"]}),l.jsxs("p",{className:"text-sm text-muted-foreground text-center mt-4",children:["Don't have an account?"," ",l.jsx("a",{href:"/register",className:"text-primary underline",children:"Register"})]})]})}),l.jsx(wn,{})]})},N$=()=>{const{signInWithGoogle:t}=NN(),[e,n]=y.useState(""),[r,s]=y.useState(""),[i,o]=y.useState(""),[a,c]=y.useState(!1),[d,h]=y.useState(!1),[m,f]=y.useState(null),[g,b]=y.useState(null),w=hr(),E=Mr(),v=new URLSearchParams(E.search).get("plan")||"free",T=async j=>{if(j.preventDefault(),c(!0),f(null),b(null),r!==i){f("Passwords do not match"),c(!1);return}try{const I=(await qV(qe,e,r)).user;if(I){const C=Ie(fe,"plans",v),S=await et(C);if(!S.exists())throw new Error("Selected plan does not exist.");const P=S.data();await Ca(Ie(fe,"users",I.uid),{uid:I.uid,email:I.email,planId:v,emailVerified:I.emailVerified||!1,createdAt:ai(),isActive:!0,subscribedAt:ai(),maxChildren:P.maxChildren,maxConversations:P.maxConversations}),await AC(I),await uv(qe),w("/verify-email?notice=unverified")}}catch(O){let I="Registration failed";switch(O.code){case"auth/email-already-in-use":I="This email is already registered.";break;case"auth/invalid-email":I="Invalid email address.";break;case"auth/weak-password":I="Password is too weak. Please use at least 6 characters.";break;case"auth/missing-email":I="Please enter an email address.";break;case"auth/missing-password":I="Please enter a password.";break;case"auth/operation-not-allowed":I="Account creation is currently disabled. Please contact support.";break;case"auth/network-request-failed":I="Network error. Please check your internet connection.";break;case"auth/internal-error":I="Something went wrong. Please try again.";break;case"auth/too-many-requests":I="Too many attempts. Please try again later.";break;default:console.error("Unhandled registration error:",O),I=O.message||"Something went wrong. Please try again."}f(I)}finally{c(!1)}},A=async()=>{h(!0),f(null),b(null);try{await t(),w("/")}catch(j){let O="Google sign-up failed";switch(j.code){case"auth/popup-closed-by-user":O="Sign-up popup was closed. Please try again.";break;case"auth/popup-blocked":O="Popup was blocked by browser. Please allow popups and try again.";break;case"auth/cancelled-popup-request":O="Sign-up was cancelled. Please try again.";break;case"auth/network-request-failed":O="Network error. Please check your internet connection.";break;case"auth/internal-error":O="Something went wrong. Please try again.";break;default:console.error("Unhandled Google sign-up error:",j),O=j.message||"Something went wrong. Please try again."}f(O)}finally{h(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle flex flex-col",children:[l.jsx(xn,{}),l.jsx("main",{className:"flex-1 flex items-center justify-center px-4",children:l.jsxs(Ue,{className:"w-full max-w-md p-8 shadow-gentle border-0 bg-card/50 backdrop-blur-sm",children:[l.jsx("h1",{className:"text-2xl font-semibold text-center text-foreground mb-6",children:"Sign Up"}),l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-foreground mb-1",children:"Email"}),l.jsx(Be,{type:"email",placeholder:"you@example.com",value:e,onChange:j=>n(j.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-foreground mb-1",children:"Password"}),l.jsx(Be,{type:"password",placeholder:"",value:r,onChange:j=>s(j.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-foreground mb-1",children:"Confirm Password"}),l.jsx(Be,{type:"password",placeholder:"",value:i,onChange:j=>o(j.target.value),required:!0})]}),m&&l.jsx("p",{className:"text-sm text-red-500",children:m}),g&&l.jsx("p",{className:"text-sm text-green-600",children:g}),l.jsx(oe,{type:"submit",variant:"warm",className:"w-full",disabled:a||d,children:a?"Creating account...":"Sign Up"})]}),l.jsxs("div",{className:"flex items-center my-6",children:[l.jsx("div",{className:"flex-1 border-t border-border"}),l.jsx("span",{className:"px-3 text-sm text-muted-foreground",children:"or"}),l.jsx("div",{className:"flex-1 border-t border-border"})]}),l.jsxs(oe,{type:"button",variant:"outline",className:"w-full",onClick:A,disabled:a||d,children:[l.jsx(AN,{className:"w-5 h-5 mr-2"}),d?"Signing up...":"Continue with Google"]}),l.jsxs("p",{className:"text-sm text-muted-foreground text-center mt-4",children:["Already have an account?"," ",l.jsx("a",{href:"/login",className:"text-primary underline",children:"Log in"})]})]})}),l.jsx(wn,{})]})};function A$(t,[e,n]){return Math.min(n,Math.max(e,t))}function R$(t,e){return y.useReducer((n,r)=>e[n][r]??n,t)}var hx="ScrollArea",[RN,E8]=ka(hx),[k$,Gn]=RN(hx),kN=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,c]=y.useState(null),[d,h]=y.useState(null),[m,f]=y.useState(null),[g,b]=y.useState(null),[w,E]=y.useState(null),[_,v]=y.useState(0),[T,A]=y.useState(0),[j,O]=y.useState(!1),[I,C]=y.useState(!1),S=it(e,k=>c(k)),P=mN(s);return l.jsx(k$,{scope:n,type:r,dir:P,scrollHideDelay:i,scrollArea:a,viewport:d,onViewportChange:h,content:m,onContentChange:f,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:j,onScrollbarXEnabledChange:O,scrollbarY:w,onScrollbarYChange:E,scrollbarYEnabled:I,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:A,children:l.jsx(je.div,{dir:P,...o,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":T+"px",...t.style}})})});kN.displayName=hx;var jN="ScrollAreaViewport",DN=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...o}=t,a=Gn(jN,n),c=y.useRef(null),d=it(e,c,a.onViewportChange);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),l.jsx(je.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:d,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:z$({asChild:s,children:r},h=>l.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:h}))})]})});DN.displayName=jN;var Lr="ScrollAreaScrollbar",fx=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Gn(Lr,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return y.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?l.jsx(j$,{...r,ref:e,forceMount:n}):s.type==="scroll"?l.jsx(D$,{...r,ref:e,forceMount:n}):s.type==="auto"?l.jsx(ON,{...r,ref:e,forceMount:n}):s.type==="always"?l.jsx(mx,{...r,ref:e}):null});fx.displayName=Lr;var j$=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Gn(Lr,t.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const a=s.scrollArea;let c=0;if(a){const d=()=>{window.clearTimeout(c),o(!0)},h=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",d),a.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",d),a.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),l.jsx(dr,{present:n||i,children:l.jsx(ON,{"data-state":i?"visible":"hidden",...r,ref:e})})}),D$=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Gn(Lr,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Of(()=>c("SCROLL_END"),100),[a,c]=R$("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(a==="idle"){const d=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(d)}},[a,s.scrollHideDelay,c]),y.useEffect(()=>{const d=s.viewport,h=i?"scrollLeft":"scrollTop";if(d){let m=d[h];const f=()=>{const g=d[h];m!==g&&(c("SCROLL"),o()),m=g};return d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[s.viewport,i,c,o]),l.jsx(dr,{present:n||a!=="hidden",children:l.jsx(mx,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ae(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ae(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),ON=y.forwardRef((t,e)=>{const n=Gn(Lr,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=y.useState(!1),a=t.orientation==="horizontal",c=Of(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?d:h)}},10);return Ia(n.viewport,c),Ia(n.content,c),l.jsx(dr,{present:r||i,children:l.jsx(mx,{"data-state":i?"visible":"hidden",...s,ref:e})})}),mx=y.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=Gn(Lr,t.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[a,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=UN(a.viewport,a.content),h={...r,sizes:a,onSizesChange:c,hasThumb:d>0&&d<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function m(f,g){return U$(f,o.current,a,g)}return n==="horizontal"?l.jsx(O$,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,g=$E(f,a,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=m(f,s.dir))}}):n==="vertical"?l.jsx(M$,{...h,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,g=$E(f,a);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=m(f))}}):null}),O$=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Gn(Lr,t.__scopeScrollArea),[o,a]=y.useState(),c=y.useRef(null),d=it(e,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(LN,{"data-orientation":"horizontal",...s,ref:d,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Df(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(i.viewport){const f=i.viewport.scrollLeft+h.deltaX;t.onWheelScroll(f),zN(f,m)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ih(o.paddingLeft),paddingEnd:Ih(o.paddingRight)}})}})}),M$=y.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=Gn(Lr,t.__scopeScrollArea),[o,a]=y.useState(),c=y.useRef(null),d=it(e,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),l.jsx(LN,{"data-orientation":"vertical",...s,ref:d,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Df(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(i.viewport){const f=i.viewport.scrollTop+h.deltaY;t.onWheelScroll(f),zN(f,m)&&h.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ih(o.paddingTop),paddingEnd:Ih(o.paddingBottom)}})}})}),[L$,MN]=RN(Lr),LN=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:d,onWheelScroll:h,onResize:m,...f}=t,g=Gn(Lr,n),[b,w]=y.useState(null),E=it(e,S=>w(S)),_=y.useRef(null),v=y.useRef(""),T=g.viewport,A=r.content-r.viewport,j=Tt(h),O=Tt(c),I=Of(m,10);function C(S){if(_.current){const P=S.clientX-_.current.left,k=S.clientY-_.current.top;d({x:P,y:k})}}return y.useEffect(()=>{const S=P=>{const k=P.target;(b==null?void 0:b.contains(k))&&j(P,A)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[T,b,A,j]),y.useEffect(O,[r,O]),Ia(b,I),Ia(g.content,I),l.jsx(L$,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:Tt(i),onThumbPointerUp:Tt(o),onThumbPositionChange:O,onThumbPointerDown:Tt(a),children:l.jsx(je.div,{...f,ref:E,style:{position:"absolute",...f.style},onPointerDown:Ae(t.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),_.current=b.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),C(S))}),onPointerMove:Ae(t.onPointerMove,C),onPointerUp:Ae(t.onPointerUp,S=>{const P=S.target;P.hasPointerCapture(S.pointerId)&&P.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=v.current,g.viewport&&(g.viewport.style.scrollBehavior=""),_.current=null})})})}),Ch="ScrollAreaThumb",VN=y.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=MN(Ch,t.__scopeScrollArea);return l.jsx(dr,{present:n||s.hasThumb,children:l.jsx(V$,{ref:e,...r})})}),V$=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=Gn(Ch,n),o=MN(Ch,n),{onThumbPositionChange:a}=o,c=it(e,m=>o.onThumbChange(m)),d=y.useRef(),h=Of(()=>{d.current&&(d.current(),d.current=void 0)},100);return y.useEffect(()=>{const m=i.viewport;if(m){const f=()=>{if(h(),!d.current){const g=$$(m,a);d.current=g,a()}};return a(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[i.viewport,h,a]),l.jsx(je.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ae(t.onPointerDownCapture,m=>{const g=m.target.getBoundingClientRect(),b=m.clientX-g.left,w=m.clientY-g.top;o.onThumbPointerDown({x:b,y:w})}),onPointerUp:Ae(t.onPointerUp,o.onThumbPointerUp)})});VN.displayName=Ch;var px="ScrollAreaCorner",FN=y.forwardRef((t,e)=>{const n=Gn(px,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?l.jsx(F$,{...t,ref:e}):null});FN.displayName=px;var F$=y.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=Gn(px,n),[i,o]=y.useState(0),[a,c]=y.useState(0),d=!!(i&&a);return Ia(s.scrollbarX,()=>{var m;const h=((m=s.scrollbarX)==null?void 0:m.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),Ia(s.scrollbarY,()=>{var m;const h=((m=s.scrollbarY)==null?void 0:m.offsetWidth)||0;s.onCornerWidthChange(h),o(h)}),d?l.jsx(je.div,{...r,ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ih(t){return t?parseInt(t,10):0}function UN(t,e){const n=t/e;return isNaN(n)?0:n}function Df(t){const e=UN(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function U$(t,e,n,r="ltr"){const s=Df(n),i=s/2,o=e||i,a=s-o,c=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-a,h=n.content-n.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return $N([c,d],m)(t)}function $E(t,e,n="ltr"){const r=Df(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,c=n==="ltr"?[0,o]:[o*-1,0],d=A$(t,c);return $N([0,o],[0,a])(d)}function $N(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function zN(t,e){return t>0&&t<e}var $$=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Of(t,e){const n=Tt(t),r=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),y.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Ia(t,e){const n=Tt(e);kr(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function z$(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const s=y.Children.only(r);return y.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var BN=kN,B$=DN,W$=FN;const WN=y.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(BN,{ref:r,className:ze("relative overflow-hidden",t),...n,children:[l.jsx(B$,{className:"h-full w-full rounded-[inherit]",children:e}),l.jsx(HN,{}),l.jsx(W$,{})]}));WN.displayName=BN.displayName;const HN=y.forwardRef(({className:t,orientation:e="vertical",...n},r)=>l.jsx(fx,{ref:r,orientation:e,className:ze("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:l.jsx(VN,{className:"relative flex-1 rounded-full bg-border"})}));HN.displayName=fx.displayName;const Br=[{id:"e1",text:"My child likes meeting new friends.",dimension:"E"},{id:"e2",text:"My child enjoys talking or playing in big groups.",dimension:"E"},{id:"e3",text:"My child likes being the center of attention.",dimension:"E"},{id:"i1",text:"My child enjoys playing quietly by myself.",dimension:"I"},{id:"i2",text:"My child needs alone time to feel good.",dimension:"I"},{id:"i3",text:"My child thinks a lot before he/she speaks.",dimension:"I"},{id:"s1",text:"My child notice small details most people miss.",dimension:"S"},{id:"s2",text:"My child remember facts and instructions well.",dimension:"S"},{id:"s3",text:"My child like things to stay the same.",dimension:"S"},{id:"n1",text:"My child often imagine new games or stories.",dimension:"N"},{id:"n2",text:"My child enjoys thinking about what could happen.",dimension:"N"},{id:"n3",text:"My child likes to come up with new ideas or ways to do things.",dimension:"N"},{id:"t1",text:"My child likes solving problems by figuring out what makes sense.",dimension:"T"},{id:"t2",text:"My child likes rules to be clear and fair.",dimension:"T"},{id:"t3",text:"My child thinks about what is right or wrong using facts.",dimension:"T"},{id:"f1",text:"My child cares a lot about how others feel.",dimension:"F"},{id:"f2",text:"My child tries to make everyone happy when someone is upset.",dimension:"F"},{id:"f3",text:"My child make choices by thinking about other people's feelings.",dimension:"F"},{id:"j1",text:"My child likes to make plans and know what will happen next.",dimension:"J"},{id:"j2",text:"My child likes finishing my homework or chores before playing.",dimension:"J"},{id:"j3",text:"My child likes to feel good when things are organized.",dimension:"J"},{id:"p1",text:"My child enjoys trying new things, even if he/she don't know what will happen.",dimension:"P"},{id:"p2",text:"My child likes to change plans if he/she finds something more fun to do.",dimension:"P"},{id:"p3",text:"My child doesn't mind if things are a bit messy or unplanned.",dimension:"P"}],zE={ESTJ:"The Executive - Organized, decisive, and natural leaders who enjoy taking charge.",ENTJ:"The Commander - Strategic thinkers who are natural born leaders and love challenges.",ESFJ:"The Consul - Warm-hearted and popular, always eager to help others.",ENFJ:"The Protagonist - Charismatic and inspiring leaders who care deeply about others.",ESTP:"The Entrepreneur - Energetic and spontaneous, they love being active and social.",ENTP:"The Debater - Curious and clever, always looking for new possibilities.",ESFP:"The Entertainer - Spontaneous and enthusiastic, they love being around people.",ENFP:"The Campaigner - Creative and enthusiastic, with a strong people focus.",ISTJ:"The Logistician - Practical and methodical, they value tradition and reliability.",INTJ:"The Architect - Imaginative and strategic thinkers with a plan for everything.",ISFJ:"The Protector - Warm and considerate, always ready to help those they care about.",INFJ:"The Advocate - Creative and insightful, inspired by their values and beliefs.",ISTP:"The Virtuoso - Bold and practical, they love to experiment and explore.",INTP:"The Thinker - Innovative and curious, they love exploring theoretical concepts.",ISFP:"The Adventurer - Flexible and charming, they are guided by their values.",INFP:"The Mediator - Idealistic and loyal, they value inner harmony and personal values."},qN=({isOpen:t,onClose:e,onComplete:n,childName:r,userId:s,childId:i})=>{const[o,a]=y.useState({}),[c,d]=y.useState(0),[h,m]=y.useState(!1),[f,g]=y.useState(""),[b,w]=y.useState(null),[E,_]=y.useState(!1);y.useEffect(()=>{(async()=>{if(!(!t||!s||!i)){if(i==="temp"){try{const P=Ie(fe,"users",s,"children",i);(await et(P)).exists()&&(await jg(P),console.log("Deleted temp child document from Firestore."))}catch(P){console.error("Failed to delete temp child from Firestore:",P)}a({}),m(!1),g("");return}try{const P=Ie(fe,"users",s,"children",i),k=await et(P);if(k.exists()){const D=k.data(),R=D.personalityEvaluation;R?(a(R.responses||{}),g(R.enhancedProfile?`${R.type}|${R.enhancedProfile}`:R.type),m(!0)):(D.answers||D.type)&&(a(D.answers||{}),g(D.type||""),m(!0))}}catch(P){console.error("Failed to fetch evaluation:",P)}}})()},[t,s,i]);const v=[{title:"Extraversion (E) vs. Introversion (I)",questions:Br.slice(0,6)},{title:"Sensing (S) vs. Intuition (N)",questions:Br.slice(6,12)},{title:"Thinking (T) vs. Feeling (F)",questions:Br.slice(12,18)},{title:"Judging (J) vs. Perceiving (P)",questions:Br.slice(18,24)}],T=(S,P)=>{a(k=>({...k,[S]:P}))},A=()=>{const S={E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};return Object.entries(o).forEach(([k,D])=>{const R=Br.find(z=>z.id===k);R&&(S[R.dimension]+=D)}),(S.E>S.I?"E":"I")+(S.S>S.N?"S":"N")+(S.T>S.F?"T":"F")+(S.J>S.P?"J":"P")},j=async()=>{_(!0),w(null);const S=A();g(S);try{const P="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",k=Object.entries(o).map(([R,z])=>{const H=Br.find(Q=>Q.id===R);return`${H==null?void 0:H.text}: ${z}/5`}).join(`
`),D=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:"You are a child development specialist. Based on the personality assessment responses, provide a comprehensive personality profile for the child. Focus on practical insights for parenting. Keep it concise but insightful."},{role:"user",content:`Based on these personality assessment responses for ${r}:

${k}

The calculated MBTI type is: ${S}

Provide EXACTLY 4 sentences in plain text (no formatting, bullet points, or headers). Each sentence should cover: 1) Key personality traits, 2) Primary strengths to nurture, 3) One potential challenge, 4) Brief parenting approach. Keep it under 100 words total.`}],max_tokens:200,temperature:.7})});if(D.ok){const z=(await D.json()).choices[0].message.content;g(`${S}|${z}`)}else console.error("OpenAI API error:",D.status,await D.text()),g(S)}catch(P){console.error("Error calling OpenAI API:",P),g(S)}finally{_(!1),m(!0)}},O=async()=>{try{const[S,P]=f.includes("|")?f.split("|"):[f,null],k=Ie(fe,"users",s,"children",i),D={};Object.entries(o).forEach(([R,z])=>{const H=Br.find(Q=>Q.id===R);H&&(D[H.id]=z)}),await Ca(k,{personalityEvaluation:{type:S,enhancedProfile:P||null,responses:D,timestamp:new Date().toISOString()},personalityProfile:f},{merge:!0})}catch(S){console.error("Error saving evaluation:",S)}n(f),e(),a({}),d(0),m(!1),g("")},I=Br.every(S=>o[S.id]!==void 0),C=({questionId:S,currentRating:P})=>l.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(k=>l.jsx("button",{type:"button",onClick:()=>T(S,k),className:"p-1 transition-colors hover:scale-110",children:l.jsx(WT,{className:`w-6 h-6 ${P&&k<=P?"fill-yellow-400 text-yellow-400":"text-gray-300 hover:text-yellow-300"}`})},k))});return l.jsx(Th,{open:t,onOpenChange:e,children:l.jsxs(Ic,{className:"sm:max-w-2xl max-h-[80vh]",children:[l.jsxs(Pc,{children:[l.jsxs(Nc,{children:["Personality Evaluation for ",r]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Rate each statement from 1-5 stars based on how well it describes your child. We will use this as initial basis to better give insights and advices on your child depending on their personality type."})]}),l.jsx(WN,{className:"h-96 pr-4",children:h?l.jsxs("div",{className:"text-center space-y-6 py-8",children:[b&&l.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[l.jsx("strong",{className:"font-bold",children:"Error: "}),l.jsx("span",{className:"block sm:inline",children:b})]}),(()=>{var k,D;const[S,P]=f.includes("|")?f.split("|"):[f,null];return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-6xl font-bold text-primary mb-4",children:S}),l.jsx("h3",{className:"text-2xl font-semibold text-foreground",children:((k=zE[S])==null?void 0:k.split(" - ")[0])||"Personality Type"}),P?l.jsxs("div",{className:"text-left max-w-2xl mx-auto space-y-4",children:[l.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:l.jsx("p",{className:"text-xs text-green-600 font-medium mb-2",children:" Enhanced with AI Analysis"})}),l.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed whitespace-pre-wrap",children:P})]}):l.jsx("p",{className:"text-lg text-muted-foreground max-w-md mx-auto",children:((D=zE[S])==null?void 0:D.split(" - ")[1])||"A unique personality profile has been calculated for your child."}),l.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mt-6",children:l.jsxs("p",{className:"text-sm text-blue-700",children:["This personality profile will help us provide more personalized advice and insights for ",r,"."]})})]})})()]}):l.jsx("div",{className:"space-y-6",children:v.map((S,P)=>l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-primary border-b pb-2",children:S.title}),S.questions.map(k=>l.jsxs("div",{className:"p-4 border rounded-lg space-y-3",children:[l.jsx("p",{className:"text-sm font-medium",children:k.text}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-xs text-muted-foreground",children:[l.jsx("span",{children:"Not at all"}),l.jsx("span",{className:"ml-8",children:"Very much"})]}),l.jsx(C,{questionId:k.id,currentRating:o[k.id]||0})]})]},k.id))]},P))})}),l.jsx("div",{className:"flex justify-between items-center pt-4 border-t",children:h?l.jsxs("div",{className:"w-full flex justify-center gap-2",children:[l.jsx(oe,{variant:"outline",onClick:()=>m(!1),children:"Back to Questions"}),l.jsx(oe,{onClick:O,className:"btn-warm",children:"Confirm & Save Profile"})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:[Object.keys(o).length," of ",Br.length," questions answered"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(oe,{variant:"outline",onClick:e,children:"Cancel"}),l.jsx(oe,{onClick:j,disabled:!I||E,className:"btn-warm",children:E?"Processing...":"Complete Evaluation"})]})]})})]})})},H$=()=>{var ee,K,Se,Je;const[t,e]=y.useState(""),[n,r]=y.useState([{id:null,name:"",age:"",personalityProfile:"",interests:"",responses:{}}]),[s,i]=y.useState([]),[o,a]=y.useState(""),[c,d]=y.useState(""),[h,m]=y.useState(""),[f,g]=y.useState(""),[b,w]=y.useState(1),[E,_]=y.useState(!0),[v,T]=y.useState(null),[A,j]=y.useState(!1),[O,I]=y.useState(""),[C,S]=y.useState("Free"),[P,k]=y.useState(null),D=hr(),R=Mr(),H=new URLSearchParams(R.search).get("plan");y.useEffect(()=>{const se=qe.onAuthStateChanged(ie=>{ie||D(`/login?next=account-setup&plan=${H}`)});return()=>se()},[D,H]),y.useEffect(()=>{(async()=>{const ie=qe.currentUser;if(ie)try{const ae=Ie(fe,"users",ie.uid),Ce=await et(ae);if(Ce.exists()){const xe=Ce.data();if(T(xe),e(xe.name||""),a(xe.phone||""),d(xe.address||""),m(xe.bankAccount||""),g(xe.bankName||""),w(xe.maxChildren||1),xe.planId){const Ve=Ie(fe,"plans",xe.planId),Vt=await et(Ve);if(Vt.exists()){const Ne=Vt.data();S(Ne.name||"Free")}}}const _e=Xt(ae,"children"),dt=(await gs(_e)).docs.map(xe=>{var Vt,Ne;const Ve=xe.data();return{id:xe.id,name:Ve.name||"",age:((Vt=Ve.age)==null?void 0:Vt.toString())||"",personalityProfile:Ve.personalityProfile||"",interests:(Ve.interests||[]).join(", "),responses:((Ne=Ve.personalityEvaluation)==null?void 0:Ne.responses)||{}}});dt.length>0&&r(dt)}catch(ae){console.error("Failed to load data:",ae)}finally{_(!1)}})()},[H]),y.useEffect(()=>{i(new Array(n.length).fill(!1))},[n.length]);const Q=()=>{n.length>=b||r(se=>[...se,{id:null,name:"",age:"",personalityProfile:"",interests:"",responses:{}}])},le=se=>{i(ie=>{const ae=[...ie];return ae[se]=!ae[se],ae})},M=(se,ie,ae)=>{r(Ce=>{const _e=[...Ce];return _e[se][ie]=ae,_e})},W=se=>{if(!P)return;const ie=P.id?n.findIndex(Ce=>Ce.id===P.id):n.length-1;if(ie<0)return;const ae=[...n];ae[ie].personalityProfile=se,r(ae),k(null)},ne=async()=>{const se=qe.currentUser;if(!se)return;const ie=Ie(fe,"users",se.uid);try{const ae=H?Ie(fe,"plans",H):null,Ce=ae?await et(ae):null,_e=Ce!=null&&Ce.exists()?Ce.data():{},Et=(_e==null?void 0:_e.maxConversations)??(v==null?void 0:v.maxConversations)??0,dt=(_e==null?void 0:_e.maxChildren)??(v==null?void 0:v.maxChildren)??1;await Ca(ie,{name:t,email:se.email,phone:o,address:c,bankAccount:h,bankName:f,...H&&{planId:H,subscribedAt:new Date,maxChildren:dt,maxConversations:Et}},{merge:!0});const xe=Xt(ie,"children");for(const Ve of n.slice(0,dt)){if(!Ve.name||!Ve.age)continue;const Vt={name:Ve.name,age:Number(Ve.age),personalityProfile:Ve.personalityProfile,interests:Ve.interests.split(",").map(Ne=>Ne.trim()).filter(Boolean),remainingMessages:Et};if(Ve.id){const Ne=Ie(xe,Ve.id);await Ca(Ne,Vt,{merge:!0})}else await oi(xe,Vt)}D("/my-children")}catch(ae){console.error("Error updating account:",ae)}},J=()=>{var ae;if(!((ae=v==null?void 0:v.subscribedAt)!=null&&ae.toDate))return!1;const se=v.subscribedAt.toDate(),ie=new Date(se.getTime()+30*24*60*60*1e3);return new Date>ie},re=se=>new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(se),ce=se=>{const ie=se.replace(/\D/g,""),ae=ie.match(/^(\d{0,4})(\d{0,3})(\d{0,4})$/);return ae?[ae[1],ae[2],ae[3]].filter(Boolean).join(" ").trim():ie},B=se=>{const ie=ce(se.target.value);I(ie)};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[l.jsx(xn,{onStartChat:()=>{}}),l.jsxs("div",{className:"container max-w-4xl mx-auto px-4 pt-10 pb-20 space-y-10 fade-in-gentle",children:[l.jsx("h1",{className:"text-3xl font-bold text-center text-foreground",children:"Update Your Parent Account"}),l.jsxs(Ue,{className:"p-6 shadow-gentle space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Parent Info"}),l.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>j(se=>!se),children:A?"Cancel":"Edit"})]}),l.jsx(Be,{placeholder:"Full Name",value:t,onChange:se=>e(se.target.value),disabled:!A}),l.jsx(Be,{placeholder:"Email (from Google)",value:((ee=qe.currentUser)==null?void 0:ee.email)||"",disabled:!0}),l.jsx(Be,{type:"tel",value:O,onChange:B,placeholder:"0924 231 2345",maxLength:13,disabled:!A}),l.jsx(Be,{placeholder:"Home Address",value:c,onChange:se=>d(se.target.value),disabled:!A}),l.jsx(Be,{placeholder:"Bank Account Number",value:h,onChange:se=>m(se.target.value),disabled:!A}),l.jsx(Be,{placeholder:"Bank Name",value:f,onChange:se=>g(se.target.value),disabled:!A}),A&&l.jsx(oe,{variant:"warm",className:"w-full",onClick:()=>j(!1),children:"Save Info"})]}),v&&l.jsxs(Ue,{className:"p-6 shadow-gentle space-y-2 text-sm text-muted-foreground",children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:"Family Plan Info"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Plan:"})," ",C||"Free"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Status:"})," ",J()?"Expired":"Active"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Subscribed At:"})," ",(K=v.subscribedAt)!=null&&K.toDate?re(v.subscribedAt.toDate()):"N/A"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Expires At:"})," ",(Se=v.subscribedAt)!=null&&Se.toDate?re(new Date(v.subscribedAt.toDate().getTime()+30*24*60*60*1e3)):"Unknown"]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Max Children:"})," ",v.maxChildren]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Max Messages / Month:"})," ",v.maxConversations]}),l.jsx(oe,{variant:"secondary",className:"mt-4 w-full",onClick:()=>D("/pricing"),children:"Change Plan"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:n.map((se,ie)=>{const ae=s[ie]||!1;return l.jsxs(Ue,{className:"p-6 shadow-gentle space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("h2",{className:"text-lg font-medium text-foreground",children:["Child #",ie+1]}),l.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>le(ie),children:ae?"Cancel":"Edit"})]}),l.jsx(Be,{placeholder:"Name",value:se.name,onChange:Ce=>M(ie,"name",Ce.target.value),disabled:!ae}),l.jsx(Be,{placeholder:"Age",type:"number",value:se.age,min:0,max:99,onChange:Ce=>M(ie,"age",Ce.target.value),disabled:!ae}),l.jsx(Be,{placeholder:"Interests (comma-separated)",value:se.interests,onChange:Ce=>M(ie,"interests",Ce.target.value),disabled:!ae}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-foreground mb-1",children:"Personality Profile"}),se.personalityProfile?l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("strong",{children:se.personalityProfile}),l.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>k({id:se.id??null,name:se.name}),children:"Update"})]}):l.jsx(oe,{variant:"outline",size:"sm",onClick:()=>k({id:se.id??null,name:se.name}),children:"Evaluate Personality"})]}),ae&&l.jsx(oe,{variant:"warm",className:"w-full",onClick:()=>le(ie),children:"Save Info"})]},se.id??ie)})}),l.jsxs(oe,{variant:"ghost",className:"w-full flex items-center justify-center gap-2 text-accent",onClick:Q,disabled:n.length>=b,children:[l.jsx(BT,{className:"w-4 h-4"}),"Add Another Child"]}),n.length>=b&&l.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:["You've reached the limit of ",b," child",b>1?"ren":""," for your plan."]}),l.jsx(oe,{variant:"warm",className:"w-full",onClick:ne,disabled:E,children:"Save All Changes"})]}),l.jsx(wn,{}),P&&l.jsx(qN,{isOpen:!!P,childName:P.name||"New Child",childId:P.id,userId:((Je=qe.currentUser)==null?void 0:Je.uid)??"",onClose:()=>k(null),onComplete:W})]})};async function q$(t,e){const n=Xt(fe,"users",t,"children"),s=(await gs(n)).docs.map(async i=>{const o=i.data(),c=(Number(o.remainingMessages)||0)+Number(e);await ur(i.ref,{remainingMessages:c})});await Promise.all(s)}async function G$(t,e){const n=Xt(fe,"users",t,"children"),i=(await gs(n)).docs.map(c=>{const d=c.data();return{id:c.id,ref:c.ref,remainingMessages:d.remainingMessages??0,isFrozen:d.isFrozen??!1}}).sort((c,d)=>d.remainingMessages-c.remainingMessages);let o=0;const a=i.map(async c=>{const d=o<e||c.remainingMessages>0,h=c.isFrozen??!1;return d&&h?(o++,ur(c.ref,{isFrozen:!1})):!d&&!h?ur(c.ref,{isFrozen:!0}):(d&&o++,null)});await Promise.all(a)}const K$=()=>{var b;const t=Mr(),e=hr(),[n,r]=y.useState(null),[s,i]=y.useState(!0),[o,a]=y.useState(null),[c,d]=y.useState(null),h=new URLSearchParams(t.search).get("plan"),[m,f]=y.useState(null);y.useEffect(()=>{(async()=>{if(c)try{const E=Ie(fe,"users",c),_=await et(E);if(_.exists()){const T=_.data().planId||"free",A=Ie(fe,"plans",T),j=await et(A);j.exists()?f(j.data()):console.warn("Current plan document not found:",T)}else console.warn("User document not found:",c)}catch(E){console.error("Error fetching current user plan:",E)}})()},[c]),y.useEffect(()=>{const w=qe.onAuthStateChanged(E=>{if(!E){e(`/register?next=checkout&plan=${h}`);return}if(!E.emailVerified){e("/verify-email");return}a(E.email??null),d(E.uid??null)});return()=>w()},[e,h]),y.useEffect(()=>{(async()=>{if(!h){console.warn("No planId found in URL."),i(!1);return}try{const E=Ie(fe,"plans",h),_=await et(E);_.exists()?r(_.data()):console.warn(" Plan does not exist in Firestore:",h)}catch(E){console.error(" Error fetching plan from Firestore:",E)}i(!1)})()},[h]);const g=async()=>{if(!c||!o||!h||!n)return;const w=Ie(fe,"users",c);try{const E=new Date,_=new Date(E);_.setMonth(E.getMonth()+1),await Ca(w,{email:o,planId:h,subscribedAt:E,expiresAt:_,isActive:!0,maxChildren:n.maxChildren||0,maxConversations:n.maxConversations||0,isDedicatedNumberPerChild:n.isDedicatedNumberPerChild||!1},{merge:!0}),n.maxChildren!==void 0&&await G$(c,n.maxChildren),n.maxConversations&&await q$(c,n.maxConversations),e("/my-children")}catch(E){console.error(" Failed to store user plan:",E),alert("Failed to complete checkout. Please try again.")}};return s?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("p",{className:"text-muted-foreground",children:"Loading..."})}):n?l.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[l.jsx(xn,{onStartChat:()=>{}}),l.jsxs("div",{className:"container max-w-6xl mx-auto px-4 py-12 fade-in-gentle",children:[l.jsxs("h1",{className:"text-3xl font-bold mb-10 text-center text-foreground",children:["Checkout: ",n.name]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Ue,{className:"p-6 shadow-gentle",children:[l.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:n.name}),l.jsx("p",{className:"text-muted-foreground mb-4",children:n.description}),l.jsxs("ul",{className:"text-gentle text-sm mb-4 space-y-1",children:[typeof n.maxChildren=="number"&&l.jsxs("li",{children:[" Up to ",n.maxChildren," children"]}),typeof n.maxConversations=="number"&&l.jsxs("li",{children:[" ",n.maxConversations," conversations/month"]}),l.jsxs("li",{children:[""," ",n.isDedicatedNumberPerChild?"Dedicated WhatsApp number per child":"Shared WhatsApp number"]}),l.jsx("li",{children:" 24/7 availability"}),l.jsx("li",{children:" AI trained on your values"}),((b=n.name)==null?void 0:b.toLowerCase().includes("ultimate"))&&l.jsxs(l.Fragment,{children:[l.jsx("li",{children:" Monthly family insights report"}),l.jsx("li",{children:" Personalized monthly workbook"})]})]}),l.jsxs("div",{className:"text-2xl font-bold text-foreground",children:["$",n.price," / month"]}),n.setupFee&&l.jsxs("div",{className:"text-sm text-muted-foreground",children:["+ $",n.setupFee," one-time setup fee"]})]}),l.jsxs(Ue,{className:"p-6 shadow-gentle",children:[l.jsx("h3",{className:"text-lg font-medium mb-2 text-foreground",children:"Account"}),o&&l.jsx("div",{className:"space-y-2",children:l.jsxs("p",{className:"text-foreground text-sm",children:["Signed in as ",l.jsx("span",{className:"font-medium",children:o})]})}),m&&l.jsxs("p",{className:"text-muted-foreground text-sm mt-2",children:["Current subscription: ",l.jsx("span",{className:"font-semibold",children:m.name})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(Ue,{className:"p-6 shadow-gentle",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 text-foreground",children:"Payment Details"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Card Information"}),l.jsxs("div",{className:"rounded-md border border-input bg-background transition hover:shadow-sm focus-within:shadow-inner px-4 py-3 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[l.jsx("span",{children:"**** **** **** 4242"}),l.jsx("span",{className:"text-xs",children:"Visa"})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Expiry"}),l.jsx("div",{className:"bg-muted rounded px-3 py-2 text-sm",children:"MM / YY"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"CVC"}),l.jsx("div",{className:"bg-muted rounded px-3 py-2 text-sm",children:""})]})]})]})]}),o&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm font-medium text-foreground",children:"Billing Email"}),l.jsx("div",{className:"mt-1 px-4 py-2 bg-muted rounded border border-input text-sm text-foreground",children:o})]}),l.jsx(oe,{size:"lg",variant:"warm",className:"w-full mt-4 transition-transform hover:scale-[1.01]",onClick:g,children:"Pay Now (UI Only)"})]})]}),l.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"This is a placeholder UI. Youll be redirected to a secure Stripe checkout."})]})]})]}),l.jsx(wn,{})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center text-foreground",children:l.jsx("p",{children:"Plan not found. Please go back and select a valid plan."})})},xl=async t=>{const e=Xt(fe,"users",t,"children"),n=Nf(e);return(await gs(n)).docs.map(s=>{const i=s.data();return{id:s.id,name:i.name||"",age:i.age||0,personalityProfile:i.personalityProfile||"",interests:i.interests||[],whatsappNumber:i.whatsappNumber||"",remainingMessages:i.remainingMessages||0,isFrozen:i.isFrozen??!1}})},Tr="chatSessions",Fo="chatMessages",Ui=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Error saving to localStorage:",n)}},An=t=>{try{const e=localStorage.getItem(t);return e?JSON.parse(e):null}catch(e){return console.error("Error reading from localStorage:",e),null}},GN=async(t,e,n="New Chat")=>{try{const r=Xt(fe,"users",t,"children",e,"chatSessions"),s=await oi(r,{title:n,createdAt:ai(),messageCount:0,lastMessage:""}),i=An(Tr)||{},o=`${t}_${e}`;return i[o]||(i[o]=[]),i[o].push({id:s.id,title:n,createdAt:new Date().toISOString(),messageCount:0,lastMessage:""}),Ui(Tr,i),s.id}catch(r){console.error("Error creating chat session:",r);const s=`local_${Date.now()}`,i=An(Tr)||{},o=`${t}_${e}`;return i[o]||(i[o]=[]),i[o].push({id:s,title:n,createdAt:new Date().toISOString(),messageCount:0,lastMessage:""}),Ui(Tr,i),s}},Pa=async(t,e,n,r)=>{const s=`msg_${Date.now()}`,i=new Date;try{const o=Xt(fe,"users",t,"children",e,"chatSessions",n,"messages");await oi(o,{...r,timestamp:ai(),childId:e,userId:t});const a=Ie(fe,"users",t,"children",e,"chatSessions",n),c=await et(a);if(c.exists()){const g=c.data().messageCount||0;await ur(a,{lastMessage:r.content.substring(0,100),messageCount:g+1})}if(r.type==="user"){const g=Ie(fe,"users",t,"children",e),b=await et(g);if(b.exists()){const w=b.data().remainingMessages||0;w!==-1&&w>0&&await ur(g,{remainingMessages:w-1})}}const d=An(Fo)||{},h=`${t}_${e}_${n}`;d[h]||(d[h]=[]),d[h].push({id:s,content:r.content,type:r.type,timestamp:i.toISOString(),childId:e,userId:t}),Ui(Fo,d);const m=An(Tr)||{},f=`${t}_${e}`;if(m[f]){const g=m[f].find(b=>b.id===n);g&&(g.lastMessage=r.content.substring(0,100),g.messageCount=(g.messageCount||0)+1,Ui(Tr,m))}}catch(o){console.error("Error saving chat message to Firebase, saving to local storage:",o);const a=An(Fo)||{},c=`${t}_${e}_${n}`;a[c]||(a[c]=[]),a[c].push({id:s,content:r.content,type:r.type,timestamp:i.toISOString(),childId:e,userId:t}),Ui(Fo,a);const d=An(Tr)||{},h=`${t}_${e}`;if(d[h]){const m=d[h].find(f=>f.id===n);m&&(m.lastMessage=r.content.substring(0,100),m.messageCount=(m.messageCount||0)+1,Ui(Tr,d))}}},KN=async(t,e,n)=>{try{const r=Xt(fe,"users",t,"children",e,"chatSessions",n,"messages"),s=Nf(r,Yv("timestamp","asc"));return(await gs(s)).docs.map(o=>{var a;return{id:o.id,...o.data(),timestamp:((a=o.data().timestamp)==null?void 0:a.toDate())||new Date}})}catch(r){console.error("Error getting chat messages from Firebase, trying local storage:",r);const s=An(Fo)||{},i=`${t}_${e}_${n}`;return(s[i]||[]).map(a=>({...a,timestamp:new Date(a.timestamp)}))}},Vg=async(t,e)=>{try{const n=Xt(fe,"users",t,"children",e,"chatSessions"),r=Nf(n,Yv("createdAt","desc"),xU(10));return(await gs(r)).docs.map(i=>{var o;return{id:i.id,...i.data(),createdAt:((o=i.data().createdAt)==null?void 0:o.toDate())||new Date}})}catch(n){console.error("Error getting chat sessions from Firebase, trying local storage:",n);const r=An(Tr)||{},s=`${t}_${e}`;return(r[s]||[]).map(o=>({...o,createdAt:new Date(o.createdAt)})).sort((o,a)=>new Date(a.createdAt).getTime()-new Date(o.createdAt).getTime()).slice(0,10)}},gx=async(t,e)=>{try{const n=Ie(fe,"users",t,"children",e),r=await et(n);if(r.exists()){const s=r.data().remainingMessages||0;return s===-1?!0:s>0}return!1}catch(n){return console.error("Error checking message credits:",n),!1}},yx=async(t,e,n,r)=>{try{const s=Xt(fe,"users",t,"children",e,"chatSessions",n,"summaries");await oi(s,{summary:r,timestamp:ai()}),console.log("Conversation summary saved successfully")}catch(s){console.error("Error saving conversation summary:",s);const i=An("conversationSummaries")||{},o=`${t}_${e}_${n}`;i[o]||(i[o]=[]),i[o].push({summary:r,timestamp:new Date().toISOString()}),Ui("conversationSummaries",i)}},vx=async(t,e,n)=>{try{const r=Xt(fe,"users",t,"children",e,"chatSessions",n,"summaries"),s=Nf(r,Yv("timestamp","asc"));return(await gs(s)).docs.map(o=>o.data().summary)}catch(r){console.error("Error getting conversation summaries from Firebase, trying local storage:",r);const s=An("conversationSummaries")||{},i=`${t}_${e}_${n}`;return(s[i]||[]).map(a=>a.summary)}},Q$=async t=>{try{const e=An(Tr)||{},n=An(Fo)||{};for(const s in e)if(s.startsWith(t)){const[i,o]=s.split("_");if(i===t){const a=e[s];for(const c of a)if(c.id.startsWith("local_"))try{const d=Xt(fe,"users",t,"children",o,"chatSessions"),h=await oi(d,{title:c.title,createdAt:ai(),messageCount:c.messageCount||0,lastMessage:c.lastMessage||""}),m=`${t}_${o}_${c.id}`,f=n[m]||[];for(const g of f){const b=Xt(fe,"users",t,"children",o,"chatSessions",h.id,"messages");await oi(b,{content:g.content,type:g.type,timestamp:ai(),childId:o,userId:t})}console.log(`Synced session ${c.id} to Firebase as ${h.id}`)}catch(d){console.error(`Error syncing session ${c.id}:`,d)}}}const r=An("conversationSummaries")||{};for(const s in r)if(s.startsWith(t)){const[i,o,a]=s.split("_");if(i===t){const c=r[s];for(const d of c)try{const h=Xt(fe,"users",t,"children",o,"chatSessions",a,"summaries");await oi(h,{summary:d.summary,timestamp:ai()})}catch(h){console.error(`Error syncing summary for session ${a}:`,h)}}}}catch(e){console.error("Error syncing local data to Firebase:",e)}},Y$=Object.freeze(Object.defineProperty({__proto__:null,checkMessageCredits:gx,createChatSession:GN,getChatMessages:KN,getChatSessions:Vg,getConversationSummaries:vx,saveChatMessage:Pa,saveConversationSummary:yx,syncLocalDataToFirebase:Q$},Symbol.toStringTag,{value:"Module"})),X$=({childId:t})=>{const[e,n]=y.useState("unlimited"),[r,s]=y.useState("unlimited"),[i,o]=y.useState(!0),[a,c]=y.useState(!1);if(y.useEffect(()=>{(async()=>{const b=qe.currentUser;if(!(!b||!t))try{const w=Ie(fe,"users",b.uid,"children",t),E=await et(w);if(!E.exists())throw new Error("Child not found");const v=E.data().remainingMessages;if(v==null)throw new Error("Missing remainingMessages");n(v);const T=Ie(fe,"users",b.uid),A=await et(T);if(!A.exists())throw new Error("User not found");const j=A.data().planId??"free",O=Ie(fe,"plans",j),I=await et(O);if(!I.exists())throw new Error("Plan not found");const S=I.data().maxConversations;s(typeof S=="number"?j==="ultimate"||S===999?"unlimited":S:"unlimited")}catch(w){console.error("Error fetching message credits:",w),c(!0)}finally{o(!1)}})()},[t]),i)return l.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading message credits..."});if(a)return l.jsx("p",{className:"text-sm text-red-500",children:"Failed to fetch remaining credits"});const d=g=>g===-1||g==="unlimited";if(d(e)||d(r))return l.jsxs("div",{className:"text-sm w-full",children:[l.jsx("p",{className:"mb-1 text-muted-foreground",children:"Unlimited messages"}),l.jsx(Eh,{value:100,className:"h-1"})]});const h=Math.max(e,r),m=h-e,f=Math.min(m/h*100,100);return l.jsxs("div",{className:"text-sm w-full",children:[l.jsxs("p",{className:"mb-1 text-muted-foreground",children:[e," messages left (",m,"/",h,")"]}),l.jsx(Eh,{value:f,className:"h-1"})]})},J$=({user:t,selectedChild:e,userData:n,messages:r,setMessages:s,currentSessionId:i,onBackToChildren:o})=>{const[a,c]=y.useState(""),[d,h]=y.useState(!1),m=async g=>{try{const b=g.map(v=>`${v.type==="user"?"Parent":"Coach"}: ${v.content}`).join(" "),E=["behavior","challenge","progress","school","sleep","eating","emotion","friend","sibling","development"].filter(v=>b.toLowerCase().includes(v));return`Recent conversation covered: ${E.length>0?E.join(", "):"general parenting topics"}. Last ${g.length} messages in this session.`}catch(b){return console.error("Error generating summary:",b),"Recent conversation summary unavailable."}},f=async()=>{var E,_;if(!a.trim()||!e||!t)return;if(!await gx(t.uid,e.id)){alert("No message credits remaining for this child. Please upgrade your plan.");return}const b={id:Date.now().toString(),content:a,type:"user",timestamp:new Date};s(v=>[...v,b]);const w=a;c(""),h(!0);try{i&&await Pa(t.uid,e.id,i,{content:w,type:"user"});let v=n;if(!v){const H=Ie(fe,"users",t.uid),Q=await et(H);Q.exists()&&(v=Q.data())}const T=t.email||(v==null?void 0:v.email)||"No email available";console.log("=== DEBUG: Firebase User Data ==="),console.log("User UID:",t.uid),console.log("User Email from Auth:",t.email),console.log("User Email from Firebase Doc:",v==null?void 0:v.email),console.log("Final Parent Email:",T),console.log("User Document Data:",v);const A=e.name,j=e.age,O=e.personalityProfile||"No personality profile available yet.",I=e.interests&&e.interests.length>0?e.interests:[];console.log("=== DEBUG: Child Data from Firebase ==="),console.log("Selected Child:",e),console.log("Child Name:",A),console.log("Child Age:",j),console.log("Child Personality Profile:",O),console.log("Child Interests:",I);const C=i?await vx(t.uid,e.id,i):[],S=C.length>0?C.join(" "):"No previous context available.";console.log("=== DEBUG: Conversation Context ==="),console.log("Current Session ID:",i),console.log("Previous Context:",S),console.log("Latest Message:",w);const P={parent:{email:T,uid:t.uid},child:{id:e.id,name:A,age:j,personalityProfile:O,interests:I},latestMessage:w};console.log("=== DEBUG: Webhook Payload ==="),console.log("Webhook URL:","https://sandbox-n8n.fly.dev/webhook/8948c09e-7906-40a3-ad99-6b38adbdf3e8"),console.log("Payload:",JSON.stringify(P,null,2));const k=await fetch("https://sandbox-n8n.fly.dev/webhook-test/9e90279c-dd1a-4e7f-a23f-4ec524797cdc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});console.log("=== DEBUG: Webhook Response ==="),console.log("Response Status:",k.status),console.log("Response Headers:",Object.fromEntries(k.headers.entries()));let D;if(k.ok){const H=await k.json();console.log("Response Data:",H),Array.isArray(H)&&H.length>0?D=((E=H[0])==null?void 0:E.Reponse)||((_=H[0])==null?void 0:_.Response)||JSON.stringify(H):H&&typeof H=="object"?D=H.Reponse||H.Response||JSON.stringify(H):D=typeof H=="string"?H:JSON.stringify(H),console.log("Extracted Assistant Content:",D)}else{const H=await k.text();throw console.error("Webhook Error Response:",H),new Error(`Webhook call failed with status ${k.status}: ${H}`)}const R={id:(Date.now()+1).toString(),content:D,type:"assistant",timestamp:new Date};i&&await Pa(t.uid,e.id,i,{content:D,type:"assistant"}),s(H=>[...H,R]);const z=r.length+2;if(z>10&&z%10===0){const H=[...r,b,R].slice(-10),Q=await m(H);Q&&i&&await yx(t.uid,e.id,i,Q)}console.log("=== DEBUG: Message Processing Complete ==="),console.log("Assistant Response:",D)}catch(v){console.error("=== DEBUG: Error in handleSendMessage ==="),console.error("Error details:",v),console.error("Error stack:",v instanceof Error?v.stack:"No stack trace");const T={id:(Date.now()+1).toString(),content:`I'm having trouble connecting right now. Please try again later. Error: ${v instanceof Error?v.message:"Unknown error"}`,type:"assistant",timestamp:new Date};s(A=>[...A,T])}h(!1)};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle flex flex-col",children:[l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border/50 p-4",children:l.jsx("div",{className:"container mx-auto flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:o,children:l.jsx(Qh,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"font-semibold text-foreground",children:[e.name,"'s Coach"]}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:["Personalized guidance for age ",e.age]})]})]})})}),l.jsxs("div",{className:"flex-1 container mx-auto p-4 space-y-6 overflow-y-auto",children:[r.map(g=>l.jsx("div",{className:`flex ${g.type==="user"?"justify-end":"justify-start"} fade-in-gentle`,children:l.jsxs("div",{className:g.type==="user"?"message-user":"message-assistant",children:[l.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-wrap",children:g.content}),l.jsxs("div",{className:"flex items-center mt-2 text-xs text-muted-foreground",children:[l.jsx(ja,{className:"w-3 h-3 mr-1"}),g.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})},g.id)),d&&l.jsx("div",{className:"flex justify-start fade-in-gentle",children:l.jsx("div",{className:"message-assistant",children:l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-t border-border/50 p-4",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ga,{value:a,onChange:g=>c(g.target.value),placeholder:`Tell me about ${e.name} or ask a question...`,className:"flex-1 border-border/50 focus:border-primary transition-gentle resize-none",onKeyDown:g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),f())},disabled:d,rows:2}),l.jsx(oe,{variant:"warm",onClick:f,disabled:!a.trim()||d,className:"self-end",children:l.jsx(Jh,{className:"w-4 h-4"})})]})})})]})},Z$=({user:t,selectedChild:e,userData:n,messages:r,setMessages:s,currentSessionId:i,parentMode:o,onBackToChildren:a})=>{const[c,d]=y.useState(""),[h,m]=y.useState(!1),g=(E=>({title:`Dad & Mom Mode: ${e.name}`,subtitle:"Comprehensive parenting guidance for both parents",placeholder:`Share your parenting perspective about ${e.name}...`,icon:l.jsx(Yh,{className:"w-5 h-5"}),headerClass:"bg-purple-50 border-purple-200",messageClass:"border-purple-200"}))(),b=async E=>{try{const _=E.map(j=>`${j.type==="user"?"Parent":"Coach"}: ${j.content}`).join(" "),T=["behavior","challenge","progress","school","sleep","eating","emotion","friend","sibling","development"].filter(j=>_.toLowerCase().includes(j));return`Recent conversation covered: ${T.length>0?T.join(", "):"general parenting topics"}. Last ${E.length} messages in this session.`}catch(_){return console.error("Error generating summary:",_),"Recent conversation summary unavailable."}},w=async()=>{var T,A;if(!c.trim()||!e||!t)return;if(!await gx(t.uid,e.id)){alert("No message credits remaining for this child. Please upgrade your plan.");return}const _={id:Date.now().toString(),content:c,type:"user",timestamp:new Date};s(j=>[...j,_]);const v=c;d(""),m(!0);try{i&&await Pa(t.uid,e.id,i,{content:v,type:"user"});let j=n;if(!j){const M=Ie(fe,"users",t.uid),W=await et(M);W.exists()&&(j=W.data())}const O=t.email||(j==null?void 0:j.email)||"No email available",I=e.name,C=e.age,S=e.personalityProfile||"No personality profile available yet.",P=e.interests&&e.interests.length>0?e.interests:[],k=i?await vx(t.uid,e.id,i):[],D=k.length>0?k.join(" "):"No previous context available.",R={parent:{email:O,uid:t.uid},child:{id:e.id,name:I,age:C,personalityProfile:S,interests:P},latestMessage:v},z=await fetch("https://sandbox-n8n.fly.dev/webhook/312f77df-6664-4cd7-aeac-896bb2238c92",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});let H;if(z.ok){const M=await z.json();Array.isArray(M)&&M.length>0?H=((T=M[0])==null?void 0:T.Reponse)||((A=M[0])==null?void 0:A.Response)||JSON.stringify(M):M&&typeof M=="object"?H=M.Reponse||M.Response||JSON.stringify(M):H=typeof M=="string"?M:JSON.stringify(M)}else{const M=await z.text();throw console.error("Webhook Error Response:",M),new Error(`Webhook call failed with status ${z.status}: ${M}`)}const Q={id:(Date.now()+1).toString(),content:H,type:"assistant",timestamp:new Date};i&&await Pa(t.uid,e.id,i,{content:H,type:"assistant"}),s(M=>[...M,Q]);const le=r.length+2;if(le>10&&le%10===0){const M=[...r,_,Q].slice(-10),W=await b(M);W&&i&&await yx(t.uid,e.id,i,W)}}catch(j){console.error("Error details:",j),console.error("Error stack:",j instanceof Error?j.stack:"No stack trace");const O={id:(Date.now()+1).toString(),content:`I'm having trouble connecting right now. Please try again later. Error: ${j instanceof Error?j.message:"Unknown error"}`,type:"assistant",timestamp:new Date};s(I=>[...I,O])}m(!1)};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle flex flex-col",children:[l.jsx("div",{className:`bg-card/80 backdrop-blur-sm border-b border-border/50 p-4 ${g.headerClass}`,children:l.jsx("div",{className:"container mx-auto flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:a,children:l.jsx(Qh,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center space-x-2",children:[g.icon,l.jsxs("div",{children:[l.jsx("h1",{className:"font-semibold text-foreground",children:g.title}),l.jsx("p",{className:"text-sm text-muted-foreground",children:g.subtitle})]})]})]})})}),l.jsxs("div",{className:"flex-1 container mx-auto p-4 space-y-6 overflow-y-auto",children:[r.map(E=>l.jsx("div",{className:`flex ${E.type==="user"?"justify-end":"justify-start"} fade-in-gentle`,children:l.jsxs("div",{className:`${E.type==="user"?"message-user":"message-assistant"} ${g.messageClass}`,children:[l.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-wrap",children:E.content}),l.jsxs("div",{className:"flex items-center mt-2 text-xs text-muted-foreground",children:[l.jsx(ja,{className:"w-3 h-3 mr-1"}),E.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})},E.id)),h&&l.jsx("div",{className:"flex justify-start fade-in-gentle",children:l.jsx("div",{className:`message-assistant ${g.messageClass}`,children:l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),l.jsx("div",{className:`bg-card/80 backdrop-blur-sm border-t border-border/50 p-4 ${g.headerClass}`,children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ga,{value:c,onChange:E=>d(E.target.value),placeholder:g.placeholder,className:"flex-1 border-border/50 focus:border-primary transition-gentle resize-none",onKeyDown:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),w())},disabled:h,rows:2}),l.jsx(oe,{variant:"warm",onClick:w,disabled:!c.trim()||h,className:"self-end",children:l.jsx(Jh,{className:"w-4 h-4"})})]})})})]})},Jm={ESTJ:"The Executive - Organized, decisive, and natural leaders who enjoy taking charge.",ENTJ:"The Commander - Strategic thinkers who are natural born leaders and love challenges.",ESFJ:"The Consul - Warm-hearted and popular, always eager to help others.",ENFJ:"The Protagonist - Charismatic and inspiring leaders who care deeply about others.",ESTP:"The Entrepreneur - Energetic and spontaneous, they love being active and social.",ENTP:"The Debater - Curious and clever, always looking for new possibilities.",ESFP:"The Entertainer - Spontaneous and enthusiastic, they love being around people.",ENFP:"The Campaigner - Creative and enthusiastic, with a strong people focus.",ISTJ:"The Logistician - Practical and methodical, they value tradition and reliability.",INTJ:"The Architect - Imaginative and strategic thinkers with a plan for everything.",ISFJ:"The Protector - Warm and considerate, always ready to help those they care about.",INFJ:"The Advocate - Creative and insightful, inspired by their values and beliefs.",ISTP:"The Virtuoso - Bold and practical, they love to experiment and explore.",INTP:"The Thinker - Innovative and curious, they love exploring theoretical concepts.",ISFP:"The Adventurer - Flexible and charming, they are guided by their values.",INFP:"The Mediator - Idealistic and loyal, they value inner harmony and personal values."},e8=()=>{var ce;const[t,e]=y.useState(null),[n,r]=y.useState(null),[s,i]=y.useState(null),[o,a]=y.useState([]),[c,d]=y.useState(!1),[h,m]=y.useState(null),[f,g]=y.useState({name:"",age:0,personalityProfile:"",interests:""}),[b,w]=y.useState(!0),[E,_]=y.useState(null),[v,T]=y.useState(null),[A,j]=y.useState(null),[O,I]=y.useState([]),[C,S]=y.useState(null),[P,k]=y.useState([]),[D,R]=y.useState(null),[z,H]=y.useState(new Set),Q=hr();y.useEffect(()=>{const B=$a(qe,async ee=>{if(!ee){Q("/login");return}e(ee);try{const{syncLocalDataToFirebase:K}=await BC(async()=>{const{syncLocalDataToFirebase:Se}=await Promise.resolve().then(()=>Y$);return{syncLocalDataToFirebase:Se}},void 0);await K(ee.uid)}catch(K){console.error("Error syncing offline data:",K)}try{const K=await xl(ee.uid);a(K);const Se=new Set;for(const ie of K)try{const ae=await Vg(ee.uid,ie.id);ae&&ae.length>0&&Se.add(ie.id)}catch(ae){console.error(`Error checking sessions for child ${ie.id}:`,ae)}H(Se);const Je=Ie(fe,"users",ee.uid),se=await et(Je);if(se.exists()){const ie=se.data(),ae=(ie==null?void 0:ie.planId)||"free";r(ae),i(ie);const Ce=Ie(fe,"plans",ae),_e=await et(Ce),Et=_e.exists()?_e.data():null,dt=(Et==null?void 0:Et.maxChildren)??1;let xe=0;for(const Ve of K)Ve.isFrozen||xe++;if(xe<dt){const Ve=K.filter(Ne=>Ne.isFrozen).slice(0,dt-xe);for(const Ne of Ve){const Mn=Ie(fe,"users",ee.uid,"children",Ne.id);await ur(Mn,{isFrozen:!1})}const Vt=await xl(ee.uid);a(Vt)}}}catch(K){console.error("Failed to fetch user data:",K)}finally{w(!1)}});return()=>B()},[Q]);const le=async()=>{const B=qe.currentUser;if(!(!B||!f.name||!f.age))try{const ee=Ie(fe,"users",B.uid),K=await et(ee),Se=K.exists()&&K.data().planId||"free",Je=Ie(fe,"plans",Se),se=await et(Je),ie=se.exists()?se.data():null,ae=(ie==null?void 0:ie.maxChildren)??1,Ce=(ie==null?void 0:ie.maxConversations)??0,_e=Xt(fe,"users",B.uid,"children");if((await gs(_e)).size>=ae){alert(`You've reached the child limit (${ae}) for your plan.`);return}await oi(_e,{name:f.name,age:Number(f.age),personalityProfile:f.personalityProfile,interests:f.interests.split(",").map(Ve=>Ve.trim()).filter(Boolean),remainingMessages:Ce});const xe=await xl(B.uid);a(xe),g({name:"",age:0,personalityProfile:"",interests:""}),d(!1)}catch(ee){console.error("Failed to add child:",ee)}},M=async()=>{const B=qe.currentUser;if(!(!B||!h))try{const ee=Ie(fe,"users",B.uid,"children",h.id);await ur(ee,{name:h.name,age:h.age,personalityProfile:h.personalityProfile,interests:h.interests||[]});const K=await xl(B.uid);a(K),m(null)}catch(ee){console.error("Failed to update child:",ee)}},W=async B=>{const ee=qe.currentUser;if(ee&&confirm("Are you sure you want to delete this child's profile?"))try{const K=Ie(fe,"users",ee.uid,"children",B);await jg(K);const Se=await xl(ee.uid);a(Se)}catch(K){console.error("Failed to delete child:",K)}},ne=async B=>{if(!E)return;if(E.id==="temp"){g(K=>({...K,personalityProfile:B}));try{const K=Ie(fe,"users",t.uid,"children","temp");await jg(K),console.log("Temp child deleted from Firestore after evaluation.")}catch(K){console.error("Failed to delete temp child:",K)}_(null);return}if(h&&h.id===E.id){m(K=>K?{...K,personalityProfile:B}:null),_(null);return}const ee=o.findIndex(K=>K.id===E.id);if(ee!==-1){const K=[...o];K[ee].personalityProfile=B,a(K)}_(null)},J=async(B,ee="children")=>{if(t){j(B),T(ee);try{const K=z.has(B.id),Se=ee==="parents";if(K){const ae=await Vg(t.uid,B.id);if(ae&&ae.length>0){const Ce=ae.filter(_e=>Se?_e.title.includes("Dad & Mom"):!_e.title.includes("Dad & Mom"));if(Ce.length>0){const _e=Ce[0];Se?R(_e.id):S(_e.id);const dt=(await KN(t.uid,B.id,_e.id)).map(xe=>({id:xe.id,content:xe.content,type:xe.type,timestamp:xe.timestamp}));Se?k(dt):I(dt);return}}}const Je=await GN(t.uid,B.id,`${ee==="parents"?"Dad & Mom":ee.charAt(0).toUpperCase()+ee.slice(1)} Chat with ${B.name} - ${new Date().toLocaleDateString()}`);Se?R(Je):S(Je);const se={children:`Hi! I'm here to help you with ${B.name}. How can I support you today?`,parents:"Welcome to Dad and Mom Mode! I'm here to provide immediate assistance/emergency response to any problem about your child. What would you like to ask?"},ie={id:"1",content:se[ee]||se.children,type:"assistant",timestamp:new Date};await Pa(t.uid,B.id,Je,{content:ie.content,type:"assistant"}),Se?k([ie]):I([ie]),H(ae=>new Set([...ae,B.id]))}catch(K){console.error("Error starting chat:",K);const Je={id:"1",content:ee==="parents"?"Welcome to Dad and Mom Mode! I'm here to provide immediate assistance/emergency response to any problem about your child. What would you like to ask?":`Hi! I'm here to help you with ${B.name}. How can I support you today?`,type:"assistant",timestamp:new Date};ee==="parents"?k([Je]):I([Je])}}},re=()=>{T(null),j(null),I([]),k([]),S(null),R(null)};if(b)return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[l.jsx(xn,{}),l.jsx("div",{className:"container mx-auto px-4 pt-20 text-center",children:l.jsx("p",{children:"Loading..."})}),l.jsx(wn,{})]});if(!t)return l.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Please log in to access your children's profiles"}),l.jsx(oe,{onClick:()=>Q("/login"),children:"Go to Login"})]})});if(v&&A&&t){if(v==="children")return l.jsx(J$,{user:t,selectedChild:A,userData:s,messages:O,setMessages:I,currentSessionId:C,onBackToChildren:re});if(v==="parents")return l.jsx(Z$,{user:t,selectedChild:A,userData:s,messages:P,setMessages:k,currentSessionId:D,parentMode:"parents",onBackToChildren:re})}return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle",children:[l.jsx(xn,{}),l.jsxs("div",{className:"container max-w-4xl mx-auto px-4 pt-10 pb-20 fade-in-gentle",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Children"}),l.jsxs(Th,{open:c,onOpenChange:d,children:[l.jsx(Y9,{asChild:!0,children:l.jsxs(oe,{className:"btn-warm flex items-center gap-2",children:[l.jsx(BT,{className:"w-4 h-4"}),"Add Child"]})}),l.jsxs(Ic,{className:"sm:max-w-md",children:[l.jsx(Pc,{children:l.jsx(Nc,{children:"Add New Child"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Be,{placeholder:"Child's Name",value:f.name,onChange:B=>g({...f,name:B.target.value})}),l.jsx(Be,{type:"number",placeholder:"Age",min:0,max:99,value:f.age.toString(),onChange:B=>{const ee=B.target.value,K=Number(ee);!isNaN(K)&&K>=0&&K<=99&&g({...f,age:K})}}),f.personalityProfile?l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"text-sm font-medium text-foreground",children:["Personality Profile: ",f.personalityProfile.includes("|")?f.personalityProfile.split("|")[0]:f.personalityProfile]}),l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:Jm[f.personalityProfile.includes("|")?f.personalityProfile.split("|")[0]:f.personalityProfile]})]}),l.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>{const B={id:"temp",name:f.name||"New Child",age:Number(f.age)||0,personalityProfile:f.personalityProfile,interests:f.interests.split(",").map(ee=>ee.trim()).filter(Boolean)};_(B)},className:"text-xs ml-2",children:"Update"})]}),f.personalityProfile.includes("|")&&l.jsx("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:" Enhanced with AI Analysis"})]}):l.jsx(oe,{variant:"outline",className:"w-full mb-3 justify-start text-left",onClick:()=>{const B={id:"temp",name:f.name||"New Child",age:Number(f.age)||0,personalityProfile:f.personalityProfile,interests:f.interests.split(",").map(ee=>ee.trim()).filter(Boolean)};_(B)},children:"Evaluate Personality Profile"}),l.jsx(Be,{placeholder:"Interests (comma-separated)",value:f.interests,onChange:B=>g({...f,interests:B.target.value})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(oe,{onClick:le,className:"btn-warm flex-1",children:"Add Child"}),l.jsx(oe,{variant:"outline",onClick:()=>d(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]}),o.length===0?l.jsxs(Ue,{className:"p-8 text-center shadow-gentle",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:"No Children Added Yet"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:"Add your first child to start receiving personalized parenting advice."}),l.jsx(oe,{onClick:()=>d(!0),className:"btn-warm",children:"Add Your First Child"})]}):l.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:o.map(B=>l.jsxs(Ue,{className:"p-6 shadow-gentle",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold text-foreground",children:B.name||"Unnamed Child"}),l.jsxs("p",{className:"text-muted-foreground",children:["Age: ",B.age||"Not specified"]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>m(B),children:l.jsx(q2,{className:"w-4 h-4"})}),l.jsx(oe,{size:"sm",variant:"ghost",onClick:()=>W(B.id),disabled:B.isFrozen,children:l.jsx(Q2,{className:"w-4 h-4"})})]})]}),B.personalityProfile&&l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"text-sm font-medium text-foreground",children:["Personality Profile: ",B.personalityProfile.includes("|")?B.personalityProfile.split("|")[0]:B.personalityProfile]}),l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:Jm[B.personalityProfile.includes("|")?B.personalityProfile.split("|")[0]:B.personalityProfile]})]}),l.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>_(B),className:"text-xs ml-2",children:"Update"})]}),B.personalityProfile.includes("|")&&l.jsx("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:" Enhanced with AI Analysis"})]}),B.interests&&B.interests.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("p",{className:"text-sm font-medium text-foreground",children:"Interests:"}),l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:B.interests.map((ee,K)=>l.jsx("span",{className:"px-2 py-1 bg-primary/10 text-primary text-xs rounded-full",children:ee},K))})]}),l.jsx("div",{className:"mb-4",children:l.jsx(X$,{childId:B.id})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(oe,{variant:"warm",className:"w-full",onClick:()=>J(B,"children"),disabled:!B.personalityProfile,children:[l.jsx(Xh,{className:"w-4 h-4 mr-2"}),z.has(B.id)?"Continue Chat":"Start Chat"]}),l.jsxs(oe,{variant:"outline",className:"w-full",onClick:()=>J(B,"parents"),disabled:!B.personalityProfile,children:[l.jsx(Yh,{className:"w-4 h-4 mr-2"}),"Dad & Mom Mode"]})]}),!B.personalityProfile&&l.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Complete personality profile to start chatting"})]},B.id))}),l.jsx(Th,{open:!!h,onOpenChange:()=>m(null),children:l.jsxs(Ic,{className:"sm:max-w-md",children:[l.jsx(Pc,{children:l.jsx(Nc,{children:"Edit Child"})}),h&&l.jsxs("div",{className:"space-y-4",children:[l.jsx(Be,{placeholder:"Child's Name",value:h.name,onChange:B=>m({...h,name:B.target.value})}),l.jsx(Be,{type:"number",placeholder:"Age",min:0,max:99,value:h.age.toString(),onChange:B=>{const ee=B.target.value,K=Number(ee);!isNaN(K)&&K>=0&&K<=99&&m({...h,age:K})}}),h.personalityProfile?l.jsxs("div",{className:"mb-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"text-sm font-medium text-foreground",children:["Personality Profile: ",h.personalityProfile.includes("|")?h.personalityProfile.split("|")[0]:h.personalityProfile]}),l.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:Jm[h.personalityProfile.includes("|")?h.personalityProfile.split("|")[0]:h.personalityProfile]})]}),l.jsx(oe,{variant:"ghost",size:"sm",onClick:()=>_(h),className:"text-xs ml-2",children:"Update"})]}),h.personalityProfile.includes("|")&&l.jsx("div",{className:"text-xs text-green-600 bg-green-50 p-2 rounded",children:" Enhanced with AI Analysis"})]}):l.jsx(oe,{variant:"outline",className:"w-full mb-3 justify-start text-left",onClick:()=>{_(h)},children:"Evaluate Personality Profile"}),l.jsx(Be,{placeholder:"Interests (comma-separated)",value:((ce=h.interests)==null?void 0:ce.join(", "))||"",onChange:B=>m({...h,interests:B.target.value.split(",").map(ee=>ee.trim()).filter(Boolean)})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(oe,{onClick:M,className:"btn-warm flex-1",disabled:h.isFrozen,children:"Save Changes"}),l.jsx(oe,{variant:"outline",onClick:()=>m(null),className:"flex-1",children:"Cancel"})]})]})]})}),l.jsxs(Ue,{className:"mt-12 p-6 shadow-gentle",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx(K2,{className:"w-5 h-5 text-primary"}),l.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Account Settings"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(oe,{variant:"outline",className:"w-full justify-start",onClick:()=>{n?Q(`/account-update?plan=${n}`):alert("Plan information is still loading. Please try again.")},children:"Update Account Information"}),l.jsx(oe,{variant:"outline",className:"w-full justify-start",onClick:()=>Q("/pricing"),children:"Manage Subscription"})]})]})]}),l.jsx(wn,{}),l.jsx(qN,{isOpen:!!E,onClose:()=>_(null),onComplete:ne,childName:(E==null?void 0:E.name)||"",userId:(t==null?void 0:t.uid)||"",childId:(E==null?void 0:E.id)||""})]})},t8=()=>{const t=hr(),[e,n]=y.useState([{id:"1",content:"Hello! I'm your parenting assistant. How can I help you today?",type:"assistant",timestamp:new Date}]),[r,s]=y.useState(""),[i,o]=y.useState(!1),a=async()=>{if(!r.trim())return;const c={id:Date.now().toString(),content:r,type:"user",timestamp:new Date};n(h=>[...h,c]);const d=r;s(""),o(!0);try{const h="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",m=`This is what the user said: ${d}

Send a response.`,f=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${h}`,"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:m},{role:"user",content:""}],max_tokens:200,temperature:.7})});let g;if(f.ok)g=(await f.json()).choices[0].message.content;else throw new Error("API call failed");const b={id:(Date.now()+1).toString(),content:g,type:"assistant",timestamp:new Date};n(w=>[...w,b])}catch(h){console.error("Error getting response:",h);const m={id:(Date.now()+1).toString(),content:"API KEY ERROR: OpenAI API key not found in environment variables or API call failed. Please check that OPENAI_API_KEY is properly set in Secrets.",type:"assistant",timestamp:new Date};n(f=>[...f,m])}o(!1)};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle flex flex-col",children:[l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-b border-border/50 p-4",children:l.jsx("div",{className:"container mx-auto flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(oe,{variant:"ghost",size:"icon",onClick:()=>t("/"),children:l.jsx(Qh,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"font-semibold text-foreground",children:"Parenting Chat"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Get parenting advice and support"})]})]})})}),l.jsxs("div",{className:"flex-1 container mx-auto p-4 space-y-6 overflow-y-auto",children:[e.map(c=>l.jsx("div",{className:`flex ${c.type==="user"?"justify-end":"justify-start"} fade-in-gentle`,children:l.jsxs("div",{className:c.type==="user"?"message-user":"message-assistant",children:[l.jsx("p",{className:"text-foreground leading-relaxed whitespace-pre-wrap",children:c.content}),l.jsxs("div",{className:"flex items-center mt-2 text-xs text-muted-foreground",children:[l.jsx(ja,{className:"w-3 h-3 mr-1"}),c.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})},c.id)),i&&l.jsx("div",{className:"flex justify-start fade-in-gentle",children:l.jsx("div",{className:"message-assistant",children:l.jsxs("div",{className:"flex space-x-1",children:[l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),l.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]}),l.jsx("div",{className:"bg-card/80 backdrop-blur-sm border-t border-border/50 p-4",children:l.jsx("div",{className:"container mx-auto",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(Ga,{value:r,onChange:c=>s(c.target.value),placeholder:"Ask your parenting question...",className:"flex-1 border-border/50 focus:border-primary transition-gentle resize-none",onKeyPress:c=>c.key==="Enter"&&!c.shiftKey&&(c.preventDefault(),a()),disabled:i,rows:2}),l.jsx(oe,{variant:"warm",onClick:a,disabled:!r.trim()||i,className:"self-end",children:l.jsx(Jh,{className:"w-4 h-4"})})]})})})]})},n8=()=>{const[t,e]=y.useState(""),[n,r]=y.useState(!1),[s,i]=y.useState(!1),o=Mr(),a=hr();y.useEffect(()=>{new URLSearchParams(o.search).get("notice")==="resent"&&e("Verification email resent! Please check your inbox.")},[o.search]),y.useEffect(()=>{const h=$a(qe,async m=>{if(m&&!m.emailVerified){if(i(!0),await dC(m),m.emailVerified){const f=Ie(fe,"users",m.uid);await ur(f,{emailVerified:!0}),a("/email-verified")}i(!1)}});return()=>h()},[a]);const c=async()=>{const h=qe.currentUser;if(!h){e("You are not logged in.");return}r(!0),e("");try{await AC(h),e("Verification email resent! Please check your inbox.")}catch(m){e(m.message||"Failed to resend email.")}finally{r(!1)}},d=()=>{a("/login")};return l.jsxs("div",{className:"min-h-screen bg-gradient-subtle flex flex-col",children:[l.jsx(xn,{}),l.jsx("main",{className:"flex-1 flex items-center justify-center px-4",children:l.jsxs(Ue,{className:"w-full max-w-md p-8 shadow-gentle border-0 bg-card/50 backdrop-blur-sm",children:[l.jsx("h1",{className:"text-2xl font-semibold text-center mb-4",children:"Verify Your Email"}),l.jsx("p",{className:"text-sm text-foreground mb-4 text-center",children:"Weve sent a verification link to your email. Please check your inbox and verify before logging in (check your spam)."}),s&&l.jsx("p",{className:"text-sm text-blue-500 text-center mb-4",children:"Checking verification status..."}),t&&l.jsx("p",{className:"text-sm text-green-600 text-center mb-4",children:t}),l.jsx(oe,{onClick:c,variant:"warm",className:"w-full mb-2",disabled:n,children:n?"Resending...":"Resend Verification Email"}),l.jsx("a",{href:"https://mail.google.com",target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center bg-blue-500 hover:bg-blue-600 text-white text-sm py-2 rounded mb-2 transition-colors",children:"Open Gmail"}),l.jsx(oe,{onClick:d,variant:"ghost",className:"w-full text-sm",children:"Back to Login"})]})}),l.jsx(wn,{})]})},r8=new sM,s8=()=>l.jsx(oM,{client:r8,children:l.jsxs(OO,{children:[l.jsx(Rj,{}),l.jsx(oD,{}),l.jsx(I$,{children:l.jsx(t4,{children:l.jsxs(KM,{children:[l.jsx(qt,{path:"/",element:l.jsx(e$,{})}),l.jsx(qt,{path:"/login",element:l.jsx(P$,{})}),l.jsx(qt,{path:"/register",element:l.jsx(N$,{})}),l.jsx(qt,{path:"/verify-email",element:l.jsx(n8,{})}),l.jsx(qt,{path:"/about",element:l.jsx(t$,{})}),l.jsx(qt,{path:"/pricing",element:l.jsx(SP,{})}),l.jsx(qt,{path:"/contact",element:l.jsx(n$,{})}),l.jsx(qt,{path:"/terms",element:l.jsx(r$,{})}),l.jsx(qt,{path:"/privacy",element:l.jsx(s$,{})}),l.jsx(qt,{path:"/faq",element:l.jsx(S$,{})}),l.jsx(qt,{path:"/account-update",element:l.jsx(H$,{})}),l.jsx(qt,{path:"/checkout",element:l.jsx(K$,{})}),l.jsx(qt,{path:"/my-children",element:l.jsx(e8,{})}),l.jsx(qt,{path:"/chat",element:l.jsx(t8,{})}),l.jsx(qt,{path:"*",element:l.jsx(C$,{})})]})})})]})});hT(document.getElementById("root")).render(l.jsx(s8,{}));export{to as C,$c as E,hs as F,Zy as L,xa as _,tv as a,rC as b,p8 as c,eo as d,S4 as e,m8 as f,_t as g,_4 as i,eL as o,ri as r,C4 as v};
